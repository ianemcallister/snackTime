function confirmationController(t){}function landingController(t,e,r,n,o,i){function c(){i.getSqrAppId().then(function(t){s.model.apis.squareId=t.id})["catch"](function(t){})}var s=this;s.model=o,t.$watch("vm.model.shipping.address.zip",function(t,e){s.model.copyShippingAddress&&(s.model.billing.address.zip=t)}),t.$watch("vm.model.shipping.address.city",function(t,e){s.model.copyShippingAddress&&(s.model.billing.address.city=t)}),t.$watch("vm.model.shipping.address.state",function(t,e){s.model.copyShippingAddress&&(s.model.billing.address.state=t)}),t.$watch("vm.model.shipping.address.street1",function(t,e){s.model.copyShippingAddress&&(s.model.billing.address.street1=t)}),t.$watch("vm.model.shipping.address.street2",function(t,e){s.model.copyShippingAddress&&(s.model.billing.address.street2=t)}),t.$watch("vm.model.shipping.address.street3",function(t,e){s.model.copyShippingAddress&&(s.model.billing.address.street3=t)}),s.copyShippingAddress=function(t){t?s.model.billing.address=s.model.shipping.address:s.model.billing.address=o.billing.address},s.submitForm=function(t){e.info("submitting",t),i.submitSale(s.model).then(function(t){e.info(t),r.path("/confirmation/?tesing=goodTest"),n.$apply()})["catch"](function(t){e.info(t)}),r.path("/processing")},c()}function processingController(t,e){}function billingInfo(){function t(t,e,r,n){}function e(t,e){var r=this;r.toggleAddressCopy=function(t){r.copyShipping()(t)}}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/billingInfo.directive.htm",replace:!0,scope:{address:"=",payment:"=",copyShippingAddress:"=",copyShipping:"&"},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log"],r}function ccCSV(){function t(t,e,r,n){}function e(t,e){}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/ccCSV.directive.htm",replace:!0,scope:{},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log"],r}function ccCapture(){function t(t,e,r,n){}function e(t,e,r){var n=this;n.data={card:{}},n.submitForm=function(){return e.info("submitting",n.data),n.isProcessing=!0,n.paymentForm.requestCardNonce(),!1},n.chargeCardWithNonce=function(t){var o="/charges/charge_card",i={nonce:t,product_id:1123,name:"John Smith",street_address_1:"1234 Main Street",street_address_2:"",city:n.cityName,state:n.stateId,zip:n.zip};r.chargeCard(o,i).then(function(t){e.info("response",t)})["catch"](function(t){e.info("error",t)})};var o=function(){r.getSqrAppId().then(function(r){n.paymentForm=new SqPaymentForm({applicationId:r.id,inputClass:"sq-input",inputStyles:[{fontSize:"14px",padding:"7px 12px",backgroundColor:"transparent"}],cardNumber:{elementId:"sq-card-number",placeholder:"•••• •••• •••• ••••"},cvv:{elementId:"sq-cvv",placeholder:"CVV"},expirationDate:{elementId:"sq-expiration-date",placeholder:"MM/YY"},postalCode:{elementId:"sq-postal-code"},callbacks:{cardNonceResponseReceived:function(r,o,i){r?(e.info("Encountered errors:",r),n.card_errors=r,n.isProcessing=!1,t.$apply()):(n.card_errors=[],alert("Nonce received: "+o),n.chargeCardWithNonce(o))},unsupportedBrowserDetected:function(){},inputEventReceived:function(t){switch(t.eventType){case"focusClassAdded":break;case"focusClassRemoved":break;case"errorClassAdded":break;case"errorClassRemoved":break;case"cardBrandChanged":break;case"postalCodeChanged":}},paymentFormLoaded:function(){}}}),n.paymentForm.build()})["catch"](function(t){e.info(t)})};o()}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/ccCapture.directive.htm",replace:!0,scope:{isProcessing:"=",zip:"=",stateId:"=",cityName:"="},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log","server"],r}function ccExp(){function t(t,e,r,n){}function e(t,e){}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/ccExp.directive.htm",replace:!0,scope:{},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log"],r}function ccName(){function t(t,e,r,n){}function e(t,e){}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/ccName.directive.htm",replace:!0,scope:{},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log"],r}function ccNumber(){function t(t,e,r,n){}function e(t,e){}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/ccNumber.directive.htm",replace:!0,scope:{},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log"],r}function city(){function t(t,e,r,n){}function e(t,e){}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/city.directive.htm",replace:!0,scope:{cityName:"="},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log"],r}function contactInfo(){function t(t,e,r,n){}function e(t,e){}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/contactInfo.directive.htm",replace:!0,scope:{name:"=",email:"="},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log"],r}function emailAddress(){function t(t,e,r,n){}function e(t,e){}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/emailAddress.directive.htm",replace:!0,scope:{email:"="},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log"],r}function firstName(){function t(t,e,r,n){}function e(t,e,r){var n=this;n.state={container:{classes:r.initClasses("container"),styles:r.initStyles("container")},input:{classes:r.initClasses("input"),styles:r.initStyles("container")}},n.validate=function(t,e){}}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/firstName.directive.htm",replace:!0,scope:{first:"="},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log","stateData"],r}function lastName(){function t(t,e,r,n){}function e(t,e){}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/lastName.directive.htm",replace:!0,scope:{last:"="},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log"],r}function productSelection(){function t(t,e,r,n){}function e(t,e){var r=this;r.calculateSubtotal=function(){r.subtotal=r.qty*r.price},r.decrement=function(){r.qty>1&&(r.qty=r.qty-1),r.calculateSubtotal()},r.increment=function(){r.qty=r.qty+1,r.calculateSubtotal()}}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/productSelection.directive.htm",replace:!0,scope:{qty:"=",price:"=",subtotal:"="},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log"],r}function progressBar(){function t(t,e,r,n){}function e(t,e){}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/progressBar.directive.htm",replace:!0,scope:{},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log"],r}function purchaseBtn(){function t(t,e,r,n){}function e(t,e){}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/purchaseBtn.directive.htm",replace:!0,scope:{submitForm:"&"},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log"],r}function shippingCalculator(){function t(t,e,r,n){}function e(t,e){}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/shippingCalculator.directive.htm",replace:!0,scope:{serviceClass:"=",cost:"="},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log"],r}function shippingInfo(){function t(t,e,r,n){}function e(t,e,r){var n=this;n.calculateShipping=function(t){e.info("calculating the info now",t),r.postageCalculator(t,n.qty).then(function(t){n.requirnments.dataAquired=!0,e.info("got this back from postageCalculator",t,n.requirnments.dataAquired)})["catch"](function(t){e.info("got this error from the postageCalculator",t)})}}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/shippingInfo.directive.htm",replace:!0,scope:{address:"=",requirnments:"=",cost:"=",qty:"="},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log","server"],r}function state(){function t(t,e,r,n){}function e(t,e){}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/state.directive.htm",replace:!0,scope:{stateId:"="},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log"],r}function street(){function t(t,e,r,n){}function e(t,e){}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/street.directive.htm",replace:!0,scope:{streetAddress:"="},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log"],r}function toolBar(){function t(t,e,r,n){}function e(t,e){}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/toolBar.directive.htm",replace:!0,scope:{},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log"],r}function yourName(){function t(t,e,r,n){}function e(t,e){}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/yourName.directive.htm",replace:!0,scope:{name:"="},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log"],r}function zipCode(){function t(t,e,r,n){}function e(t,e,r,n,o){function i(t){var e=!1;return"undefined"!=typeof t&&t.length>=5&&(e=!0),e}function c(){a.state.container.classes=o.updateState("container","success"),a.state.input.classes=o.updateState("input","success")}function s(){a.state.container.classes["has-success"]=!1,a.state.container.classes["has-warning"]=!0,a.state.container.classes["has-danger"]=!1,a.state.input.classes["form-control-success"]=!1,a.state.input.classes["form-control-warning"]=!0,a.state.input.classes["form-control-danger"]=!1}function l(t){return new Promise(function(r,o){n.cityStateLookup(t).then(function(t){e.info("got this response",t),r(t)})["catch"](function(t){e.info("got this error",t),o(t)})})}var a=this;a.valStages=o.initValStages(),a.state={container:{classes:o.initClasses("container"),styles:o.initStyles("container")},input:{classes:o.initClasses("input"),styles:o.initStyles("container")}},a.validate=function(t){a.valStages.attempted&&(i(t)?(c(),l(t).then(function(t){a.cityName=t.zipCode.city,a.stateId=t.zipCode.state,r.$apply()})["catch"](function(t){e.info("there was an error")}),a.calculateShipping()({start:"97005",end:a.zip})):s())},a.submit=function(t){a.valStages.attempted=!0,a.validate(t)}}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/zipCode.directive.htm",replace:!0,scope:{uniqueId:"=",zip:"=",cityName:"=",stateId:"=",calculateShipping:"&"},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log","$rootScope","server","stateData"],r}function dataModel(t){function e(t){}function r(t,e){}function n(t){}function o(t,e){}var i={name:{first:"",last:""},email:"",copyShippingAddress:!0,product:{price:2e3},order:{qty:1,cost:{subtotal:2e3,tax:0,discounts:{promotions:[],totalValue:0},total:0}},shipping:{address:{street1:"",street2:"",street3:"",city:"",state:"",zip:""},requirnments:{isPriority:"true",dataAquired:!1,priority:{transitDays:0,cost:{amount:0,currency:"USD"}},express:{transitDays:0,cost:{amount:0,currency:"USD"}}},cost:{amount:645,currency:"USD"}},billing:{address:{street1:"",street2:"",street3:"",city:"",state:"",zip:""},payment:{number:["","","",""],exp:["",""],csv:""}},apis:{squareId:""},_read:e,_update:r,readProp:n,updateProp:o};return i}function stateFactory(t){var e={model:{allElementsCompleted:!1,fields:[],input:{prop:{name:"",requirnments:[]},state:{addressed:!1,success:!1,failure:!1}}},classes:{"form-group":!1,"has-success":!1,"has-warning":!1,"has-danger":!1,"form-control-label":!1,"form-control":!1,"form-control-success":!1,"form-control-warning":!1,"form-control-danger":!1,"form-control-feedback":!1,"form-text":!1,"text-muted":!1},styles:{},changeState:{inputSuccess:"",inputFailed:""}};return e}function config(t){t.when("/",{templateUrl:"views/landingPage.htm",controller:"landingController",controllerAs:"vm"}).when("/processing",{templateUrl:"views/processing.htm",controller:"processingController",controllerAs:"vm"}).when("/confirmation",{templateUrl:"views/confirmation.htm",controller:"confirmationController",controllerAs:"vm"})}function getAuthId(t){return new Promise(function(e,r){t.getSqrAppId().then(function(t){e(t.id)})["catch"](function(t){r(t)})})}function server(t,e){var r=this;r._get=function(t){return new Promise(function(r,n){e.get(t).then(function(t){r(t.data)},function(t){n(t)})})},r._post=function(r,n,o){return t.info("url",r,"data",n),new Promise(function(t,i){e.post(r,n,o).then(function(e){t(e)},function(t){i(t)})})},r.chargeCard=function(t,e){return new Promise(function(n,o){r._post(t,e,{}).then(function(t){n(t)})["catch"](function(t){o(t)})})},r.getSqrAppId=function(){return new Promise(function(t,e){r._get("/api/squareId").then(function(e){t(e)})["catch"](function(t){e(t)})})},r.cityStateLookup=function(t){var e="/api/zipcheck/"+t;return new Promise(function(t,n){r._get(e).then(function(e){t(e)})["catch"](function(t){n(t)})})},r.postageCalculator=function(e,n){t.info("got these data points. zipPoints:",e,"qty",n);var o="/api/calcPostage/"+e.start+"/"+e.end+"/"+n;return new Promise(function(e,n){r._get(o).then(function(r){t.info("got this response",r),e(r)})["catch"](function(t){n(t)})})},r.submitSale=function(e){t.info("submitting sale");var n={"Content-Type":"application/x-www-form-urlencoded;charset=utf-8;"};return new Promise(function(t,o){r._post("/api/order",e,n).then(function(e){t(e)})["catch"](function(t){o(t)})})}}function stateData(t){var e=this;e.valStages={attempted:!1,successful:!1,failed:!0},e.classes={container:{"has-success":!1,"has-warning":!1,"has-danger":!1},input:{"form-control-success":!1,"form-control-warning":!1,"form-control-danger":!1}},e.styles={container:{},input:{}},e.initValStages=function(){return e.valStages},e.initClasses=function(t){return e.classes[t]},e.initStyles=function(t){return e.styles[t]},e.updateState=function(t,r){var n=e.classes[t];return Object.keys(n).forEach(function(t){var e=t.split("-");e.forEach(function(e){e==r?n[t]=!0:n[t]=!1})}),n}}config.$inject=["$routeProvider"];var trumpsNuts=angular.module("trumpsNuts",["ngRoute"]);angular.module("trumpsNuts").controller("confirmationController",confirmationController),confirmationController.$inject=["$log"],angular.module("trumpsNuts").controller("landingController",landingController),landingController.$inject=["$scope","$log","$location","$rootScope","dataModel","server"],angular.module("trumpsNuts").controller("processingController",processingController),processingController.$inject=["$log","test"],angular.module("trumpsNuts").directive("billingInfo",billingInfo),angular.module("trumpsNuts").directive("ccCSV",ccCSV),angular.module("trumpsNuts").directive("ccCapture",ccCapture),angular.module("trumpsNuts").directive("ccExp",ccExp),angular.module("trumpsNuts").directive("ccName",ccName),angular.module("trumpsNuts").directive("ccNumber",ccNumber),angular.module("trumpsNuts").directive("city",city),angular.module("trumpsNuts").directive("contactInfo",contactInfo),angular.module("trumpsNuts").directive("emailAddress",emailAddress),angular.module("trumpsNuts").directive("firstName",firstName),angular.module("trumpsNuts").directive("lastName",lastName),angular.module("trumpsNuts").directive("productSelection",productSelection),angular.module("trumpsNuts").directive("progressBar",progressBar),angular.module("trumpsNuts").directive("purchaseBtn",purchaseBtn),angular.module("trumpsNuts").directive("shippingCalculator",shippingCalculator),angular.module("trumpsNuts").directive("shippingInfo",shippingInfo),angular.module("trumpsNuts").directive("state",state),angular.module("trumpsNuts").directive("street",street),angular.module("trumpsNuts").directive("toolBar",toolBar),angular.module("trumpsNuts").directive("yourName",yourName),angular.module("trumpsNuts").directive("zipCode",zipCode),angular.module("trumpsNuts").factory("dataModel",dataModel),dataModel.$inject=["$log"],angular.module("trumpsNuts").factory("stateFactory",stateFactory),stateFactory.$inject=["$log"],angular.module("trumpsNuts").config(config),angular.module("trumpsNuts").service("server",server),server.$inject=["$log","$http"],angular.module("trumpsNuts").service("stateData",stateData),stateData.$inject=["$log"];
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdHMvY29udHJvbGxlcnMvY29uZmlybWF0aW9uLmNvbnRyb2xsZXIuanMiLCJzY3JpcHRzL2NvbnRyb2xsZXJzL2xhbmRpbmcuY29udHJvbGxlci5qcyIsInNjcmlwdHMvY29udHJvbGxlcnMvcHJvY2Vzc2luZy5jb250cm9sbGVyLmpzIiwiYnVuZGxlLmpzIiwic2NyaXB0cy9kaXJlY3RpdmVzL2JpbGxpbmdJbmZvLmRpcmVjdGl2ZS5qcyIsInNjcmlwdHMvZGlyZWN0aXZlcy9jY0NTVi5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2RpcmVjdGl2ZXMvY2NDYXB0dXJlLmRpcmVjdGl2ZS5qcyIsInNjcmlwdHMvZGlyZWN0aXZlcy9jY0V4cC5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2RpcmVjdGl2ZXMvY2NOYW1lLmRpcmVjdGl2ZS5qcyIsInNjcmlwdHMvZGlyZWN0aXZlcy9jY051bWJlci5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2RpcmVjdGl2ZXMvY2l0eS5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2RpcmVjdGl2ZXMvY29udGFjdEluZm8uZGlyZWN0aXZlLmpzIiwic2NyaXB0cy9kaXJlY3RpdmVzL2VtYWlsQWRkcmVzcy5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2RpcmVjdGl2ZXMvZmlyc3ROYW1lLmRpcmVjdGl2ZS5qcyIsInNjcmlwdHMvZGlyZWN0aXZlcy9sYXN0TmFtZS5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2RpcmVjdGl2ZXMvcHJvZHVjdFNlbGVjdGlvbi5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2RpcmVjdGl2ZXMvcHJvZ3Jlc3NCYXIuZGlyZWN0aXZlLmpzIiwic2NyaXB0cy9kaXJlY3RpdmVzL3B1cmNoYXNlQnRuLmRpcmVjdGl2ZS5qcyIsInNjcmlwdHMvZGlyZWN0aXZlcy9zaGlwcGluZ0NhbGN1bGF0b3IuZGlyZWN0aXZlLmpzIiwic2NyaXB0cy9kaXJlY3RpdmVzL3NoaXBwaW5nSW5mby5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2RpcmVjdGl2ZXMvc3RhdGUuZGlyZWN0aXZlLmpzIiwic2NyaXB0cy9kaXJlY3RpdmVzL3N0cmVldC5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2RpcmVjdGl2ZXMvdG9vbGJhci5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2RpcmVjdGl2ZXMveW91ck5hbWUuZGlyZWN0aXZlLmpzIiwic2NyaXB0cy9kaXJlY3RpdmVzL3ppcENvZGUuZGlyZWN0aXZlLmpzIiwic2NyaXB0cy9mYWN0b3JpZXMvZGF0YU1vZGVsLmZhY3RvcnkuanMiLCJzY3JpcHRzL2ZhY3Rvcmllcy9zdGF0ZS5mYWN0b3J5LmpzIiwic2NyaXB0cy9yb3V0ZXMvcm91dGUtY29uZmlnLmpzIiwic2NyaXB0cy9zZXJ2aWNlcy9zZXJ2ZXIuc2VydmljZS5qcyIsInNjcmlwdHMvc2VydmljZXMvc3RhdGVEYXRhLnNlcnZpY2UuanMiLCJzY3JpcHRzL2FwcC5qcyJdLCJuYW1lcyI6WyJjb25maXJtYXRpb25Db250cm9sbGVyIiwiJGxvZyIsImxhbmRpbmdDb250cm9sbGVyIiwiJHNjb3BlIiwiJGxvY2F0aW9uIiwiJHJvb3RTY29wZSIsImRhdGFNb2RlbCIsInNlcnZlciIsImluaXQiLCJnZXRTcXJBcHBJZCIsInRoZW4iLCJyZXNwb25zZSIsInZtIiwibW9kZWwiLCJhcGlzIiwic3F1YXJlSWQiLCJpZCIsImVyciIsInRoaXMiLCIkd2F0Y2giLCJjdXJyZW50Iiwib3JpZ2luYWwiLCJjb3B5U2hpcHBpbmdBZGRyZXNzIiwiYmlsbGluZyIsImFkZHJlc3MiLCJ6aXAiLCJjaXR5Iiwic3RhdGUiLCJzdHJlZXQxIiwic3RyZWV0MiIsInN0cmVldDMiLCJidG5TdGF0ZSIsInNoaXBwaW5nIiwic3VibWl0Rm9ybSIsInZhbHVlIiwiaW5mbyIsInN1Ym1pdFNhbGUiLCJwYXRoIiwiJGFwcGx5IiwiZXJyb3IiLCJwcm9jZXNzaW5nQ29udHJvbGxlciIsInRlc3QiLCJiaWxsaW5nSW5mbyIsImxpbmtGdW5jIiwic2NvcGUiLCJlbCIsImF0dHIiLCJjdHJsIiwiYmlsbGluZ0luZm9Db250cm9sbGVyIiwidG9nZ2xlQWRkcmVzc0NvcHkiLCJjb3B5U2hpcHBpbmciLCIkaW5qZWN0IiwiZGlyZWN0aXZlIiwicmVzdHJpY3QiLCJ0ZW1wbGF0ZVVybCIsInJlcGxhY2UiLCJwYXltZW50IiwibGluayIsImNvbnRyb2xsZXIiLCJjb250cm9sbGVyQXMiLCJiaW5kVG9Db250cm9sbGVyIiwiY2NDU1YiLCJjY0NTVkNvbnRyb2xsZXIiLCJjY0NhcHR1cmUiLCJjY0NhcHR1cmVDb250cm9sbGVyIiwiZGF0YSIsImNhcmQiLCJpc1Byb2Nlc3NpbmciLCJwYXltZW50Rm9ybSIsInJlcXVlc3RDYXJkTm9uY2UiLCJjaGFyZ2VDYXJkV2l0aE5vbmNlIiwibm9uY2UiLCJ1cmwiLCJwcm9kdWN0X2lkIiwibmFtZSIsInN0cmVldF9hZGRyZXNzXzEiLCJzdHJlZXRfYWRkcmVzc18yIiwiY2l0eU5hbWUiLCJzdGF0ZUlkIiwiY2hhcmdlQ2FyZCIsIlNxUGF5bWVudEZvcm0iLCJhcHBsaWNhdGlvbklkIiwiaW5wdXRDbGFzcyIsImlucHV0U3R5bGVzIiwiZm9udFNpemUiLCJwYWRkaW5nIiwiYmFja2dyb3VuZENvbG9yIiwiY2FyZE51bWJlciIsImVsZW1lbnRJZCIsInBsYWNlaG9sZGVyIiwiY3Z2IiwiZXhwaXJhdGlvbkRhdGUiLCJwb3N0YWxDb2RlIiwiY2FsbGJhY2tzIiwiY2FyZE5vbmNlUmVzcG9uc2VSZWNlaXZlZCIsImVycm9ycyIsImNhcmREYXRhIiwiY2FyZF9lcnJvcnMiLCJhbGVydCIsInVuc3VwcG9ydGVkQnJvd3NlckRldGVjdGVkIiwiaW5wdXRFdmVudFJlY2VpdmVkIiwiaW5wdXRFdmVudCIsImV2ZW50VHlwZSIsInBheW1lbnRGb3JtTG9hZGVkIiwiYnVpbGQiLCJjY0V4cCIsImNjRXhwQ29udHJvbGxlciIsImNjTmFtZSIsImNjTmFtZUNvbnRyb2xsZXIiLCJjY051bWJlciIsImNjTnVtYmVyQ29udHJvbGxlciIsImNpdHlDb250cm9sbGVyIiwiY29udGFjdEluZm8iLCJjb250YWN0SW5mb0NvbnRyb2xsZXIiLCJlbWFpbCIsImVtYWlsQWRkcmVzcyIsImVtYWlsQWRkcmVzc0NvbnRyb2xsZXIiLCJmaXJzdE5hbWUiLCJmaXJzdE5hbWVDb250cm9sbGVyIiwic3RhdGVEYXRhIiwiY29udGFpbmVyIiwiY2xhc3NlcyIsImluaXRDbGFzc2VzIiwic3R5bGVzIiwiaW5pdFN0eWxlcyIsImlucHV0IiwidmFsaWRhdGUiLCJmaWVsZCIsImZpcnN0IiwibGFzdE5hbWUiLCJsYXN0TmFtZUNvbnRyb2xsZXIiLCJsYXN0IiwicHJvZHVjdFNlbGVjdGlvbiIsInByb2R1Y3RTZWxlY3Rpb25Db250cm9sbGVyIiwiY2FsY3VsYXRlU3VidG90YWwiLCJzdWJ0b3RhbCIsInF0eSIsInByaWNlIiwiZGVjcmVtZW50IiwiaW5jcmVtZW50IiwicHJvZ3Jlc3NCYXIiLCJwcm9ncmVzc0JhckNvbnRyb2xsZXIiLCJwdXJjaGFzZUJ0biIsInB1cmNoYXNlQnRuQ29udHJvbGxlciIsInNoaXBwaW5nQ2FsY3VsYXRvciIsInNoaXBwaW5nQ2FsY3VsYXRvckNvbnRyb2xsZXIiLCJzZXJ2aWNlQ2xhc3MiLCJjb3N0Iiwic2hpcHBpbmdJbmZvIiwic2hpcHBpbmdJbmZvQ29udHJvbGxlciIsImNhbGN1bGF0ZVNoaXBwaW5nIiwiemlwUG9pbnRzIiwicG9zdGFnZUNhbGN1bGF0b3IiLCJyZXF1aXJubWVudHMiLCJkYXRhQXF1aXJlZCIsInN0YXRlQ29udHJvbGxlciIsInN0cmVldCIsInN0cmVldENvbnRyb2xsZXIiLCJzdHJlZXRBZGRyZXNzIiwidG9vbEJhciIsIlRvb2xCYXJDb250cm9sbGVyIiwieW91ck5hbWUiLCJ5b3VyTmFtZUNvbnRyb2xsZXIiLCJ6aXBDb2RlIiwiemlwQ29kZUNvbnRyb2xsZXIiLCJsb25nRW5vdWdoIiwiemlwY29kZSIsImZsYWciLCJsZW5ndGgiLCJzdWNjZXNzaWZ5SW5wdXQiLCJ1cGRhdGVTdGF0ZSIsImZhaWxpZnlJbnB1dCIsImNpdHlTdGF0ZUxvb2t1cCIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwidmFsU3RhZ2VzIiwiaW5pdFZhbFN0YWdlcyIsImF0dGVtcHRlZCIsInN0YXJ0IiwiZW5kIiwic3VibWl0IiwidW5pcXVlSWQiLCJfcmVhZCIsInByb3AiLCJfdXBkYXRlIiwicmVhZFByb3AiLCJ1cGRhdGVQcm9wIiwiZGF0YU1vZGVsT2JqZWN0IiwicHJvZHVjdCIsIm9yZGVyIiwidGF4IiwiZGlzY291bnRzIiwicHJvbW90aW9ucyIsInRvdGFsVmFsdWUiLCJ0b3RhbCIsImlzUHJpb3JpdHkiLCJwcmlvcml0eSIsInRyYW5zaXREYXlzIiwiYW1vdW50IiwiY3VycmVuY3kiLCJleHByZXNzIiwibnVtYmVyIiwiZXhwIiwiY3N2Iiwic3RhdGVGYWN0b3J5Iiwic3RhdGVPYmplY3QiLCJhbGxFbGVtZW50c0NvbXBsZXRlZCIsImZpZWxkcyIsImFkZHJlc3NlZCIsInN1Y2Nlc3MiLCJmYWlsdXJlIiwiZm9ybS1ncm91cCIsImhhcy1zdWNjZXNzIiwiaGFzLXdhcm5pbmciLCJoYXMtZGFuZ2VyIiwiZm9ybS1jb250cm9sLWxhYmVsIiwiZm9ybS1jb250cm9sIiwiZm9ybS1jb250cm9sLXN1Y2Nlc3MiLCJmb3JtLWNvbnRyb2wtd2FybmluZyIsImZvcm0tY29udHJvbC1kYW5nZXIiLCJmb3JtLWNvbnRyb2wtZmVlZGJhY2siLCJmb3JtLXRleHQiLCJ0ZXh0LW11dGVkIiwiY2hhbmdlU3RhdGUiLCJpbnB1dFN1Y2Nlc3MiLCJpbnB1dEZhaWxlZCIsImNvbmZpZyIsIiRyb3V0ZVByb3ZpZGVyIiwid2hlbiIsImdldEF1dGhJZCIsIiRodHRwIiwiYmFja2VuZCIsIl9nZXQiLCJnZXQiLCJfcG9zdCIsInBvc3QiLCJvcmRlckZvcm0iLCJDb250ZW50LVR5cGUiLCJzdWNjZXNzZnVsIiwiZmFpbGVkIiwic2VjdGlvbiIsInJldHVybk9iamVjdCIsIk9iamVjdCIsImtleXMiLCJmb3JFYWNoIiwia2V5IiwicmVzdWx0QXJyYXkiLCJzcGxpdCIsIndvcmQi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LFFBQ0FDLE9BQUEsY0FDQXhNLFVBQUEsT0FBQTFCLE1DRkFpTyxRQUNBQyxPQUFBLGNBQ0F4TSxVQUFBLGNBQUE0RCxhQ0ZBMkksUUFDQUMsT0FBQSxjQUNBeE0sVUFBQSxlQUFBK0QsY0NGQXdJLFFBQ0FDLE9BQUEsY0FDQXhNLFVBQUEsWUFBQWlFLFdDRkFzSSxRQUNBQyxPQUFBLGNBQ0F4TSxVQUFBLFdBQUE2RSxVQ0ZBMEgsUUFDQUMsT0FBQSxjQUNBeE0sVUFBQSxtQkFBQWdGLGtCQ0ZBdUgsUUFDQUMsT0FBQSxjQUNBeE0sVUFBQSxjQUFBd0YsYUNGQStHLFFBQ0FDLE9BQUEsY0FDQXhNLFVBQUEsY0FBQTBGLGFDRkE2RyxRQUNBQyxPQUFBLGNBQ0F4TSxVQUFBLHFCQUFBNEYsb0JDRkEyRyxRQUNBQyxPQUFBLGNBQ0F4TSxVQUFBLGVBQUFnRyxjQ0ZBdUcsUUFDQUMsT0FBQSxjQUNBeE0sVUFBQSxRQUFBekIsT0NGQWdPLFFBQ0FDLE9BQUEsY0FDQXhNLFVBQUEsU0FBQXdHLFFDRkErRixRQUNBQyxPQUFBLGNBQ0F4TSxVQUFBLFVBQUEyRyxTQ0ZBNEYsUUFDQUMsT0FBQSxjQUNBeE0sVUFBQSxXQUFBNkcsVUNGQTBGLFFBQ0FDLE9BQUEsY0FDQXhNLFVBQUEsVUFBQStHLFNDVEF3RixRQUNBQyxPQUFBLGNBQ0FDLFFBQUEsWUFBQXZQLFdBRUFBLFVBQUE2QyxTQUFBLFFDSkF3TSxRQUNBQyxPQUFBLGNBQ0FDLFFBQUEsZUFBQWhELGNBRUFBLGFBQUExSixTQUFBLFFDSkF3TSxRQUNBQyxPQUFBLGNBQ0F6QixPQUFBQSxRQ0ZBd0IsUUFDQUMsT0FBQSxjQUNBRSxRQUFBLFNBQUF2UCxRQUVBQSxPQUFBNEMsU0FBQSxPQUFBLFNDSkF3TSxRQUNBQyxPQUFBLGNBQ0FFLFFBQUEsWUFBQXZJLFdBRUFBLFVBQUFwRSxTQUFBIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImFuZ3VsYXJcbiAgICAubW9kdWxlKCd0cnVtcHNOdXRzJylcbiAgICAuY29udHJvbGxlcignY29uZmlybWF0aW9uQ29udHJvbGxlcicsIGNvbmZpcm1hdGlvbkNvbnRyb2xsZXIpO1xuXG5jb25maXJtYXRpb25Db250cm9sbGVyLiRpbmplY3QgPSBbJyRsb2cnXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBjb25maXJtYXRpb25Db250cm9sbGVyKCRsb2cpIHtcblxuXHQvL2RlZmluZSB2aWV3IG1vZGVsIHZhcmlhYmxlXG5cdHZhciB2bSA9IHRoaXM7XG5cbn1cdCIsImFuZ3VsYXJcbiAgICAubW9kdWxlKCd0cnVtcHNOdXRzJylcbiAgICAuY29udHJvbGxlcignbGFuZGluZ0NvbnRyb2xsZXInLCBsYW5kaW5nQ29udHJvbGxlcik7XG5cbmxhbmRpbmdDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJywgJyRsb2NhdGlvbicsICckcm9vdFNjb3BlJywgJ2RhdGFNb2RlbCcsICdzZXJ2ZXInXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBsYW5kaW5nQ29udHJvbGxlcigkc2NvcGUsICRsb2csICRsb2NhdGlvbiwgJHJvb3RTY29wZSwgZGF0YU1vZGVsLCBzZXJ2ZXIpIHtcblxuXHQvL2RlZmluZSB2aWV3IG1vZGVsIHZhcmlhYmxlXG5cdHZhciB2bSA9IHRoaXM7XG5cdHZtLm1vZGVsID0gZGF0YU1vZGVsO1xuXG5cdC8vd2F0Y2hlcnNcblx0JHNjb3BlLiR3YXRjaCgndm0ubW9kZWwuc2hpcHBpbmcuYWRkcmVzcy56aXAnLCBmdW5jdGlvbihjdXJyZW50LCBvcmlnaW5hbCkge1xuXHRcdGlmKHZtLm1vZGVsLmNvcHlTaGlwcGluZ0FkZHJlc3MpIHZtLm1vZGVsLmJpbGxpbmcuYWRkcmVzcy56aXAgPSBjdXJyZW50O1xuXHR9KTtcblx0XG5cdCRzY29wZS4kd2F0Y2goJ3ZtLm1vZGVsLnNoaXBwaW5nLmFkZHJlc3MuY2l0eScsIGZ1bmN0aW9uKGN1cnJlbnQsIG9yaWdpbmFsKSB7XG5cdFx0aWYodm0ubW9kZWwuY29weVNoaXBwaW5nQWRkcmVzcykgdm0ubW9kZWwuYmlsbGluZy5hZGRyZXNzLmNpdHkgPSBjdXJyZW50O1xuXHR9KTtcblx0XG5cdCRzY29wZS4kd2F0Y2goJ3ZtLm1vZGVsLnNoaXBwaW5nLmFkZHJlc3Muc3RhdGUnLCBmdW5jdGlvbihjdXJyZW50LCBvcmlnaW5hbCkge1xuXHRcdGlmKHZtLm1vZGVsLmNvcHlTaGlwcGluZ0FkZHJlc3MpIHZtLm1vZGVsLmJpbGxpbmcuYWRkcmVzcy5zdGF0ZSA9IGN1cnJlbnQ7XG5cdH0pO1xuXHRcblx0JHNjb3BlLiR3YXRjaCgndm0ubW9kZWwuc2hpcHBpbmcuYWRkcmVzcy5zdHJlZXQxJywgZnVuY3Rpb24oY3VycmVudCwgb3JpZ2luYWwpIHtcblx0XHRpZih2bS5tb2RlbC5jb3B5U2hpcHBpbmdBZGRyZXNzKSB2bS5tb2RlbC5iaWxsaW5nLmFkZHJlc3Muc3RyZWV0MSA9IGN1cnJlbnQ7XG5cdH0pO1xuXHRcblx0JHNjb3BlLiR3YXRjaCgndm0ubW9kZWwuc2hpcHBpbmcuYWRkcmVzcy5zdHJlZXQyJywgZnVuY3Rpb24oY3VycmVudCwgb3JpZ2luYWwpIHtcblx0XHRpZih2bS5tb2RlbC5jb3B5U2hpcHBpbmdBZGRyZXNzKSB2bS5tb2RlbC5iaWxsaW5nLmFkZHJlc3Muc3RyZWV0MiA9IGN1cnJlbnQ7XG5cdH0pO1x0XG5cdFxuXHQkc2NvcGUuJHdhdGNoKCd2bS5tb2RlbC5zaGlwcGluZy5hZGRyZXNzLnN0cmVldDMnLCBmdW5jdGlvbihjdXJyZW50LCBvcmlnaW5hbCkge1xuXHRcdGlmKHZtLm1vZGVsLmNvcHlTaGlwcGluZ0FkZHJlc3MpIHZtLm1vZGVsLmJpbGxpbmcuYWRkcmVzcy5zdHJlZXQzID0gY3VycmVudDtcblx0fSk7XHRcdFxuXG5cdC8vcHJpdmF0ZSBmdW5jdGlvbnNcblx0ZnVuY3Rpb24gaW5pdCgpIHtcblx0XHRcblx0XHQvL1RPRE86IE1PVkUgVEhJUyBUTyBST1VURVMgTEFURVJcblx0XHRzZXJ2ZXIuZ2V0U3FyQXBwSWQoKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG5cdFx0XHQvLyRsb2cuaW5mbygncmVzcG9uc2UnLCByZXNwb25zZS5pZCk7XG5cdFx0XHR2bS5tb2RlbC5hcGlzLnNxdWFyZUlkID0gcmVzcG9uc2UuaWQ7XG5cdFx0fSkuY2F0Y2goZnVuY3Rpb24oZXJyKSB7XG5cblx0XHR9KTtcblxuXHR9XG5cblx0Ly92aWV3IG1vZGVsIG1ldGhvZHNcblx0dm0uY29weVNoaXBwaW5nQWRkcmVzcyA9IGZ1bmN0aW9uKGJ0blN0YXRlKSB7XG5cdFx0Ly8kbG9nLmluZm8oJ2NvcHlpbmcnLCB2bS5tb2RlbC5zaGlwcGluZyk7XG5cdFx0aWYoYnRuU3RhdGUpIHZtLm1vZGVsLmJpbGxpbmcuYWRkcmVzcyA9IHZtLm1vZGVsLnNoaXBwaW5nLmFkZHJlc3M7XG5cdFx0ZWxzZSB2bS5tb2RlbC5iaWxsaW5nLmFkZHJlc3MgPSBkYXRhTW9kZWwuYmlsbGluZy5hZGRyZXNzO1xuXHR9XG5cblx0dm0uc3VibWl0Rm9ybSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG5cdFx0JGxvZy5pbmZvKCdzdWJtaXR0aW5nJywgdmFsdWUpO1xuXG5cdFx0c2VydmVyLnN1Ym1pdFNhbGUodm0ubW9kZWwpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcblxuXHRcdFx0JGxvZy5pbmZvKHJlc3BvbnNlKTtcblxuXHRcdFx0Ly93aGVuIHRoZSBwcm9taXNlIHJlc29sdmVzLCByZS1yb3V0ZSB0aGVtXG5cdFx0XHQkbG9jYXRpb24ucGF0aCgnL2NvbmZpcm1hdGlvbi8/dGVzaW5nPWdvb2RUZXN0Jyk7XG5cdFx0XHQkcm9vdFNjb3BlLiRhcHBseSgpO1xuXG5cdFx0fSkuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHtcblxuXHRcdFx0JGxvZy5pbmZvKGVycm9yKTtcblx0XHR9KTtcblxuXHRcdC8vdGFrZSB0aGVtIGltbWVkaWF0bHkgdG8gdGhlIHByb2Nlc3NpbmcgcGFnZVxuXHRcdCRsb2NhdGlvbi5wYXRoKCcvcHJvY2Vzc2luZycpO1xuXG5cdH1cblxuXHQvL3N0YXJ0IGNvbnRyb2xsZXJcblx0aW5pdCgpO1xuXG59XHQiLCJhbmd1bGFyXG4gICAgLm1vZHVsZSgndHJ1bXBzTnV0cycpXG4gICAgLmNvbnRyb2xsZXIoJ3Byb2Nlc3NpbmdDb250cm9sbGVyJywgcHJvY2Vzc2luZ0NvbnRyb2xsZXIpO1xuXG5wcm9jZXNzaW5nQ29udHJvbGxlci4kaW5qZWN0ID0gWyckbG9nJywgJ3Rlc3QnXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBwcm9jZXNzaW5nQ29udHJvbGxlcigkbG9nLCB0ZXN0KSB7XG5cblx0Ly9kZWZpbmUgdmlldyBtb2RlbCB2YXJpYWJsZVxuXHR2YXIgdm0gPSB0aGlzO1xuXG59XHQiLCIvLyBNT0RVTEVcbmNvbmZpZy4kaW5qZWN0ID0gW1wiJHJvdXRlUHJvdmlkZXJcIl07XG52YXIgdHJ1bXBzTnV0cyA9IGFuZ3VsYXIubW9kdWxlKCd0cnVtcHNOdXRzJywgWyduZ1JvdXRlJ10pO1xuXG5cbmFuZ3VsYXJcbiAgICAubW9kdWxlKCd0cnVtcHNOdXRzJylcbiAgICAuY29udHJvbGxlcignY29uZmlybWF0aW9uQ29udHJvbGxlcicsIGNvbmZpcm1hdGlvbkNvbnRyb2xsZXIpO1xuXG5jb25maXJtYXRpb25Db250cm9sbGVyLiRpbmplY3QgPSBbJyRsb2cnXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBjb25maXJtYXRpb25Db250cm9sbGVyKCRsb2cpIHtcblxuXHQvL2RlZmluZSB2aWV3IG1vZGVsIHZhcmlhYmxlXG5cdHZhciB2bSA9IHRoaXM7XG5cbn1cdFxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ3RydW1wc051dHMnKVxuICAgIC5jb250cm9sbGVyKCdsYW5kaW5nQ29udHJvbGxlcicsIGxhbmRpbmdDb250cm9sbGVyKTtcblxubGFuZGluZ0NvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnLCAnJGxvY2F0aW9uJywgJyRyb290U2NvcGUnLCAnZGF0YU1vZGVsJywgJ3NlcnZlciddO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGxhbmRpbmdDb250cm9sbGVyKCRzY29wZSwgJGxvZywgJGxvY2F0aW9uLCAkcm9vdFNjb3BlLCBkYXRhTW9kZWwsIHNlcnZlcikge1xuXG5cdC8vZGVmaW5lIHZpZXcgbW9kZWwgdmFyaWFibGVcblx0dmFyIHZtID0gdGhpcztcblx0dm0ubW9kZWwgPSBkYXRhTW9kZWw7XG5cblx0Ly93YXRjaGVyc1xuXHQkc2NvcGUuJHdhdGNoKCd2bS5tb2RlbC5zaGlwcGluZy5hZGRyZXNzLnppcCcsIGZ1bmN0aW9uKGN1cnJlbnQsIG9yaWdpbmFsKSB7XG5cdFx0aWYodm0ubW9kZWwuY29weVNoaXBwaW5nQWRkcmVzcykgdm0ubW9kZWwuYmlsbGluZy5hZGRyZXNzLnppcCA9IGN1cnJlbnQ7XG5cdH0pO1xuXHRcblx0JHNjb3BlLiR3YXRjaCgndm0ubW9kZWwuc2hpcHBpbmcuYWRkcmVzcy5jaXR5JywgZnVuY3Rpb24oY3VycmVudCwgb3JpZ2luYWwpIHtcblx0XHRpZih2bS5tb2RlbC5jb3B5U2hpcHBpbmdBZGRyZXNzKSB2bS5tb2RlbC5iaWxsaW5nLmFkZHJlc3MuY2l0eSA9IGN1cnJlbnQ7XG5cdH0pO1xuXHRcblx0JHNjb3BlLiR3YXRjaCgndm0ubW9kZWwuc2hpcHBpbmcuYWRkcmVzcy5zdGF0ZScsIGZ1bmN0aW9uKGN1cnJlbnQsIG9yaWdpbmFsKSB7XG5cdFx0aWYodm0ubW9kZWwuY29weVNoaXBwaW5nQWRkcmVzcykgdm0ubW9kZWwuYmlsbGluZy5hZGRyZXNzLnN0YXRlID0gY3VycmVudDtcblx0fSk7XG5cdFxuXHQkc2NvcGUuJHdhdGNoKCd2bS5tb2RlbC5zaGlwcGluZy5hZGRyZXNzLnN0cmVldDEnLCBmdW5jdGlvbihjdXJyZW50LCBvcmlnaW5hbCkge1xuXHRcdGlmKHZtLm1vZGVsLmNvcHlTaGlwcGluZ0FkZHJlc3MpIHZtLm1vZGVsLmJpbGxpbmcuYWRkcmVzcy5zdHJlZXQxID0gY3VycmVudDtcblx0fSk7XG5cdFxuXHQkc2NvcGUuJHdhdGNoKCd2bS5tb2RlbC5zaGlwcGluZy5hZGRyZXNzLnN0cmVldDInLCBmdW5jdGlvbihjdXJyZW50LCBvcmlnaW5hbCkge1xuXHRcdGlmKHZtLm1vZGVsLmNvcHlTaGlwcGluZ0FkZHJlc3MpIHZtLm1vZGVsLmJpbGxpbmcuYWRkcmVzcy5zdHJlZXQyID0gY3VycmVudDtcblx0fSk7XHRcblx0XG5cdCRzY29wZS4kd2F0Y2goJ3ZtLm1vZGVsLnNoaXBwaW5nLmFkZHJlc3Muc3RyZWV0MycsIGZ1bmN0aW9uKGN1cnJlbnQsIG9yaWdpbmFsKSB7XG5cdFx0aWYodm0ubW9kZWwuY29weVNoaXBwaW5nQWRkcmVzcykgdm0ubW9kZWwuYmlsbGluZy5hZGRyZXNzLnN0cmVldDMgPSBjdXJyZW50O1xuXHR9KTtcdFx0XG5cblx0Ly9wcml2YXRlIGZ1bmN0aW9uc1xuXHRmdW5jdGlvbiBpbml0KCkge1xuXHRcdFxuXHRcdC8vVE9ETzogTU9WRSBUSElTIFRPIFJPVVRFUyBMQVRFUlxuXHRcdHNlcnZlci5nZXRTcXJBcHBJZCgpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcblx0XHRcdC8vJGxvZy5pbmZvKCdyZXNwb25zZScsIHJlc3BvbnNlLmlkKTtcblx0XHRcdHZtLm1vZGVsLmFwaXMuc3F1YXJlSWQgPSByZXNwb25zZS5pZDtcblx0XHR9KS5jYXRjaChmdW5jdGlvbihlcnIpIHtcblxuXHRcdH0pO1xuXG5cdH1cblxuXHQvL3ZpZXcgbW9kZWwgbWV0aG9kc1xuXHR2bS5jb3B5U2hpcHBpbmdBZGRyZXNzID0gZnVuY3Rpb24oYnRuU3RhdGUpIHtcblx0XHQvLyRsb2cuaW5mbygnY29weWluZycsIHZtLm1vZGVsLnNoaXBwaW5nKTtcblx0XHRpZihidG5TdGF0ZSkgdm0ubW9kZWwuYmlsbGluZy5hZGRyZXNzID0gdm0ubW9kZWwuc2hpcHBpbmcuYWRkcmVzcztcblx0XHRlbHNlIHZtLm1vZGVsLmJpbGxpbmcuYWRkcmVzcyA9IGRhdGFNb2RlbC5iaWxsaW5nLmFkZHJlc3M7XG5cdH1cblxuXHR2bS5zdWJtaXRGb3JtID0gZnVuY3Rpb24odmFsdWUpIHtcblx0XHQkbG9nLmluZm8oJ3N1Ym1pdHRpbmcnLCB2YWx1ZSk7XG5cblx0XHRzZXJ2ZXIuc3VibWl0U2FsZSh2bS5tb2RlbCkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuXG5cdFx0XHQkbG9nLmluZm8ocmVzcG9uc2UpO1xuXG5cdFx0XHQvL3doZW4gdGhlIHByb21pc2UgcmVzb2x2ZXMsIHJlLXJvdXRlIHRoZW1cblx0XHRcdCRsb2NhdGlvbi5wYXRoKCcvY29uZmlybWF0aW9uLz90ZXNpbmc9Z29vZFRlc3QnKTtcblx0XHRcdCRyb290U2NvcGUuJGFwcGx5KCk7XG5cblx0XHR9KS5jYXRjaChmdW5jdGlvbihlcnJvcikge1xuXG5cdFx0XHQkbG9nLmluZm8oZXJyb3IpO1xuXHRcdH0pO1xuXG5cdFx0Ly90YWtlIHRoZW0gaW1tZWRpYXRseSB0byB0aGUgcHJvY2Vzc2luZyBwYWdlXG5cdFx0JGxvY2F0aW9uLnBhdGgoJy9wcm9jZXNzaW5nJyk7XG5cblx0fVxuXG5cdC8vc3RhcnQgY29udHJvbGxlclxuXHRpbml0KCk7XG5cbn1cdFxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ3RydW1wc051dHMnKVxuICAgIC5jb250cm9sbGVyKCdwcm9jZXNzaW5nQ29udHJvbGxlcicsIHByb2Nlc3NpbmdDb250cm9sbGVyKTtcblxucHJvY2Vzc2luZ0NvbnRyb2xsZXIuJGluamVjdCA9IFsnJGxvZycsICd0ZXN0J107XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gcHJvY2Vzc2luZ0NvbnRyb2xsZXIoJGxvZywgdGVzdCkge1xuXG5cdC8vZGVmaW5lIHZpZXcgbW9kZWwgdmFyaWFibGVcblx0dmFyIHZtID0gdGhpcztcblxufVx0XG4vKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCd0cnVtcHNOdXRzJylcblx0LmRpcmVjdGl2ZSgnYmlsbGluZ0luZm8nLCBiaWxsaW5nSW5mbyk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gYmlsbGluZ0luZm8oKSB7XG4gICAgbGlua0Z1bmMuJGluamVjdCA9IFtcInNjb3BlXCIsIFwiZWxcIiwgXCJhdHRyXCIsIFwiY3RybFwiXTtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9iaWxsaW5nSW5mby5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7XG5cdFx0XHRhZGRyZXNzOiAnPScsXG5cdFx0XHRwYXltZW50OiAnPScsXG5cdFx0XHRjb3B5U2hpcHBpbmdBZGRyZXNzOiAnPScsXG5cdFx0XHRjb3B5U2hpcHBpbmc6ICcmJ1xuXHRcdH0sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogYmlsbGluZ0luZm9Db250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgYmlsbGluZ0luZm9Db250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gYmlsbGluZ0luZm9Db250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHQgICAgLy92aWV3IG1vZGVsIG1ldGhvZHNcblx0ICAgIHZtLnRvZ2dsZUFkZHJlc3NDb3B5ID0gZnVuY3Rpb24oYnRuU3RhdGUpIHtcblxuXHQgICAgXHR2bS5jb3B5U2hpcHBpbmcoKShidG5TdGF0ZSk7XG5cblx0ICAgIH1cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTtcbi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ3RydW1wc051dHMnKVxuXHQuZGlyZWN0aXZlKCdjY0NTVicsIGNjQ1NWKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBjY0NTVigpIHtcbiAgICBsaW5rRnVuYy4kaW5qZWN0ID0gW1wic2NvcGVcIiwgXCJlbFwiLCBcImF0dHJcIiwgXCJjdHJsXCJdO1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL2NjQ1NWLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHt9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IGNjQ1NWQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIGNjQ1NWQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGNjQ1NWQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTtcbi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ3RydW1wc051dHMnKVxuXHQuZGlyZWN0aXZlKCdjY0NhcHR1cmUnLCBjY0NhcHR1cmUpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGNjQ2FwdHVyZSgpIHtcbiAgICBsaW5rRnVuYy4kaW5qZWN0ID0gW1wic2NvcGVcIiwgXCJlbFwiLCBcImF0dHJcIiwgXCJjdHJsXCJdO1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL2NjQ2FwdHVyZS5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7XG5cdFx0XHRpc1Byb2Nlc3Npbmc6ICc9Jyxcblx0XHRcdHppcDogJz0nLFxuXHRcdFx0c3RhdGVJZDogJz0nLFxuXHRcdFx0Y2l0eU5hbWU6ICc9J1xuXHRcdH0sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogY2NDYXB0dXJlQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIGNjQ2FwdHVyZUNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnLCAnc2VydmVyJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gY2NDYXB0dXJlQ29udHJvbGxlcigkc2NvcGUsICRsb2csIHNlcnZlcikge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHQgICAgdm0uZGF0YSA9IHsgY2FyZDp7fSB9O1xuXG5cdCAgICAvL3ZpZXcgbW9kZWwgbWV0aG9kc1xuXHQgICAgdm0uc3VibWl0Rm9ybSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0JGxvZy5pbmZvKCdzdWJtaXR0aW5nJywgdm0uZGF0YSk7XG5cdFx0XHR2bS5pc1Byb2Nlc3NpbmcgPSB0cnVlO1xuXHRcdFx0dm0ucGF5bWVudEZvcm0ucmVxdWVzdENhcmROb25jZSgpO1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdHZtLmNoYXJnZUNhcmRXaXRoTm9uY2UgPSBmdW5jdGlvbihub25jZSkge1xuXHRcdFx0XG5cdFx0XHR2YXIgdXJsID0gXCIvY2hhcmdlcy9jaGFyZ2VfY2FyZFwiO1xuXHRcdFx0XG5cdFx0XHR2YXIgZGF0YSA9IHtcblx0XHRcdFx0bm9uY2U6IG5vbmNlLFxuXHRcdFx0XHRwcm9kdWN0X2lkOiAxMTIzLC8vJHNjb3BlLmRhdGEucHJvZHVjdF9pZCxcblx0XHRcdFx0bmFtZTogJ0pvaG4gU21pdGgnLCAvLyRzY29wZS5kYXRhLnVzZXIubmFtZSxcblx0XHRcdFx0Ly9lbWFpbDogJHNjb3BlLmRhdGEudXNlci5lbWFpbCwgICAgICAgICBcblx0XHRcdFx0c3RyZWV0X2FkZHJlc3NfMTogJzEyMzQgTWFpbiBTdHJlZXQnLCAvLyRzY29wZS5kYXRhLnVzZXIuc3RyZWV0X2FkZHJlc3NfMSxcblx0XHRcdFx0c3RyZWV0X2FkZHJlc3NfMjogJycsIC8vJHNjb3BlLmRhdGEudXNlci5zdHJlZXRfYWRkcmVzc18yLFxuXHRcdFx0XHRjaXR5OiB2bS5jaXR5TmFtZSwgLy8kc2NvcGUuZGF0YS51c2VyLmNpdHksXG5cdFx0XHRcdHN0YXRlOiB2bS5zdGF0ZUlkLCAvLyRzY29wZS5kYXRhLnVzZXIuc3RhdGUsXG5cdFx0XHRcdHppcDogdm0uemlwIC8vJHNjb3BlLmRhdGEudXNlci56aXBcblx0XHRcdH07XG5cblx0XHRcdHNlcnZlci5jaGFyZ2VDYXJkKHVybCwgZGF0YSkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuXHRcdFx0XHQkbG9nLmluZm8oJ3Jlc3BvbnNlJywgcmVzcG9uc2UpO1xuXHRcdFx0fSkuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHtcblx0XHRcdFx0JGxvZy5pbmZvKCdlcnJvcicsIGVycm9yKTtcblx0XHRcdH0pXG5cblx0XHRcdC8qJGh0dHAucG9zdCh1cmwsIGRhdGEpLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSwgc3RhdHVzKSB7XG5cdFx0XHRcdGlmIChkYXRhLnN0YXR1cyA9PSA0MDApe1xuXHRcdFx0XHQgIC8vIGRpc3BsYXkgc2VydmVyIHNpZGUgY2FyZCBwcm9jZXNzaW5nIGVycm9ycyBcblx0XHRcdFx0ICAkc2NvcGUuaXNQYXltZW50U3VjY2VzcyA9IGZhbHNlO1xuXHRcdFx0XHQgICRzY29wZS5jYXJkX2Vycm9ycyA9IFtdXG5cdFx0XHRcdCAgZm9yICh2YXIgaSA9MDsgaSA8IGRhdGEuZXJyb3JzLmxlbmd0aDsgaSsrKXtcblx0XHRcdFx0ICAgICRzY29wZS5jYXJkX2Vycm9ycy5wdXNoKHttZXNzYWdlOiBkYXRhLmVycm9yc1tpXS5kZXRhaWx9KVxuXHRcdFx0XHQgIH1cblx0XHRcdFx0fWVsc2UgaWYgKGRhdGEuc3RhdHVzID09IDIwMCkge1xuXHRcdFx0XHQgICRzY29wZS5pc1BheW1lbnRTdWNjZXNzID0gdHJ1ZTtcblx0XHRcdFx0fVxuXHRcdFx0XHQkc2NvcGUuaXNQcm9jZXNzaW5nID0gZmFsc2U7XG5cdFx0XHR9KS5lcnJvcihmdW5jdGlvbigpe1xuXHRcdFx0XHQkc2NvcGUuaXNQYXltZW50U3VjY2VzcyA9IGZhbHNlO1xuXHRcdFx0XHQkc2NvcGUuaXNQcm9jZXNzaW5nID0gZmFsc2U7XG5cdFx0XHRcdCRzY29wZS5jYXJkX2Vycm9ycyA9IFt7bWVzc2FnZTogXCJQcm9jZXNzaW5nIGVycm9yLCBwbGVhc2UgdHJ5IGFnYWluIVwifV07XG5cdFx0XHR9KSovXG5cdFx0fVxuXHRcdFxuXHRcdC8vbG9jYWwgbWV0aG9kc1xuXHQgICAgdmFyIGluaXQgPSBmdW5jdGlvbigpIHtcblxuXHQgICAgXHRzZXJ2ZXIuZ2V0U3FyQXBwSWQoKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG5cdFx0XHRcdFxuXHRcdFx0XHR2bS5wYXltZW50Rm9ybSA9IG5ldyBTcVBheW1lbnRGb3JtKHtcblx0XHRcdFx0ICAgIGFwcGxpY2F0aW9uSWQ6IHJlc3BvbnNlLmlkLFxuXHRcdFx0XHQgICAgaW5wdXRDbGFzczogJ3NxLWlucHV0Jyxcblx0XHRcdFx0ICAgIGlucHV0U3R5bGVzOiBbXG5cdFx0XHRcdCAgICAgIHtcblx0XHRcdFx0ICAgICAgICBmb250U2l6ZTogJzE0cHgnLFxuXHRcdCAgICAgICAgICAgIFx0cGFkZGluZzogJzdweCAxMnB4Jyxcblx0XHQgICAgICAgICAgICBcdGJhY2tncm91bmRDb2xvcjogXCJ0cmFuc3BhcmVudFwiXG5cdFx0XHRcdCAgICAgIH1cblx0XHRcdFx0ICAgIF0sXG5cdFx0XHRcdCAgICBjYXJkTnVtYmVyOiB7XG5cdFx0XHRcdCAgICAgIGVsZW1lbnRJZDogJ3NxLWNhcmQtbnVtYmVyJyxcblx0XHRcdFx0ICAgICAgcGxhY2Vob2xkZXI6ICfigKLigKLigKLigKIg4oCi4oCi4oCi4oCiIOKAouKAouKAouKAoiDigKLigKLigKLigKInXG5cdFx0XHRcdCAgICB9LFxuXHRcdFx0XHQgICAgY3Z2OiB7XG5cdFx0XHRcdCAgICAgIGVsZW1lbnRJZDogJ3NxLWN2dicsXG5cdFx0XHRcdCAgICAgIHBsYWNlaG9sZGVyOiAnQ1ZWJ1xuXHRcdFx0XHQgICAgfSxcblx0XHRcdFx0ICAgIGV4cGlyYXRpb25EYXRlOiB7XG5cdFx0XHRcdCAgICAgIGVsZW1lbnRJZDogJ3NxLWV4cGlyYXRpb24tZGF0ZScsXG5cdFx0XHRcdCAgICAgIHBsYWNlaG9sZGVyOiAnTU0vWVknXG5cdFx0XHRcdCAgICB9LFxuXHRcdFx0XHQgICAgcG9zdGFsQ29kZToge1xuXHRcdFx0XHQgICAgICBlbGVtZW50SWQ6ICdzcS1wb3N0YWwtY29kZSdcblx0XHRcdFx0ICAgIH0sXG5cdFx0XHRcdCAgICBjYWxsYmFja3M6IHtcblxuXHRcdFx0XHQgICAgICAvLyBDYWxsZWQgd2hlbiB0aGUgU3FQYXltZW50Rm9ybSBjb21wbGV0ZXMgYSByZXF1ZXN0IHRvIGdlbmVyYXRlIGEgY2FyZFxuXHRcdFx0XHQgICAgICAvLyBub25jZSwgZXZlbiBpZiB0aGUgcmVxdWVzdCBmYWlsZWQgYmVjYXVzZSBvZiBhbiBlcnJvci5cblx0XHRcdFx0ICAgICAgY2FyZE5vbmNlUmVzcG9uc2VSZWNlaXZlZDogZnVuY3Rpb24oZXJyb3JzLCBub25jZSwgY2FyZERhdGEpIHtcblx0XHRcdFx0ICAgICAgICBpZiAoZXJyb3JzKSB7XG5cdFx0XHRcdCAgICAgICAgICAkbG9nLmluZm8oXCJFbmNvdW50ZXJlZCBlcnJvcnM6XCIsIGVycm9ycyk7XG5cdFx0XHRcdCAgICAgICAgICB2bS5jYXJkX2Vycm9ycyA9IGVycm9ycztcblx0XHQgICAgICAgICAgICBcdCAgdm0uaXNQcm9jZXNzaW5nID0gZmFsc2U7XG5cdFx0ICAgICAgICAgICAgXHQgICRzY29wZS4kYXBwbHkoKTsgLy8gcmVxdWlyZWQgc2luY2UgdGhpcyBpcyBub3QgYW4gYW5ndWxhciBmdW5jdGlvblxuXG5cdFx0XHRcdCAgICAgICAgLy8gTm8gZXJyb3JzIG9jY3VycmVkLiBFeHRyYWN0IHRoZSBjYXJkIG5vbmNlLlxuXHRcdFx0XHQgICAgICAgIH0gZWxzZSB7XG5cdFx0XHRcdCAgICAgICAgICB2bS5jYXJkX2Vycm9ycyA9IFtdO1xuXHRcdFx0XHQgICAgICAgICAgLy8gRGVsZXRlIHRoaXMgbGluZSBhbmQgdW5jb21tZW50IHRoZSBsaW5lcyBiZWxvdyB3aGVuIHlvdSdyZSByZWFkeVxuXHRcdFx0XHQgICAgICAgICAgLy8gdG8gc3RhcnQgc3VibWl0dGluZyBub25jZXMgdG8geW91ciBzZXJ2ZXIuXG5cdFx0XHRcdCAgICAgICAgICBhbGVydCgnTm9uY2UgcmVjZWl2ZWQ6ICcgKyBub25jZSk7XG5cblx0XHRcdFx0ICAgICAgICAgIHZtLmNoYXJnZUNhcmRXaXRoTm9uY2Uobm9uY2UpO1xuXG5cdFx0XHRcdCAgICAgICAgICAvKlxuXHRcdFx0XHQgICAgICAgICAgICBUaGVzZSBsaW5lcyBhc3NpZ24gdGhlIGdlbmVyYXRlZCBjYXJkIG5vbmNlIHRvIGEgaGlkZGVuIGlucHV0XG5cdFx0XHRcdCAgICAgICAgICAgIGZpZWxkLCB0aGVuIHN1Ym1pdCB0aGF0IGZpZWxkIHRvIHlvdXIgc2VydmVyLlxuXHRcdFx0XHQgICAgICAgICAgICBVbmNvbW1lbnQgdGhlbSB3aGVuIHlvdSdyZSByZWFkeSB0byB0ZXN0IG91dCBzdWJtaXR0aW5nIG5vbmNlcy5cblxuXHRcdFx0XHQgICAgICAgICAgICBZb3UnbGwgYWxzbyBuZWVkIHRvIHNldCB0aGUgYWN0aW9uIGF0dHJpYnV0ZSBvZiB0aGUgZm9ybSBlbGVtZW50XG5cdFx0XHRcdCAgICAgICAgICAgIGF0IHRoZSBib3R0b20gb2YgdGhpcyBzYW1wbGUsIHRvIGNvcnJlc3BvbmQgdG8gdGhlIFVSTCB5b3Ugd2FudCB0b1xuXHRcdFx0XHQgICAgICAgICAgICBzdWJtaXQgdGhlIG5vbmNlIHRvLlxuXHRcdFx0XHQgICAgICAgICAgKi9cblx0XHRcdFx0ICAgICAgICAgIC8vIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYXJkLW5vbmNlJykudmFsdWUgPSBub25jZTtcblx0XHRcdFx0ICAgICAgICAgIC8vIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdub25jZS1mb3JtJykuc3VibWl0KCk7XG5cblx0XHRcdFx0ICAgICAgICB9XG5cdFx0XHRcdCAgICAgIH0sXG5cblx0XHRcdFx0ICAgICAgdW5zdXBwb3J0ZWRCcm93c2VyRGV0ZWN0ZWQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHQgICAgICAgIC8vIEZpbGwgaW4gdGhpcyBjYWxsYmFjayB0byBhbGVydCBidXllcnMgd2hlbiB0aGVpciBicm93c2VyIGlzIG5vdCBzdXBwb3J0ZWQuXG5cdFx0XHRcdCAgICAgIH0sXG5cblx0XHRcdFx0ICAgICAgLy8gRmlsbCBpbiB0aGVzZSBjYXNlcyB0byByZXNwb25kIHRvIHZhcmlvdXMgZXZlbnRzIHRoYXQgY2FuIG9jY3VyIHdoaWxlIGFcblx0XHRcdFx0ICAgICAgLy8gYnV5ZXIgaXMgdXNpbmcgdGhlIHBheW1lbnQgZm9ybS5cblx0XHRcdFx0ICAgICAgaW5wdXRFdmVudFJlY2VpdmVkOiBmdW5jdGlvbihpbnB1dEV2ZW50KSB7XG5cdFx0XHRcdCAgICAgICAgc3dpdGNoIChpbnB1dEV2ZW50LmV2ZW50VHlwZSkge1xuXHRcdFx0XHQgICAgICAgICAgY2FzZSAnZm9jdXNDbGFzc0FkZGVkJzpcblx0XHRcdFx0ICAgICAgICAgICAgLy8gSGFuZGxlIGFzIGRlc2lyZWRcblx0XHRcdFx0ICAgICAgICAgICAgYnJlYWs7XG5cdFx0XHRcdCAgICAgICAgICBjYXNlICdmb2N1c0NsYXNzUmVtb3ZlZCc6XG5cdFx0XHRcdCAgICAgICAgICAgIC8vIEhhbmRsZSBhcyBkZXNpcmVkXG5cdFx0XHRcdCAgICAgICAgICAgIGJyZWFrO1xuXHRcdFx0XHQgICAgICAgICAgY2FzZSAnZXJyb3JDbGFzc0FkZGVkJzpcblx0XHRcdFx0ICAgICAgICAgICAgLy8gSGFuZGxlIGFzIGRlc2lyZWRcblx0XHRcdFx0ICAgICAgICAgICAgYnJlYWs7XG5cdFx0XHRcdCAgICAgICAgICBjYXNlICdlcnJvckNsYXNzUmVtb3ZlZCc6XG5cdFx0XHRcdCAgICAgICAgICAgIC8vIEhhbmRsZSBhcyBkZXNpcmVkXG5cdFx0XHRcdCAgICAgICAgICAgIGJyZWFrO1xuXHRcdFx0XHQgICAgICAgICAgY2FzZSAnY2FyZEJyYW5kQ2hhbmdlZCc6XG5cdFx0XHRcdCAgICAgICAgICAgIC8vIEhhbmRsZSBhcyBkZXNpcmVkXG5cdFx0XHRcdCAgICAgICAgICAgIGJyZWFrO1xuXHRcdFx0XHQgICAgICAgICAgY2FzZSAncG9zdGFsQ29kZUNoYW5nZWQnOlxuXHRcdFx0XHQgICAgICAgICAgICAvLyBIYW5kbGUgYXMgZGVzaXJlZFxuXHRcdFx0XHQgICAgICAgICAgICBicmVhaztcblx0XHRcdFx0ICAgICAgICB9XG5cdFx0XHRcdCAgICAgIH0sXG5cblx0XHRcdFx0ICAgICAgcGF5bWVudEZvcm1Mb2FkZWQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHQgICAgICAgIC8vIEZpbGwgaW4gdGhpcyBjYWxsYmFjayB0byBwZXJmb3JtIGFjdGlvbnMgYWZ0ZXIgdGhlIHBheW1lbnQgZm9ybSBpc1xuXHRcdFx0XHQgICAgICAgIC8vIGRvbmUgbG9hZGluZyAoc3VjaCBhcyBzZXR0aW5nIHRoZSBwb3N0YWwgY29kZSBmaWVsZCBwcm9ncmFtbWF0aWNhbGx5KS5cblx0XHRcdFx0ICAgICAgICAvLyBwYXltZW50Rm9ybS5zZXRQb3N0YWxDb2RlKCc5NDEwMycpO1xuXHRcdFx0XHQgICAgICB9XG5cdFx0XHRcdCAgICB9XG5cdFx0XHRcdH0pO1xuXHRcdCAgICBcdHZtLnBheW1lbnRGb3JtLmJ1aWxkKCk7XG5cdCAgICBcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7XG5cdCAgICBcdFx0JGxvZy5pbmZvKGVycm9yKTtcblx0ICAgIFx0fSk7XG5cdCAgICBcdFxuXHQgICAgfVxuXG5cdCAgICBpbml0KCk7XG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07XG4vKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCd0cnVtcHNOdXRzJylcblx0LmRpcmVjdGl2ZSgnY2NFeHAnLCBjY0V4cCk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gY2NFeHAoKSB7XG4gICAgbGlua0Z1bmMuJGluamVjdCA9IFtcInNjb3BlXCIsIFwiZWxcIiwgXCJhdHRyXCIsIFwiY3RybFwiXTtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9jY0V4cC5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBjY0V4cENvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBjY0V4cENvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBjY0V4cENvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07XG4vKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCd0cnVtcHNOdXRzJylcblx0LmRpcmVjdGl2ZSgnY2NOYW1lJywgY2NOYW1lKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBjY05hbWUoKSB7XG4gICAgbGlua0Z1bmMuJGluamVjdCA9IFtcInNjb3BlXCIsIFwiZWxcIiwgXCJhdHRyXCIsIFwiY3RybFwiXTtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9jY05hbWUuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge30sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogY2NOYW1lQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIGNjTmFtZUNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBjY05hbWVDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59O1xuLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgndHJ1bXBzTnV0cycpXG5cdC5kaXJlY3RpdmUoJ2NjTnVtYmVyJywgY2NOdW1iZXIpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGNjTnVtYmVyKCkge1xuICAgIGxpbmtGdW5jLiRpbmplY3QgPSBbXCJzY29wZVwiLCBcImVsXCIsIFwiYXR0clwiLCBcImN0cmxcIl07XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvY2NOdW1iZXIuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge30sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogY2NOdW1iZXJDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgY2NOdW1iZXJDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gY2NOdW1iZXJDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59O1xuLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgndHJ1bXBzTnV0cycpXG5cdC5kaXJlY3RpdmUoJ2NpdHknLCBjaXR5KTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBjaXR5KCkge1xuICAgIGxpbmtGdW5jLiRpbmplY3QgPSBbXCJzY29wZVwiLCBcImVsXCIsIFwiYXR0clwiLCBcImN0cmxcIl07XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvY2l0eS5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7XG5cdFx0XHRjaXR5TmFtZTogJz0nXG5cdFx0fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBjaXR5Q29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIGNpdHlDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gY2l0eUNvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07XG4vKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCd0cnVtcHNOdXRzJylcblx0LmRpcmVjdGl2ZSgnY29udGFjdEluZm8nLCBjb250YWN0SW5mbyk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gY29udGFjdEluZm8oKSB7XG4gICAgbGlua0Z1bmMuJGluamVjdCA9IFtcInNjb3BlXCIsIFwiZWxcIiwgXCJhdHRyXCIsIFwiY3RybFwiXTtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9jb250YWN0SW5mby5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7XG5cdFx0XHRuYW1lOiAnPScsXG5cdFx0XHRlbWFpbDogJz0nXG5cdFx0fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBjb250YWN0SW5mb0NvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBjb250YWN0SW5mb0NvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBjb250YWN0SW5mb0NvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07XG4vKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCd0cnVtcHNOdXRzJylcblx0LmRpcmVjdGl2ZSgnZW1haWxBZGRyZXNzJywgZW1haWxBZGRyZXNzKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBlbWFpbEFkZHJlc3MoKSB7XG4gICAgbGlua0Z1bmMuJGluamVjdCA9IFtcInNjb3BlXCIsIFwiZWxcIiwgXCJhdHRyXCIsIFwiY3RybFwiXTtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9lbWFpbEFkZHJlc3MuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge1xuXHRcdFx0ZW1haWw6ICc9J1xuXHRcdH0sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogZW1haWxBZGRyZXNzQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIGVtYWlsQWRkcmVzc0NvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBlbWFpbEFkZHJlc3NDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59O1xuLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgndHJ1bXBzTnV0cycpXG5cdC5kaXJlY3RpdmUoJ2ZpcnN0TmFtZScsIGZpcnN0TmFtZSk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gZmlyc3ROYW1lKCkge1xuICAgIGxpbmtGdW5jLiRpbmplY3QgPSBbXCJzY29wZVwiLCBcImVsXCIsIFwiYXR0clwiLCBcImN0cmxcIl07XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvZmlyc3ROYW1lLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHRcdGZpcnN0OiAnPSdcblx0XHR9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IGZpcnN0TmFtZUNvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBmaXJzdE5hbWVDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJywgJ3N0YXRlRGF0YSddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGZpcnN0TmFtZUNvbnRyb2xsZXIoJHNjb3BlLCAkbG9nLCBzdGF0ZURhdGEpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0ICAgIC8vJGxvZy5pbmZvKHN0YXRlKTtcblxuXHQgICAgdm0uc3RhdGUgPSB7XG5cdFx0ICAgIGNvbnRhaW5lcjoge1xuXHRcdCAgICBcdGNsYXNzZXM6IHN0YXRlRGF0YS5pbml0Q2xhc3NlcygnY29udGFpbmVyJyksXG5cdFx0ICAgIFx0c3R5bGVzOiBzdGF0ZURhdGEuaW5pdFN0eWxlcygnY29udGFpbmVyJylcdCAgICBcdFx0XG5cdCAgICBcdH0sIFxuXHQgICAgXHRpbnB1dDoge1xuXHRcdCAgICBcdGNsYXNzZXM6IHN0YXRlRGF0YS5pbml0Q2xhc3NlcygnaW5wdXQnKSxcblx0XHQgICAgXHRzdHlsZXM6IHN0YXRlRGF0YS5pbml0U3R5bGVzKCdjb250YWluZXInKVxuXHQgICAgXHR9XG5cdCAgICB9XG5cblx0ICAgIC8vdmlldyBtb2RlbCBtZXRob2RzXG5cdCAgICB2bS52YWxpZGF0ZSA9IGZ1bmN0aW9uKGZpZWxkLCB2YWx1ZSkge1xuXHQgICAgXHRcblx0ICAgIFx0Ly9pZih2YWx1ZS5sZW5ndGggPiAxKSBzdGF0ZS5jaGFuZ2VTdGF0ZS5pbnB1dFN1Y2Nlc3MoKVxuXG5cdCAgICB9XG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07XG4vKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCd0cnVtcHNOdXRzJylcblx0LmRpcmVjdGl2ZSgnbGFzdE5hbWUnLCBsYXN0TmFtZSk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gbGFzdE5hbWUoKSB7XG4gICAgbGlua0Z1bmMuJGluamVjdCA9IFtcInNjb3BlXCIsIFwiZWxcIiwgXCJhdHRyXCIsIFwiY3RybFwiXTtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9sYXN0TmFtZS5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7XG5cdFx0XHRsYXN0OiAnPSdcblx0XHR9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IGxhc3ROYW1lQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIGxhc3ROYW1lQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGxhc3ROYW1lQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTtcbi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ3RydW1wc051dHMnKVxuXHQuZGlyZWN0aXZlKCdwcm9kdWN0U2VsZWN0aW9uJywgcHJvZHVjdFNlbGVjdGlvbik7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gcHJvZHVjdFNlbGVjdGlvbigpIHtcbiAgICBsaW5rRnVuYy4kaW5qZWN0ID0gW1wic2NvcGVcIiwgXCJlbFwiLCBcImF0dHJcIiwgXCJjdHJsXCJdO1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL3Byb2R1Y3RTZWxlY3Rpb24uZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge1xuXHRcdFx0cXR5OiAnPScsXG5cdFx0XHRwcmljZTogJz0nLFxuXHRcdFx0c3VidG90YWw6ICc9J1xuXHRcdH0sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogcHJvZHVjdFNlbGVjdGlvbkNvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBwcm9kdWN0U2VsZWN0aW9uQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIHByb2R1Y3RTZWxlY3Rpb25Db250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHQgICAgLy9wcml2YXRlIG1ldGhvZHNcblxuXG5cdCAgICAvL3ZpZXcgbW9kZWwgbWV0aG9kc1xuXHQgICAgdm0uY2FsY3VsYXRlU3VidG90YWwgPSBmdW5jdGlvbigpIHtcblx0ICAgIFx0dm0uc3VidG90YWwgPSB2bS5xdHkgKiB2bS5wcmljZTtcblx0ICAgIH1cblxuXHQgICBcdHZtLmRlY3JlbWVudCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgXHRpZih2bS5xdHkgPiAxKSB2bS5xdHkgPSB2bS5xdHkgLSAxO1xuXG5cdCAgICBcdHZtLmNhbGN1bGF0ZVN1YnRvdGFsKCk7XG5cdCAgICB9XG5cblx0ICAgIHZtLmluY3JlbWVudCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgXHR2bS5xdHkgPSB2bS5xdHkgKyAxO1xuXG5cdCAgICBcdHZtLmNhbGN1bGF0ZVN1YnRvdGFsKCk7XG5cdCAgICB9XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTtcbi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ3RydW1wc051dHMnKVxuXHQuZGlyZWN0aXZlKCdwcm9ncmVzc0JhcicsIHByb2dyZXNzQmFyKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBwcm9ncmVzc0JhcigpIHtcbiAgICBsaW5rRnVuYy4kaW5qZWN0ID0gW1wic2NvcGVcIiwgXCJlbFwiLCBcImF0dHJcIiwgXCJjdHJsXCJdO1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL3Byb2dyZXNzQmFyLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHt9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IHByb2dyZXNzQmFyQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIHByb2dyZXNzQmFyQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIHByb2dyZXNzQmFyQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTtcbi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ3RydW1wc051dHMnKVxuXHQuZGlyZWN0aXZlKCdwdXJjaGFzZUJ0bicsIHB1cmNoYXNlQnRuKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBwdXJjaGFzZUJ0bigpIHtcbiAgICBsaW5rRnVuYy4kaW5qZWN0ID0gW1wic2NvcGVcIiwgXCJlbFwiLCBcImF0dHJcIiwgXCJjdHJsXCJdO1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL3B1cmNoYXNlQnRuLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHRcdHN1Ym1pdEZvcm06ICcmJ1xuXHRcdH0sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogcHVyY2hhc2VCdG5Db250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgcHVyY2hhc2VCdG5Db250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gcHVyY2hhc2VCdG5Db250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59O1xuLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgndHJ1bXBzTnV0cycpXG5cdC5kaXJlY3RpdmUoJ3NoaXBwaW5nQ2FsY3VsYXRvcicsIHNoaXBwaW5nQ2FsY3VsYXRvcik7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gc2hpcHBpbmdDYWxjdWxhdG9yKCkge1xuICAgIGxpbmtGdW5jLiRpbmplY3QgPSBbXCJzY29wZVwiLCBcImVsXCIsIFwiYXR0clwiLCBcImN0cmxcIl07XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvc2hpcHBpbmdDYWxjdWxhdG9yLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHRcdHNlcnZpY2VDbGFzczogJz0nLFxuXHRcdFx0Y29zdDogJz0nXG5cdFx0fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBzaGlwcGluZ0NhbGN1bGF0b3JDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgc2hpcHBpbmdDYWxjdWxhdG9yQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIHNoaXBwaW5nQ2FsY3VsYXRvckNvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdCAgICAvLyRsb2cuaW5mbygndm0uc2VydmljZUNsYXNzJywgdm0uc2VydmljZUNsYXNzKVxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59O1xuLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgndHJ1bXBzTnV0cycpXG5cdC5kaXJlY3RpdmUoJ3NoaXBwaW5nSW5mbycsIHNoaXBwaW5nSW5mbyk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gc2hpcHBpbmdJbmZvKCkge1xuICAgIGxpbmtGdW5jLiRpbmplY3QgPSBbXCJzY29wZVwiLCBcImVsXCIsIFwiYXR0clwiLCBcImN0cmxcIl07XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvc2hpcHBpbmdJbmZvLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHRcdGFkZHJlc3M6ICc9Jyxcblx0XHRcdHJlcXVpcm5tZW50czogJz0nLFxuXHRcdFx0Y29zdDogJz0nLFxuXHRcdFx0cXR5OiAnPSdcblx0XHR9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IHNoaXBwaW5nSW5mb0NvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBzaGlwcGluZ0luZm9Db250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJywgJ3NlcnZlciddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIHNoaXBwaW5nSW5mb0NvbnRyb2xsZXIoJHNjb3BlLCAkbG9nLCBzZXJ2ZXIpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0ICAgIC8vJGxvZy5pbmZvKCd2bS5yZXF1aXJubWVudHMnLCB2bS5yZXF1aXJubWVudHMsICd2bS5jb3N0Jywgdm0uY29zdCk7XG5cdCAgICAvL3ZpZXcgbW9kZWwgbWV0aG9kc1xuXHQgICAgdm0uY2FsY3VsYXRlU2hpcHBpbmcgPSBmdW5jdGlvbih6aXBQb2ludHMpIHtcblx0ICAgIFx0JGxvZy5pbmZvKCdjYWxjdWxhdGluZyB0aGUgaW5mbyBub3cnLCB6aXBQb2ludHMpO1xuXG5cdCAgICBcdC8vZ2V0IHRoZSBzaGlwcGluZyBpbmZvIGZyb20gVVNQUyBBUElcblx0ICAgIFx0c2VydmVyLnBvc3RhZ2VDYWxjdWxhdG9yKHppcFBvaW50cywgdm0ucXR5KS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG5cdCAgICBcdFx0XG5cdCAgICBcdFx0dm0ucmVxdWlybm1lbnRzLmRhdGFBcXVpcmVkID0gdHJ1ZTtcblxuXHQgICAgXHRcdCRsb2cuaW5mbygnZ290IHRoaXMgYmFjayBmcm9tIHBvc3RhZ2VDYWxjdWxhdG9yJywgcmVzcG9uc2UsIHZtLnJlcXVpcm5tZW50cy5kYXRhQXF1aXJlZCk7XG5cblx0ICAgIFx0fSkuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHtcblx0ICAgIFx0XHQkbG9nLmluZm8oJ2dvdCB0aGlzIGVycm9yIGZyb20gdGhlIHBvc3RhZ2VDYWxjdWxhdG9yJywgZXJyb3IpO1xuXHQgICAgXHR9KVxuXHQgICAgfVxuXG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTtcbi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ3RydW1wc051dHMnKVxuXHQuZGlyZWN0aXZlKCdzdGF0ZScsIHN0YXRlKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBzdGF0ZSgpIHtcbiAgICBsaW5rRnVuYy4kaW5qZWN0ID0gW1wic2NvcGVcIiwgXCJlbFwiLCBcImF0dHJcIiwgXCJjdHJsXCJdO1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL3N0YXRlLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHRcdHN0YXRlSWQ6ICc9J1xuXHRcdH0sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogc3RhdGVDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgc3RhdGVDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gc3RhdGVDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59O1xuLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgndHJ1bXBzTnV0cycpXG5cdC5kaXJlY3RpdmUoJ3N0cmVldCcsIHN0cmVldCk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gc3RyZWV0KCkge1xuICAgIGxpbmtGdW5jLiRpbmplY3QgPSBbXCJzY29wZVwiLCBcImVsXCIsIFwiYXR0clwiLCBcImN0cmxcIl07XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvc3RyZWV0LmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHRcdHN0cmVldEFkZHJlc3M6ICc9J1xuXHRcdH0sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogc3RyZWV0Q29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIHN0cmVldENvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBzdHJlZXRDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59O1xuLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgndHJ1bXBzTnV0cycpXG5cdC5kaXJlY3RpdmUoJ3Rvb2xCYXInLCB0b29sQmFyKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiB0b29sQmFyKCkge1xuICAgIGxpbmtGdW5jLiRpbmplY3QgPSBbXCJzY29wZVwiLCBcImVsXCIsIFwiYXR0clwiLCBcImN0cmxcIl07XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvdG9vbEJhci5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBUb29sQmFyQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIFRvb2xCYXJDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gVG9vbEJhckNvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07XG4vKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCd0cnVtcHNOdXRzJylcblx0LmRpcmVjdGl2ZSgneW91ck5hbWUnLCB5b3VyTmFtZSk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24geW91ck5hbWUoKSB7XG4gICAgbGlua0Z1bmMuJGluamVjdCA9IFtcInNjb3BlXCIsIFwiZWxcIiwgXCJhdHRyXCIsIFwiY3RybFwiXTtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy95b3VyTmFtZS5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7XG5cdFx0XHRuYW1lOiAnPSdcblx0XHR9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IHlvdXJOYW1lQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIHlvdXJOYW1lQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIHlvdXJOYW1lQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTtcbi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ3RydW1wc051dHMnKVxuXHQuZGlyZWN0aXZlKCd6aXBDb2RlJywgemlwQ29kZSk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gemlwQ29kZSgpIHtcbiAgICBsaW5rRnVuYy4kaW5qZWN0ID0gW1wic2NvcGVcIiwgXCJlbFwiLCBcImF0dHJcIiwgXCJjdHJsXCJdO1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL3ppcENvZGUuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge1xuXHRcdFx0dW5pcXVlSWQ6ICc9Jyxcblx0XHRcdHppcDogJz0nLFxuXHRcdFx0Y2l0eU5hbWU6ICc9Jyxcblx0XHRcdHN0YXRlSWQ6ICc9Jyxcblx0XHRcdGNhbGN1bGF0ZVNoaXBwaW5nOiAnJidcblx0XHR9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IHppcENvZGVDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgemlwQ29kZUNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnLCAnJHJvb3RTY29wZScsICdzZXJ2ZXInLCAnc3RhdGVEYXRhJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gemlwQ29kZUNvbnRyb2xsZXIoJHNjb3BlLCAkbG9nLCAkcm9vdFNjb3BlLCBzZXJ2ZXIsIHN0YXRlRGF0YSkge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHQgICAgLy9kZWZpbmUgdmlld21vZGVsIHZhcmlhYmxlc1xuXHQgICAgdm0udmFsU3RhZ2VzID0gc3RhdGVEYXRhLmluaXRWYWxTdGFnZXMoKTtcblxuXHQgICAgdm0uc3RhdGUgPSB7XG5cdFx0ICAgIGNvbnRhaW5lcjoge1xuXHRcdCAgICBcdGNsYXNzZXM6IHN0YXRlRGF0YS5pbml0Q2xhc3NlcygnY29udGFpbmVyJyksXG5cdFx0ICAgIFx0c3R5bGVzOiBzdGF0ZURhdGEuaW5pdFN0eWxlcygnY29udGFpbmVyJylcdCAgICBcdFx0XG5cdCAgICBcdH0sIFxuXHQgICAgXHRpbnB1dDoge1xuXHRcdCAgICBcdGNsYXNzZXM6IHN0YXRlRGF0YS5pbml0Q2xhc3NlcygnaW5wdXQnKSxcblx0XHQgICAgXHRzdHlsZXM6IHN0YXRlRGF0YS5pbml0U3R5bGVzKCdjb250YWluZXInKVxuXHQgICAgXHR9XG5cdCAgICB9XG5cblx0ICAgIGZ1bmN0aW9uIGxvbmdFbm91Z2goemlwY29kZSkge1xuXHQgICAgXHR2YXIgZmxhZyA9IGZhbHNlO1xuXG5cdCAgICBcdC8vJGxvZy5pbmZvKCdjaGVjaW5nIGxlbmd0aCcsIHppcGNvZGUsIHppcGNvZGUubGVuZ3RoKTtcblxuXHQgICAgXHRpZih0eXBlb2YgemlwY29kZSAhPSAndW5kZWZpbmVkJylcblx0ICAgIFx0XHRpZih6aXBjb2RlLmxlbmd0aCA+PSA1KSBmbGFnID0gdHJ1ZTtcblxuXHQgICAgXHRyZXR1cm4gZmxhZztcblx0ICAgIH1cblxuXHQgICAgZnVuY3Rpb24gc3VjY2Vzc2lmeUlucHV0KCkgeyBcblx0ICAgIFx0Ly8kbG9nLmluZm8oJ3N1Y2Nlc3MnLCB2bS5zdGF0ZS5jb250YWluZXIpO1xuXHQgICAgXHR2bS5zdGF0ZS5jb250YWluZXIuY2xhc3NlcyA9IHN0YXRlRGF0YS51cGRhdGVTdGF0ZSgnY29udGFpbmVyJywgJ3N1Y2Nlc3MnKTtcblx0ICAgIFx0Ly92bS5zdGF0ZS5jb250YWluZXIuY2xhc3Nlc1snaGFzLXN1Y2Nlc3MnXSA9IHRydWU7XG5cdCAgICBcdC8vdm0uc3RhdGUuY29udGFpbmVyLmNsYXNzZXNbJ2hhcy13YXJuaW5nJ10gPSBmYWxzZTtcblx0ICAgIFx0Ly92bS5zdGF0ZS5jb250YWluZXIuY2xhc3Nlc1snaGFzLWRhbmdlciddID0gZmFsc2U7XG5cdCAgICBcdHZtLnN0YXRlLmlucHV0LmNsYXNzZXMgPSBzdGF0ZURhdGEudXBkYXRlU3RhdGUoJ2lucHV0JywgJ3N1Y2Nlc3MnKTtcblx0ICAgIFx0Ly92bS5zdGF0ZS5pbnB1dC5jbGFzc2VzWydmb3JtLWNvbnRyb2wtc3VjY2VzcyddID0gdHJ1ZTtcblx0ICAgIFx0Ly92bS5zdGF0ZS5pbnB1dC5jbGFzc2VzWydmb3JtLWNvbnRyb2wtd2FybmluZyddID0gZmFsc2U7XG5cdCAgICBcdC8vdm0uc3RhdGUuaW5wdXQuY2xhc3Nlc1snZm9ybS1jb250cm9sLWRhbmdlciddID0gZmFsc2U7XG5cdCAgICB9XG5cblx0ICAgIGZ1bmN0aW9uIGZhaWxpZnlJbnB1dCgpIHsgXG5cdCAgICBcdC8vJGxvZy5pbmZvKCdmYWlsZWQnKTtcblx0ICAgIFx0dm0uc3RhdGUuY29udGFpbmVyLmNsYXNzZXNbJ2hhcy1zdWNjZXNzJ10gPSBmYWxzZTtcblx0ICAgIFx0dm0uc3RhdGUuY29udGFpbmVyLmNsYXNzZXNbJ2hhcy13YXJuaW5nJ10gPSB0cnVlO1xuXHQgICAgXHR2bS5zdGF0ZS5jb250YWluZXIuY2xhc3Nlc1snaGFzLWRhbmdlciddID0gZmFsc2U7XG5cblx0ICAgIFx0dm0uc3RhdGUuaW5wdXQuY2xhc3Nlc1snZm9ybS1jb250cm9sLXN1Y2Nlc3MnXSA9IGZhbHNlO1xuXHQgICAgXHR2bS5zdGF0ZS5pbnB1dC5jbGFzc2VzWydmb3JtLWNvbnRyb2wtd2FybmluZyddID0gdHJ1ZTtcblx0ICAgIFx0dm0uc3RhdGUuaW5wdXQuY2xhc3Nlc1snZm9ybS1jb250cm9sLWRhbmdlciddID0gZmFsc2U7XG5cdCAgICB9XG5cblx0ICAgIGZ1bmN0aW9uIGNpdHlTdGF0ZUxvb2t1cCh6aXBjb2RlKSB7XG5cdFx0ICAgIFxuXHRcdCAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG5cblx0XHRcdCAgICBzZXJ2ZXIuY2l0eVN0YXRlTG9va3VwKHppcGNvZGUpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcblx0XHRcdCAgICBcdCRsb2cuaW5mbygnZ290IHRoaXMgcmVzcG9uc2UnLCByZXNwb25zZSk7XG5cdFx0XHQgICAgXHRyZXNvbHZlKHJlc3BvbnNlKTtcblx0XHRcdCAgICB9KS5jYXRjaChmdW5jdGlvbihlcnJvcikge1xuXHRcdFx0ICAgIFx0JGxvZy5pbmZvKCdnb3QgdGhpcyBlcnJvcicsIGVycm9yKTtcblx0XHRcdCAgICBcdHJlamVjdChlcnJvcik7XG5cdFx0XHQgICAgfSk7XG5cblx0XHQgICAgfSk7XG5cdCAgICBcdFxuXHQgICAgfVxuXG5cdCAgICB2bS52YWxpZGF0ZSA9IGZ1bmN0aW9uKHppcGNvZGUpIHtcblxuXHQgICAgXHQvLyRsb2cuaW5mbygndmFsaWRhdGluZyB6aXAnKTtcblxuXHQgICAgXHQvL29ubHkgdmFsaWRhdGUgaWYgdGhleSd2ZSB0cmllZCBhdCBsZWFzdCBvbmNlXG5cdCAgICBcdGlmKHZtLnZhbFN0YWdlcy5hdHRlbXB0ZWQpIHtcblxuXHQgICAgXHRcdC8vJGxvZy5pbmZvKCdjZWhja2luZyBsZW5ndGgnLCBsb25nRW5vdWdoKHppcGNvZGUpKTtcblxuXHQgICAgXHRcdC8vY2hlY2sgaWYgaXQncyBsb25nIGVub3VnaFxuXHQgICAgXHRcdGlmKGxvbmdFbm91Z2goemlwY29kZSkpIHtcblxuXHQgICAgXHRcdFx0Ly8kbG9nLmluZm8oJ2dvb2QgbGVuZ3RoLCBhY3RpbmcgYWNvcmRpbmdseScpO1xuXHQgICAgXHRcdFx0Ly9jaGFuZ2UgdGhlIGNsYXNzZXNcblx0ICAgIFx0XHRcdHN1Y2Nlc3NpZnlJbnB1dCgpO1xuXHQgICAgXHRcdFx0XG5cdCAgICBcdFx0XHQvL2dldCB0aGUgY2l0eSBhbmQgc3RhdGVcblx0ICAgIFx0XHRcdGNpdHlTdGF0ZUxvb2t1cCh6aXBjb2RlKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG5cdCAgICBcdFx0XHRcdC8vd2hlbiBzdWNjZXNzZnVsbHkgYXF1aXJlZCwgdXBkYXRlIHRoZSBtb2RlbFxuXHQgICAgXHRcdFx0XHQvLyRsb2cuaW5mbyhyZXNwb25zZSk7XG5cdCAgICBcdFx0XHRcdHZtLmNpdHlOYW1lID0gcmVzcG9uc2UuemlwQ29kZS5jaXR5O1xuXHQgICAgXHRcdFx0XHR2bS5zdGF0ZUlkID0gcmVzcG9uc2UuemlwQ29kZS5zdGF0ZTtcblxuXHQgICAgXHRcdFx0XHQvL2FmdGVyIHRoZSB2YWx1ZXMgaGF2ZSBiZWVuIHVwZGF0ZWQsIGFwcGx5IHRoZSB1cGRhdGVzXG5cdCAgICBcdFx0XHRcdCRyb290U2NvcGUuJGFwcGx5KCk7XG5cblx0ICAgIFx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7XG5cdCAgICBcdFx0XHRcdCRsb2cuaW5mbygndGhlcmUgd2FzIGFuIGVycm9yJyk7XG5cdCAgICBcdFx0XHR9KTtcblxuXHQgICAgXHRcdFx0Ly9jYWxjdWxhdGUgc2hpcHBpbmdcblx0ICAgIFx0XHRcdHZtLmNhbGN1bGF0ZVNoaXBwaW5nKCkoe3N0YXJ0OiAnOTcwMDUnLCBlbmQ6IHZtLnppcH0pO1xuXG5cdCAgICBcdFx0fSBlbHNlIHtcblx0ICAgIFx0XHRcdGZhaWxpZnlJbnB1dCgpO1xuXHQgICAgXHRcdH1cblxuXHQgICAgXHR9XG5cblx0ICAgIH1cblxuXHQgICAgdm0uc3VibWl0ID0gZnVuY3Rpb24oemlwY29kZSkge1xuXG5cdCAgICBcdHZtLnZhbFN0YWdlcy5hdHRlbXB0ZWQgPSB0cnVlO1xuXG5cdCAgICBcdHZtLnZhbGlkYXRlKHppcGNvZGUpO1xuXHQgICAgfVxuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07XG5hbmd1bGFyXG4gICAgLm1vZHVsZSgndHJ1bXBzTnV0cycpXG4gICAgLmZhY3RvcnkoJ2RhdGFNb2RlbCcsIGRhdGFNb2RlbCk7XG5cbmRhdGFNb2RlbC4kaW5qZWN0ID0gWyckbG9nJ107XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gZGF0YU1vZGVsKCRsb2cpIHtcblxuXHR2YXIgZGF0YU1vZGVsT2JqZWN0ID0ge1xuXHRcdG5hbWU6IHtcblx0XHRcdGZpcnN0OiAnJyxcblx0XHRcdGxhc3Q6ICcnXG5cdFx0fSxcblx0XHRlbWFpbDogJycsXG5cdFx0Y29weVNoaXBwaW5nQWRkcmVzczogdHJ1ZSxcblx0XHRwcm9kdWN0OiB7XG5cdFx0XHRwcmljZTogMjAwMFxuXHRcdH0sXG5cdFx0b3JkZXI6IHtcblx0XHRcdHF0eTogMSxcblx0XHRcdGNvc3Q6IHtcblx0XHRcdFx0c3VidG90YWw6IDIwMDAsXG5cdFx0XHRcdHRheDogMCxcblx0XHRcdFx0ZGlzY291bnRzOiB7XG5cdFx0XHRcdFx0cHJvbW90aW9uczogW10sXG5cdFx0XHRcdFx0dG90YWxWYWx1ZTogMFxuXHRcdFx0XHR9LFxuXHRcdFx0XHR0b3RhbDogMFxuXHRcdFx0fVxuXHRcdH0sXG5cdFx0c2hpcHBpbmc6IHtcblx0XHRcdGFkZHJlc3M6IHtcblx0XHRcdFx0c3RyZWV0MTogJycsXG5cdFx0XHRcdHN0cmVldDI6ICcnLFxuXHRcdFx0XHRzdHJlZXQzOiAnJyxcblx0XHRcdFx0Y2l0eTogJycsXG5cdFx0XHRcdHN0YXRlOiAnJyxcblx0XHRcdFx0emlwOiAnJ1xuXHRcdFx0fSwgXG5cdFx0XHRyZXF1aXJubWVudHM6IHtcblx0XHRcdFx0aXNQcmlvcml0eTogJ3RydWUnLFxuXHRcdFx0XHRkYXRhQXF1aXJlZDogZmFsc2UsXG5cdFx0XHRcdHByaW9yaXR5OiB7XG5cdFx0XHRcdFx0dHJhbnNpdERheXM6IDAsXG5cdFx0XHRcdFx0Y29zdDoge1xuXHRcdFx0XHRcdFx0YW1vdW50OiAwLFxuXHRcdFx0XHRcdFx0Y3VycmVuY3k6ICdVU0QnXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRleHByZXNzOiB7XG5cdFx0XHRcdFx0dHJhbnNpdERheXM6IDAsXG5cdFx0XHRcdFx0Y29zdDoge1xuXHRcdFx0XHRcdFx0YW1vdW50OiAwLFxuXHRcdFx0XHRcdFx0Y3VycmVuY3k6ICdVU0QnXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdFx0Y29zdDoge1xuXHRcdFx0XHRhbW91bnQ6IDY0NSxcblx0XHRcdFx0Y3VycmVuY3k6ICdVU0QnXG5cdFx0XHR9XG5cdFx0fSxcblx0XHRiaWxsaW5nOiB7XG5cdFx0XHRhZGRyZXNzOiB7XG5cdFx0XHRcdHN0cmVldDE6ICcnLFxuXHRcdFx0XHRzdHJlZXQyOiAnJyxcblx0XHRcdFx0c3RyZWV0MzogJycsXG5cdFx0XHRcdGNpdHk6ICcnLFxuXHRcdFx0XHRzdGF0ZTogJycsXG5cdFx0XHRcdHppcDogJydcblx0XHRcdH0sXG5cdFx0XHRwYXltZW50OiB7XG5cdFx0XHRcdG51bWJlcjogWycnLCAnJywgJycsICcnXSxcblx0XHRcdFx0ZXhwOiBbJycsICcnXSxcblx0XHRcdFx0Y3N2OiAnJ1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0YXBpczoge1xuXHRcdFx0c3F1YXJlSWQ6ICcnXG5cdFx0fSxcblx0XHRfcmVhZDpfcmVhZCxcblx0XHRfdXBkYXRlOl91cGRhdGUsXG5cdFx0cmVhZFByb3A6cmVhZFByb3AsXG5cdFx0dXBkYXRlUHJvcDp1cGRhdGVQcm9wXG5cdH07XG5cblx0ZnVuY3Rpb24gX3JlYWQocHJvcCkge31cblx0ZnVuY3Rpb24gX3VwZGF0ZShwcm9wLCB2YWx1ZSkge31cblx0ZnVuY3Rpb24gcmVhZFByb3AocHJvcCkge31cblx0ZnVuY3Rpb24gdXBkYXRlUHJvcChwcm9wLCB2YWx1ZSkge31cblxuXHRyZXR1cm4gZGF0YU1vZGVsT2JqZWN0O1xufVxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ3RydW1wc051dHMnKVxuICAgIC5mYWN0b3J5KCdzdGF0ZUZhY3RvcnknLCBzdGF0ZUZhY3RvcnkpO1xuXG5zdGF0ZUZhY3RvcnkuJGluamVjdCA9IFsnJGxvZyddO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHN0YXRlRmFjdG9yeSgkbG9nKSB7XG5cblx0dmFyIHN0YXRlT2JqZWN0ID0ge1xuXHRcdG1vZGVsOiB7XG5cdFx0XHRhbGxFbGVtZW50c0NvbXBsZXRlZDogZmFsc2UsXG5cdFx0XHRmaWVsZHM6IFtdLFxuXHRcdFx0aW5wdXQ6IHtcblx0XHRcdFx0cHJvcDoge1xuXHRcdFx0XHRcdG5hbWU6ICcnLFxuXHRcdFx0XHRcdHJlcXVpcm5tZW50czogW11cblx0XHRcdFx0fSxcblx0XHRcdFx0c3RhdGU6IHtcblx0XHRcdFx0XHRhZGRyZXNzZWQ6IGZhbHNlLFxuXHRcdFx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0XHRcdGZhaWx1cmU6IGZhbHNlXG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXHRcdGNsYXNzZXM6IHtcblx0XHRcdCdmb3JtLWdyb3VwJzogZmFsc2UsXG5cdFx0XHQnaGFzLXN1Y2Nlc3MnOiBmYWxzZSxcblx0XHRcdCdoYXMtd2FybmluZyc6IGZhbHNlLFxuXHRcdFx0J2hhcy1kYW5nZXInOiBmYWxzZSxcblx0XHRcdCdmb3JtLWNvbnRyb2wtbGFiZWwnOiBmYWxzZSxcblx0XHRcdCdmb3JtLWNvbnRyb2wnOiBmYWxzZSxcblx0XHRcdCdmb3JtLWNvbnRyb2wtc3VjY2Vzcyc6IGZhbHNlLFxuXHRcdFx0J2Zvcm0tY29udHJvbC13YXJuaW5nJzogZmFsc2UsXG5cdFx0XHQnZm9ybS1jb250cm9sLWRhbmdlcic6IGZhbHNlLFxuXHRcdFx0J2Zvcm0tY29udHJvbC1mZWVkYmFjayc6IGZhbHNlLFxuXHRcdFx0J2Zvcm0tdGV4dCc6IGZhbHNlLFxuXHRcdFx0J3RleHQtbXV0ZWQnOiBmYWxzZVxuXHRcdH0sXG5cdFx0c3R5bGVzOiB7XG5cblx0XHR9LFxuXHRcdGNoYW5nZVN0YXRlOiB7XG5cdFx0XHRpbnB1dFN1Y2Nlc3M6ICcnLFxuXHRcdFx0aW5wdXRGYWlsZWQ6ICcnXG5cdFx0fVxuXHR9XG5cblx0ZnVuY3Rpb24gaW5wdXRTdWNjZXNzKCkge31cblx0ZnVuY3Rpb24gaW5wdXRGYWlsZWQoKSB7fVxuXG5cdHJldHVybiBzdGF0ZU9iamVjdDtcbn1cbmFuZ3VsYXJcbiAgICAubW9kdWxlKCd0cnVtcHNOdXRzJylcbiAgICAuY29uZmlnKGNvbmZpZyk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gY29uZmlnKCRyb3V0ZVByb3ZpZGVyKSB7ICAgXG4gICAgJHJvdXRlUHJvdmlkZXJcbiAgICAvL2RlZmluZSB0aGUgbGFuZGluZyBwYWdlXG4gICAgLndoZW4oJy8nLCB7XG4gICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvbGFuZGluZ1BhZ2UuaHRtJyxcbiAgICAgICAgY29udHJvbGxlcjogJ2xhbmRpbmdDb250cm9sbGVyJyxcbiAgICAgICAgY29udHJvbGxlckFzOiAndm0nXG4gICAgfSlcbiAgICAud2hlbignL3Byb2Nlc3NpbmcnLCB7XG4gICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvcHJvY2Vzc2luZy5odG0nLFxuICAgICAgICBjb250cm9sbGVyOiAncHJvY2Vzc2luZ0NvbnRyb2xsZXInLFxuICAgICAgICBjb250cm9sbGVyQXM6ICd2bSdcbiAgICB9KVxuICAgIC53aGVuKCcvY29uZmlybWF0aW9uJywge1xuICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL2NvbmZpcm1hdGlvbi5odG0nLFxuICAgICAgICBjb250cm9sbGVyOiAnY29uZmlybWF0aW9uQ29udHJvbGxlcicsXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJ1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBnZXRBdXRoSWQoc2VydmVyKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBzZXJ2ZXIuZ2V0U3FyQXBwSWQoKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICByZXNvbHZlKHJlc3BvbnNlLmlkKTtcbiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgIH0pO1xuICAgIH0pXG59XG5cbmFuZ3VsYXJcbiAgICAubW9kdWxlKCd0cnVtcHNOdXRzJylcbiAgICAuc2VydmljZSgnc2VydmVyJywgc2VydmVyKTtcblxuc2VydmVyLiRpbmplY3QgPSBbJyRsb2cnLCAnJGh0dHAnXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBzZXJ2ZXIoJGxvZywgJGh0dHApIHtcblx0dmFyIGJhY2tlbmQgPSB0aGlzO1xuXG5cdC8vZ2V0cyBmcm9tIHRoZSBzZXJ2ZXJcblx0YmFja2VuZC5fZ2V0ID0gZnVuY3Rpb24odXJsKSB7XG5cdFx0Ly8kbG9nLmluZm8oJ2dldHRpbmcgQmFja2VuZCcpO1xuXHRcdHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcblxuXHRcdFx0JGh0dHAuZ2V0KHVybCkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuXG5cdFx0XHRcdC8vJGxvZy5pbmZvKHJlc3BvbnNlKTtcblxuXHRcdFx0XHRyZXNvbHZlKHJlc3BvbnNlLmRhdGEpO1xuXG5cdFx0XHR9LCBmdW5jdGlvbiB0aGVFcnJvcnMoZXJyb3IpIHtcblxuXHRcdFx0XHRyZWplY3QoZXJyb3IpO1xuXG5cdFx0XHR9KTtcblxuXHRcdH0pO1xuXG5cdH1cblxuXHQvL3Bvc3RzIHRvIHRoZSBzZXJ2ZXJcblx0YmFja2VuZC5fcG9zdCA9IGZ1bmN0aW9uKHVybCwgZGF0YSwgY29uZmlnKSB7XG5cblx0XHQkbG9nLmluZm8oJ3VybCcsIHVybCwgJ2RhdGEnLCBkYXRhKTtcblxuXHRcdC8vcmV0dXJuIHRoZSBwcm9taXNlXG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuXG5cdFx0XHQkaHR0cC5wb3N0KHVybCwgZGF0YSwgY29uZmlnKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG5cblx0XHRcdFx0cmVzb2x2ZShyZXNwb25zZSk7XG5cblx0XHRcdH0sIGZ1bmN0aW9uIHRoZUVycm9ycyhlcnJvcikge1xuXG5cdFx0XHRcdHJlamVjdChlcnJvcik7XG5cblx0XHRcdH0pO1xuXG5cdFx0fSk7XG5cblx0fVxuXG5cdC8vY2hhcmdlIGEgY2FyZFxuXHRiYWNrZW5kLmNoYXJnZUNhcmQgPSBmdW5jdGlvbih1cmwsIGRhdGEpIHtcblxuXHRcdHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcblxuXHRcdFx0YmFja2VuZC5fcG9zdCh1cmwsIGRhdGEsIHt9KS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG5cdFx0XHRcdHJlc29sdmUocmVzcG9uc2UpO1xuXHRcdFx0fSkuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHtcblx0XHRcdFx0cmVqZWN0KGVycm9yKTtcblx0XHRcdH0pO1xuXG5cdFx0fSk7XG5cblx0fVxuXG5cdC8vZ2V0IHRoZSByZXF1aXJlZCBzcXVhcmUgaWRcblx0YmFja2VuZC5nZXRTcXJBcHBJZCA9IGZ1bmN0aW9uKCkge1xuXHRcdC8vJGxvZy5pbmZvKCdzZW5kaW5nIGZyb20gc3FyJyk7XG5cdFx0Ly9yZXR1cm4gdGhlIHByb21pc2Vcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG5cblx0XHRcdGJhY2tlbmQuX2dldCgnL2FwaS9zcXVhcmVJZCcpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcblx0XHRcdFx0Ly8kbG9nLmluZm8oJ2dvdCB0aGlzJywgcmVzcG9uc2UpO1xuXHRcdFx0XHRyZXNvbHZlKHJlc3BvbnNlKTtcblx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xuXHRcdFx0XHRyZWplY3QoZXJyKTtcblx0XHRcdH0pO1xuXG5cdFx0fSk7XG5cblx0fVxuXG5cdC8vcmVjZWl2ZXMgYSB6aXBjb2RlLCByZXR1cm5zIGEgY2l0eSBhbmQgc3RhdGVcblx0YmFja2VuZC5jaXR5U3RhdGVMb29rdXAgPSBmdW5jdGlvbih6aXBjb2RlKSB7XG5cblx0XHQvL2J1aWxkIHRoZSBuZXcgdXJsXG5cdFx0dmFyIHVybCA9ICcvYXBpL3ppcGNoZWNrLycgKyB6aXBjb2RlO1xuXG5cdFx0Ly9yZXR1cm4gdGhlIHByb21pc2Vcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG5cblx0XHRcdC8vaW5pdGlhdGUgdGhlIHJlcXVlc3Rcblx0XHRcdGJhY2tlbmQuX2dldCh1cmwpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcblxuXHRcdFx0XHQvL3JldHVybiBhIGdvb2QgcmVzcG9uc2Vcblx0XHRcdFx0cmVzb2x2ZShyZXNwb25zZSk7XG5cblx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7XG5cblx0XHRcdFx0Ly9yZXR1cm4gYW4gZXJyb3IgcmVzcG9uc2Vcblx0XHRcdFx0cmVqZWN0KGVycm9yKTtcblx0XHRcdFx0XG5cdFx0XHR9KTtcblxuXHRcdH0pO1xuXG5cdH1cblxuXHRiYWNrZW5kLnBvc3RhZ2VDYWxjdWxhdG9yID0gZnVuY3Rpb24oemlwUG9pbnRzLCBxdHkpIHtcblx0XHRcblx0XHQkbG9nLmluZm8oJ2dvdCB0aGVzZSBkYXRhIHBvaW50cy4gemlwUG9pbnRzOicsIHppcFBvaW50cywgJ3F0eScsIHF0eSk7XG5cblx0XHR2YXIgdXJsID0gJy9hcGkvY2FsY1Bvc3RhZ2UvJyArIHppcFBvaW50cy5zdGFydCArIFwiL1wiICsgemlwUG9pbnRzLmVuZCArICcvJyArIHF0eTtcblxuXHRcdHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcblxuXHRcdFx0YmFja2VuZC5fZ2V0KHVybCkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuXG5cdFx0XHRcdCRsb2cuaW5mbygnZ290IHRoaXMgcmVzcG9uc2UnLCByZXNwb25zZSk7XG5cdFx0XHRcdC8vcmV0dXJuIGEgZ29vZCByZXNwb25zZVxuXHRcdFx0XHRyZXNvbHZlKHJlc3BvbnNlKTtcblxuXHRcdFx0fSkuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHtcblxuXHRcdFx0XHQvL3JldHVybiBhbiBlcnJvciByZXNwb25zZVxuXHRcdFx0XHRyZWplY3QoZXJyb3IpO1xuXG5cdFx0XHR9KTtcblxuXHRcdH0pO1xuXG5cdH1cblxuXHRiYWNrZW5kLnN1Ym1pdFNhbGUgPSBmdW5jdGlvbihvcmRlckZvcm0pIHtcblxuXHRcdCRsb2cuaW5mbygnc3VibWl0dGluZyBzYWxlJyk7XG5cblx0XHQvL2RlZmluZSBsb2NhbCB2YXJpYWJsZVxuXHRcdHZhciBjb25maWcgPSB7XG5cdFx0XHQnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PXV0Zi04Oydcblx0XHR9O1xuXG5cdFx0Ly9yZXR1cm4gdGhlIHByb21pc2Vcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG5cblx0XHRcdC8vaW5pdGlhdGUgdGhlIHJlcXVlc3Rcblx0XHRcdGJhY2tlbmQuX3Bvc3QoJy9hcGkvb3JkZXInLCBvcmRlckZvcm0sIGNvbmZpZykudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuXG5cdFx0XHRcdC8vcmV0dXJuIGEgZ29vZCByZXNwb25zZVxuXHRcdFx0XHRyZXNvbHZlKHJlc3BvbnNlKTtcblxuXHRcdFx0fSkuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHtcblxuXHRcdFx0XHRyZWplY3QoZXJyb3IpO1xuXG5cdFx0XHR9KTtcblxuXHRcdH0pO1xuXG5cdH1cblxufVxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ3RydW1wc051dHMnKVxuICAgIC5zZXJ2aWNlKCdzdGF0ZURhdGEnLCBzdGF0ZURhdGEpO1xuXG5zdGF0ZURhdGEuJGluamVjdCA9IFsnJGxvZyddO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHN0YXRlRGF0YSgkbG9nKSB7XG5cdHZhciBzdGF0ZSA9IHRoaXM7XG5cblx0c3RhdGUudmFsU3RhZ2VzID0ge1xuICAgIFx0YXR0ZW1wdGVkOiBmYWxzZSxcbiAgICBcdHN1Y2Nlc3NmdWw6IGZhbHNlLFxuICAgIFx0ZmFpbGVkOiB0cnVlXG5cdH07XG5cblx0c3RhdGUuY2xhc3NlcyA9IHtcblx0XHRjb250YWluZXI6IHtcblx0XHRcdCdoYXMtc3VjY2Vzcyc6IGZhbHNlLFxuXHRcdFx0J2hhcy13YXJuaW5nJzogZmFsc2UsXG5cdFx0XHQnaGFzLWRhbmdlcic6IGZhbHNlLFx0XHRcdFxuXHRcdH0sXG5cdFx0aW5wdXQ6IHtcblx0XHRcdCdmb3JtLWNvbnRyb2wtc3VjY2Vzcyc6IGZhbHNlLFxuXHRcdFx0J2Zvcm0tY29udHJvbC13YXJuaW5nJzogZmFsc2UsXG5cdFx0XHQnZm9ybS1jb250cm9sLWRhbmdlcic6IGZhbHNlXG5cdFx0fVxuXHR9O1xuXG5cdHN0YXRlLnN0eWxlcyA9IHtcblx0XHRjb250YWluZXI6IHt9LFxuXHRcdGlucHV0OiB7fVxuXHR9O1xuXG5cdHN0YXRlLmluaXRWYWxTdGFnZXMgPSBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gc3RhdGUudmFsU3RhZ2VzO1xuXHR9XG5cblx0c3RhdGUuaW5pdENsYXNzZXMgPSBmdW5jdGlvbihzZWN0aW9uKSB7XG5cdFx0cmV0dXJuIHN0YXRlLmNsYXNzZXNbc2VjdGlvbl07XG5cdH1cblxuXHRzdGF0ZS5pbml0U3R5bGVzID0gZnVuY3Rpb24oc2VjdGlvbikge1xuXHRcdHJldHVybiBzdGF0ZS5zdHlsZXNbc2VjdGlvbl07XG5cdH1cblxuXHRzdGF0ZS51cGRhdGVTdGF0ZSA9IGZ1bmN0aW9uKHNlY3Rpb24sIHZhbHVlKSB7XG5cdFx0dmFyIHJldHVybk9iamVjdCA9IHN0YXRlLmNsYXNzZXNbc2VjdGlvbl07XG5cblx0XHRPYmplY3Qua2V5cyhyZXR1cm5PYmplY3QpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG5cdFx0XHR2YXIgcmVzdWx0QXJyYXkgPSBrZXkuc3BsaXQoJy0nKTtcblxuXHRcdFx0cmVzdWx0QXJyYXkuZm9yRWFjaChmdW5jdGlvbih3b3JkKSB7XG5cdFx0XHRcdGlmKHdvcmQgPT0gdmFsdWUpIHJldHVybk9iamVjdFtrZXldID0gdHJ1ZTtcblx0XHRcdFx0ZWxzZSByZXR1cm5PYmplY3Rba2V5XSA9IGZhbHNlO1xuXHRcdFx0fSk7XG5cblx0XHRcdC8vaWYoa2V5LmNvbnRhaW5zKHZhbHVlKSkgcmV0dXJuT2JqZWN0W2tleV0gPSB0cnVlO1xuXHRcdFx0Ly9lbHNlIHJldHVybk9iamVjdFtrZXldID0gZmFsc2U7XG5cdFx0fSk7XG5cblx0XHRyZXR1cm4gcmV0dXJuT2JqZWN0O1xuXHR9XG5cbn1cdCIsIi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ3RydW1wc051dHMnKVxuXHQuZGlyZWN0aXZlKCdiaWxsaW5nSW5mbycsIGJpbGxpbmdJbmZvKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBiaWxsaW5nSW5mbygpIHtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9iaWxsaW5nSW5mby5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7XG5cdFx0XHRhZGRyZXNzOiAnPScsXG5cdFx0XHRwYXltZW50OiAnPScsXG5cdFx0XHRjb3B5U2hpcHBpbmdBZGRyZXNzOiAnPScsXG5cdFx0XHRjb3B5U2hpcHBpbmc6ICcmJ1xuXHRcdH0sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogYmlsbGluZ0luZm9Db250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgYmlsbGluZ0luZm9Db250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gYmlsbGluZ0luZm9Db250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHQgICAgLy92aWV3IG1vZGVsIG1ldGhvZHNcblx0ICAgIHZtLnRvZ2dsZUFkZHJlc3NDb3B5ID0gZnVuY3Rpb24oYnRuU3RhdGUpIHtcblxuXHQgICAgXHR2bS5jb3B5U2hpcHBpbmcoKShidG5TdGF0ZSk7XG5cblx0ICAgIH1cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTsiLCIvKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCd0cnVtcHNOdXRzJylcblx0LmRpcmVjdGl2ZSgnY2NDU1YnLCBjY0NTVik7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gY2NDU1YoKSB7XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvY2NDU1YuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge30sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogY2NDU1ZDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgY2NDU1ZDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gY2NDU1ZDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59OyIsIi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ3RydW1wc051dHMnKVxuXHQuZGlyZWN0aXZlKCdjY0NhcHR1cmUnLCBjY0NhcHR1cmUpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGNjQ2FwdHVyZSgpIHtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9jY0NhcHR1cmUuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge1xuXHRcdFx0aXNQcm9jZXNzaW5nOiAnPScsXG5cdFx0XHR6aXA6ICc9Jyxcblx0XHRcdHN0YXRlSWQ6ICc9Jyxcblx0XHRcdGNpdHlOYW1lOiAnPSdcblx0XHR9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IGNjQ2FwdHVyZUNvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBjY0NhcHR1cmVDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJywgJ3NlcnZlciddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGNjQ2FwdHVyZUNvbnRyb2xsZXIoJHNjb3BlLCAkbG9nLCBzZXJ2ZXIpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0ICAgIHZtLmRhdGEgPSB7IGNhcmQ6e30gfTtcblxuXHQgICAgLy92aWV3IG1vZGVsIG1ldGhvZHNcblx0ICAgIHZtLnN1Ym1pdEZvcm0gPSBmdW5jdGlvbigpIHtcblx0XHRcdCRsb2cuaW5mbygnc3VibWl0dGluZycsIHZtLmRhdGEpO1xuXHRcdFx0dm0uaXNQcm9jZXNzaW5nID0gdHJ1ZTtcblx0XHRcdHZtLnBheW1lbnRGb3JtLnJlcXVlc3RDYXJkTm9uY2UoKTtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHR2bS5jaGFyZ2VDYXJkV2l0aE5vbmNlID0gZnVuY3Rpb24obm9uY2UpIHtcblx0XHRcdFxuXHRcdFx0dmFyIHVybCA9IFwiL2NoYXJnZXMvY2hhcmdlX2NhcmRcIjtcblx0XHRcdFxuXHRcdFx0dmFyIGRhdGEgPSB7XG5cdFx0XHRcdG5vbmNlOiBub25jZSxcblx0XHRcdFx0cHJvZHVjdF9pZDogMTEyMywvLyRzY29wZS5kYXRhLnByb2R1Y3RfaWQsXG5cdFx0XHRcdG5hbWU6ICdKb2huIFNtaXRoJywgLy8kc2NvcGUuZGF0YS51c2VyLm5hbWUsXG5cdFx0XHRcdC8vZW1haWw6ICRzY29wZS5kYXRhLnVzZXIuZW1haWwsICAgICAgICAgXG5cdFx0XHRcdHN0cmVldF9hZGRyZXNzXzE6ICcxMjM0IE1haW4gU3RyZWV0JywgLy8kc2NvcGUuZGF0YS51c2VyLnN0cmVldF9hZGRyZXNzXzEsXG5cdFx0XHRcdHN0cmVldF9hZGRyZXNzXzI6ICcnLCAvLyRzY29wZS5kYXRhLnVzZXIuc3RyZWV0X2FkZHJlc3NfMixcblx0XHRcdFx0Y2l0eTogdm0uY2l0eU5hbWUsIC8vJHNjb3BlLmRhdGEudXNlci5jaXR5LFxuXHRcdFx0XHRzdGF0ZTogdm0uc3RhdGVJZCwgLy8kc2NvcGUuZGF0YS51c2VyLnN0YXRlLFxuXHRcdFx0XHR6aXA6IHZtLnppcCAvLyRzY29wZS5kYXRhLnVzZXIuemlwXG5cdFx0XHR9O1xuXG5cdFx0XHRzZXJ2ZXIuY2hhcmdlQ2FyZCh1cmwsIGRhdGEpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcblx0XHRcdFx0JGxvZy5pbmZvKCdyZXNwb25zZScsIHJlc3BvbnNlKTtcblx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7XG5cdFx0XHRcdCRsb2cuaW5mbygnZXJyb3InLCBlcnJvcik7XG5cdFx0XHR9KVxuXG5cdFx0XHQvKiRodHRwLnBvc3QodXJsLCBkYXRhKS5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEsIHN0YXR1cykge1xuXHRcdFx0XHRpZiAoZGF0YS5zdGF0dXMgPT0gNDAwKXtcblx0XHRcdFx0ICAvLyBkaXNwbGF5IHNlcnZlciBzaWRlIGNhcmQgcHJvY2Vzc2luZyBlcnJvcnMgXG5cdFx0XHRcdCAgJHNjb3BlLmlzUGF5bWVudFN1Y2Nlc3MgPSBmYWxzZTtcblx0XHRcdFx0ICAkc2NvcGUuY2FyZF9lcnJvcnMgPSBbXVxuXHRcdFx0XHQgIGZvciAodmFyIGkgPTA7IGkgPCBkYXRhLmVycm9ycy5sZW5ndGg7IGkrKyl7XG5cdFx0XHRcdCAgICAkc2NvcGUuY2FyZF9lcnJvcnMucHVzaCh7bWVzc2FnZTogZGF0YS5lcnJvcnNbaV0uZGV0YWlsfSlcblx0XHRcdFx0ICB9XG5cdFx0XHRcdH1lbHNlIGlmIChkYXRhLnN0YXR1cyA9PSAyMDApIHtcblx0XHRcdFx0ICAkc2NvcGUuaXNQYXltZW50U3VjY2VzcyA9IHRydWU7XG5cdFx0XHRcdH1cblx0XHRcdFx0JHNjb3BlLmlzUHJvY2Vzc2luZyA9IGZhbHNlO1xuXHRcdFx0fSkuZXJyb3IoZnVuY3Rpb24oKXtcblx0XHRcdFx0JHNjb3BlLmlzUGF5bWVudFN1Y2Nlc3MgPSBmYWxzZTtcblx0XHRcdFx0JHNjb3BlLmlzUHJvY2Vzc2luZyA9IGZhbHNlO1xuXHRcdFx0XHQkc2NvcGUuY2FyZF9lcnJvcnMgPSBbe21lc3NhZ2U6IFwiUHJvY2Vzc2luZyBlcnJvciwgcGxlYXNlIHRyeSBhZ2FpbiFcIn1dO1xuXHRcdFx0fSkqL1xuXHRcdH1cblx0XHRcblx0XHQvL2xvY2FsIG1ldGhvZHNcblx0ICAgIHZhciBpbml0ID0gZnVuY3Rpb24oKSB7XG5cblx0ICAgIFx0c2VydmVyLmdldFNxckFwcElkKCkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuXHRcdFx0XHRcblx0XHRcdFx0dm0ucGF5bWVudEZvcm0gPSBuZXcgU3FQYXltZW50Rm9ybSh7XG5cdFx0XHRcdCAgICBhcHBsaWNhdGlvbklkOiByZXNwb25zZS5pZCxcblx0XHRcdFx0ICAgIGlucHV0Q2xhc3M6ICdzcS1pbnB1dCcsXG5cdFx0XHRcdCAgICBpbnB1dFN0eWxlczogW1xuXHRcdFx0XHQgICAgICB7XG5cdFx0XHRcdCAgICAgICAgZm9udFNpemU6ICcxNHB4Jyxcblx0XHQgICAgICAgICAgICBcdHBhZGRpbmc6ICc3cHggMTJweCcsXG5cdFx0ICAgICAgICAgICAgXHRiYWNrZ3JvdW5kQ29sb3I6IFwidHJhbnNwYXJlbnRcIlxuXHRcdFx0XHQgICAgICB9XG5cdFx0XHRcdCAgICBdLFxuXHRcdFx0XHQgICAgY2FyZE51bWJlcjoge1xuXHRcdFx0XHQgICAgICBlbGVtZW50SWQ6ICdzcS1jYXJkLW51bWJlcicsXG5cdFx0XHRcdCAgICAgIHBsYWNlaG9sZGVyOiAn4oCi4oCi4oCi4oCiIOKAouKAouKAouKAoiDigKLigKLigKLigKIg4oCi4oCi4oCi4oCiJ1xuXHRcdFx0XHQgICAgfSxcblx0XHRcdFx0ICAgIGN2djoge1xuXHRcdFx0XHQgICAgICBlbGVtZW50SWQ6ICdzcS1jdnYnLFxuXHRcdFx0XHQgICAgICBwbGFjZWhvbGRlcjogJ0NWVidcblx0XHRcdFx0ICAgIH0sXG5cdFx0XHRcdCAgICBleHBpcmF0aW9uRGF0ZToge1xuXHRcdFx0XHQgICAgICBlbGVtZW50SWQ6ICdzcS1leHBpcmF0aW9uLWRhdGUnLFxuXHRcdFx0XHQgICAgICBwbGFjZWhvbGRlcjogJ01NL1lZJ1xuXHRcdFx0XHQgICAgfSxcblx0XHRcdFx0ICAgIHBvc3RhbENvZGU6IHtcblx0XHRcdFx0ICAgICAgZWxlbWVudElkOiAnc3EtcG9zdGFsLWNvZGUnXG5cdFx0XHRcdCAgICB9LFxuXHRcdFx0XHQgICAgY2FsbGJhY2tzOiB7XG5cblx0XHRcdFx0ICAgICAgLy8gQ2FsbGVkIHdoZW4gdGhlIFNxUGF5bWVudEZvcm0gY29tcGxldGVzIGEgcmVxdWVzdCB0byBnZW5lcmF0ZSBhIGNhcmRcblx0XHRcdFx0ICAgICAgLy8gbm9uY2UsIGV2ZW4gaWYgdGhlIHJlcXVlc3QgZmFpbGVkIGJlY2F1c2Ugb2YgYW4gZXJyb3IuXG5cdFx0XHRcdCAgICAgIGNhcmROb25jZVJlc3BvbnNlUmVjZWl2ZWQ6IGZ1bmN0aW9uKGVycm9ycywgbm9uY2UsIGNhcmREYXRhKSB7XG5cdFx0XHRcdCAgICAgICAgaWYgKGVycm9ycykge1xuXHRcdFx0XHQgICAgICAgICAgJGxvZy5pbmZvKFwiRW5jb3VudGVyZWQgZXJyb3JzOlwiLCBlcnJvcnMpO1xuXHRcdFx0XHQgICAgICAgICAgdm0uY2FyZF9lcnJvcnMgPSBlcnJvcnM7XG5cdFx0ICAgICAgICAgICAgXHQgIHZtLmlzUHJvY2Vzc2luZyA9IGZhbHNlO1xuXHRcdCAgICAgICAgICAgIFx0ICAkc2NvcGUuJGFwcGx5KCk7IC8vIHJlcXVpcmVkIHNpbmNlIHRoaXMgaXMgbm90IGFuIGFuZ3VsYXIgZnVuY3Rpb25cblxuXHRcdFx0XHQgICAgICAgIC8vIE5vIGVycm9ycyBvY2N1cnJlZC4gRXh0cmFjdCB0aGUgY2FyZCBub25jZS5cblx0XHRcdFx0ICAgICAgICB9IGVsc2Uge1xuXHRcdFx0XHQgICAgICAgICAgdm0uY2FyZF9lcnJvcnMgPSBbXTtcblx0XHRcdFx0ICAgICAgICAgIC8vIERlbGV0ZSB0aGlzIGxpbmUgYW5kIHVuY29tbWVudCB0aGUgbGluZXMgYmVsb3cgd2hlbiB5b3UncmUgcmVhZHlcblx0XHRcdFx0ICAgICAgICAgIC8vIHRvIHN0YXJ0IHN1Ym1pdHRpbmcgbm9uY2VzIHRvIHlvdXIgc2VydmVyLlxuXHRcdFx0XHQgICAgICAgICAgYWxlcnQoJ05vbmNlIHJlY2VpdmVkOiAnICsgbm9uY2UpO1xuXG5cdFx0XHRcdCAgICAgICAgICB2bS5jaGFyZ2VDYXJkV2l0aE5vbmNlKG5vbmNlKTtcblxuXHRcdFx0XHQgICAgICAgICAgLypcblx0XHRcdFx0ICAgICAgICAgICAgVGhlc2UgbGluZXMgYXNzaWduIHRoZSBnZW5lcmF0ZWQgY2FyZCBub25jZSB0byBhIGhpZGRlbiBpbnB1dFxuXHRcdFx0XHQgICAgICAgICAgICBmaWVsZCwgdGhlbiBzdWJtaXQgdGhhdCBmaWVsZCB0byB5b3VyIHNlcnZlci5cblx0XHRcdFx0ICAgICAgICAgICAgVW5jb21tZW50IHRoZW0gd2hlbiB5b3UncmUgcmVhZHkgdG8gdGVzdCBvdXQgc3VibWl0dGluZyBub25jZXMuXG5cblx0XHRcdFx0ICAgICAgICAgICAgWW91J2xsIGFsc28gbmVlZCB0byBzZXQgdGhlIGFjdGlvbiBhdHRyaWJ1dGUgb2YgdGhlIGZvcm0gZWxlbWVudFxuXHRcdFx0XHQgICAgICAgICAgICBhdCB0aGUgYm90dG9tIG9mIHRoaXMgc2FtcGxlLCB0byBjb3JyZXNwb25kIHRvIHRoZSBVUkwgeW91IHdhbnQgdG9cblx0XHRcdFx0ICAgICAgICAgICAgc3VibWl0IHRoZSBub25jZSB0by5cblx0XHRcdFx0ICAgICAgICAgICovXG5cdFx0XHRcdCAgICAgICAgICAvLyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FyZC1ub25jZScpLnZhbHVlID0gbm9uY2U7XG5cdFx0XHRcdCAgICAgICAgICAvLyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbm9uY2UtZm9ybScpLnN1Ym1pdCgpO1xuXG5cdFx0XHRcdCAgICAgICAgfVxuXHRcdFx0XHQgICAgICB9LFxuXG5cdFx0XHRcdCAgICAgIHVuc3VwcG9ydGVkQnJvd3NlckRldGVjdGVkOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0ICAgICAgICAvLyBGaWxsIGluIHRoaXMgY2FsbGJhY2sgdG8gYWxlcnQgYnV5ZXJzIHdoZW4gdGhlaXIgYnJvd3NlciBpcyBub3Qgc3VwcG9ydGVkLlxuXHRcdFx0XHQgICAgICB9LFxuXG5cdFx0XHRcdCAgICAgIC8vIEZpbGwgaW4gdGhlc2UgY2FzZXMgdG8gcmVzcG9uZCB0byB2YXJpb3VzIGV2ZW50cyB0aGF0IGNhbiBvY2N1ciB3aGlsZSBhXG5cdFx0XHRcdCAgICAgIC8vIGJ1eWVyIGlzIHVzaW5nIHRoZSBwYXltZW50IGZvcm0uXG5cdFx0XHRcdCAgICAgIGlucHV0RXZlbnRSZWNlaXZlZDogZnVuY3Rpb24oaW5wdXRFdmVudCkge1xuXHRcdFx0XHQgICAgICAgIHN3aXRjaCAoaW5wdXRFdmVudC5ldmVudFR5cGUpIHtcblx0XHRcdFx0ICAgICAgICAgIGNhc2UgJ2ZvY3VzQ2xhc3NBZGRlZCc6XG5cdFx0XHRcdCAgICAgICAgICAgIC8vIEhhbmRsZSBhcyBkZXNpcmVkXG5cdFx0XHRcdCAgICAgICAgICAgIGJyZWFrO1xuXHRcdFx0XHQgICAgICAgICAgY2FzZSAnZm9jdXNDbGFzc1JlbW92ZWQnOlxuXHRcdFx0XHQgICAgICAgICAgICAvLyBIYW5kbGUgYXMgZGVzaXJlZFxuXHRcdFx0XHQgICAgICAgICAgICBicmVhaztcblx0XHRcdFx0ICAgICAgICAgIGNhc2UgJ2Vycm9yQ2xhc3NBZGRlZCc6XG5cdFx0XHRcdCAgICAgICAgICAgIC8vIEhhbmRsZSBhcyBkZXNpcmVkXG5cdFx0XHRcdCAgICAgICAgICAgIGJyZWFrO1xuXHRcdFx0XHQgICAgICAgICAgY2FzZSAnZXJyb3JDbGFzc1JlbW92ZWQnOlxuXHRcdFx0XHQgICAgICAgICAgICAvLyBIYW5kbGUgYXMgZGVzaXJlZFxuXHRcdFx0XHQgICAgICAgICAgICBicmVhaztcblx0XHRcdFx0ICAgICAgICAgIGNhc2UgJ2NhcmRCcmFuZENoYW5nZWQnOlxuXHRcdFx0XHQgICAgICAgICAgICAvLyBIYW5kbGUgYXMgZGVzaXJlZFxuXHRcdFx0XHQgICAgICAgICAgICBicmVhaztcblx0XHRcdFx0ICAgICAgICAgIGNhc2UgJ3Bvc3RhbENvZGVDaGFuZ2VkJzpcblx0XHRcdFx0ICAgICAgICAgICAgLy8gSGFuZGxlIGFzIGRlc2lyZWRcblx0XHRcdFx0ICAgICAgICAgICAgYnJlYWs7XG5cdFx0XHRcdCAgICAgICAgfVxuXHRcdFx0XHQgICAgICB9LFxuXG5cdFx0XHRcdCAgICAgIHBheW1lbnRGb3JtTG9hZGVkOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0ICAgICAgICAvLyBGaWxsIGluIHRoaXMgY2FsbGJhY2sgdG8gcGVyZm9ybSBhY3Rpb25zIGFmdGVyIHRoZSBwYXltZW50IGZvcm0gaXNcblx0XHRcdFx0ICAgICAgICAvLyBkb25lIGxvYWRpbmcgKHN1Y2ggYXMgc2V0dGluZyB0aGUgcG9zdGFsIGNvZGUgZmllbGQgcHJvZ3JhbW1hdGljYWxseSkuXG5cdFx0XHRcdCAgICAgICAgLy8gcGF5bWVudEZvcm0uc2V0UG9zdGFsQ29kZSgnOTQxMDMnKTtcblx0XHRcdFx0ICAgICAgfVxuXHRcdFx0XHQgICAgfVxuXHRcdFx0XHR9KTtcblx0XHQgICAgXHR2bS5wYXltZW50Rm9ybS5idWlsZCgpO1xuXHQgICAgXHR9KS5jYXRjaChmdW5jdGlvbihlcnJvcikge1xuXHQgICAgXHRcdCRsb2cuaW5mbyhlcnJvcik7XG5cdCAgICBcdH0pO1xuXHQgICAgXHRcblx0ICAgIH1cblxuXHQgICAgaW5pdCgpO1xuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59OyIsIi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ3RydW1wc051dHMnKVxuXHQuZGlyZWN0aXZlKCdjY0V4cCcsIGNjRXhwKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBjY0V4cCgpIHtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9jY0V4cC5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBjY0V4cENvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBjY0V4cENvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBjY0V4cENvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07IiwiLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgndHJ1bXBzTnV0cycpXG5cdC5kaXJlY3RpdmUoJ2NjTmFtZScsIGNjTmFtZSk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gY2NOYW1lKCkge1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL2NjTmFtZS5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBjY05hbWVDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgY2NOYW1lQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGNjTmFtZUNvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07IiwiLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgndHJ1bXBzTnV0cycpXG5cdC5kaXJlY3RpdmUoJ2NjTnVtYmVyJywgY2NOdW1iZXIpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGNjTnVtYmVyKCkge1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL2NjTnVtYmVyLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHt9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IGNjTnVtYmVyQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIGNjTnVtYmVyQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGNjTnVtYmVyQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTsiLCIvKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCd0cnVtcHNOdXRzJylcblx0LmRpcmVjdGl2ZSgnY2l0eScsIGNpdHkpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGNpdHkoKSB7XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvY2l0eS5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7XG5cdFx0XHRjaXR5TmFtZTogJz0nXG5cdFx0fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBjaXR5Q29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIGNpdHlDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gY2l0eUNvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07IiwiLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgndHJ1bXBzTnV0cycpXG5cdC5kaXJlY3RpdmUoJ2NvbnRhY3RJbmZvJywgY29udGFjdEluZm8pO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGNvbnRhY3RJbmZvKCkge1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL2NvbnRhY3RJbmZvLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHRcdG5hbWU6ICc9Jyxcblx0XHRcdGVtYWlsOiAnPSdcblx0XHR9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IGNvbnRhY3RJbmZvQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIGNvbnRhY3RJbmZvQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGNvbnRhY3RJbmZvQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTsiLCIvKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCd0cnVtcHNOdXRzJylcblx0LmRpcmVjdGl2ZSgnZW1haWxBZGRyZXNzJywgZW1haWxBZGRyZXNzKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBlbWFpbEFkZHJlc3MoKSB7XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvZW1haWxBZGRyZXNzLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHRcdGVtYWlsOiAnPSdcblx0XHR9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IGVtYWlsQWRkcmVzc0NvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBlbWFpbEFkZHJlc3NDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gZW1haWxBZGRyZXNzQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTsiLCIvKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCd0cnVtcHNOdXRzJylcblx0LmRpcmVjdGl2ZSgnZmlyc3ROYW1lJywgZmlyc3ROYW1lKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBmaXJzdE5hbWUoKSB7XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvZmlyc3ROYW1lLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHRcdGZpcnN0OiAnPSdcblx0XHR9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IGZpcnN0TmFtZUNvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBmaXJzdE5hbWVDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJywgJ3N0YXRlRGF0YSddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGZpcnN0TmFtZUNvbnRyb2xsZXIoJHNjb3BlLCAkbG9nLCBzdGF0ZURhdGEpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0ICAgIC8vJGxvZy5pbmZvKHN0YXRlKTtcblxuXHQgICAgdm0uc3RhdGUgPSB7XG5cdFx0ICAgIGNvbnRhaW5lcjoge1xuXHRcdCAgICBcdGNsYXNzZXM6IHN0YXRlRGF0YS5pbml0Q2xhc3NlcygnY29udGFpbmVyJyksXG5cdFx0ICAgIFx0c3R5bGVzOiBzdGF0ZURhdGEuaW5pdFN0eWxlcygnY29udGFpbmVyJylcdCAgICBcdFx0XG5cdCAgICBcdH0sIFxuXHQgICAgXHRpbnB1dDoge1xuXHRcdCAgICBcdGNsYXNzZXM6IHN0YXRlRGF0YS5pbml0Q2xhc3NlcygnaW5wdXQnKSxcblx0XHQgICAgXHRzdHlsZXM6IHN0YXRlRGF0YS5pbml0U3R5bGVzKCdjb250YWluZXInKVxuXHQgICAgXHR9XG5cdCAgICB9XG5cblx0ICAgIC8vdmlldyBtb2RlbCBtZXRob2RzXG5cdCAgICB2bS52YWxpZGF0ZSA9IGZ1bmN0aW9uKGZpZWxkLCB2YWx1ZSkge1xuXHQgICAgXHRcblx0ICAgIFx0Ly9pZih2YWx1ZS5sZW5ndGggPiAxKSBzdGF0ZS5jaGFuZ2VTdGF0ZS5pbnB1dFN1Y2Nlc3MoKVxuXG5cdCAgICB9XG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07IiwiLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgndHJ1bXBzTnV0cycpXG5cdC5kaXJlY3RpdmUoJ2xhc3ROYW1lJywgbGFzdE5hbWUpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGxhc3ROYW1lKCkge1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL2xhc3ROYW1lLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHRcdGxhc3Q6ICc9J1xuXHRcdH0sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogbGFzdE5hbWVDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgbGFzdE5hbWVDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gbGFzdE5hbWVDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59OyIsIi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ3RydW1wc051dHMnKVxuXHQuZGlyZWN0aXZlKCdwcm9kdWN0U2VsZWN0aW9uJywgcHJvZHVjdFNlbGVjdGlvbik7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gcHJvZHVjdFNlbGVjdGlvbigpIHtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9wcm9kdWN0U2VsZWN0aW9uLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHRcdHF0eTogJz0nLFxuXHRcdFx0cHJpY2U6ICc9Jyxcblx0XHRcdHN1YnRvdGFsOiAnPSdcblx0XHR9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IHByb2R1Y3RTZWxlY3Rpb25Db250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgcHJvZHVjdFNlbGVjdGlvbkNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBwcm9kdWN0U2VsZWN0aW9uQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0ICAgIC8vcHJpdmF0ZSBtZXRob2RzXG5cblxuXHQgICAgLy92aWV3IG1vZGVsIG1ldGhvZHNcblx0ICAgIHZtLmNhbGN1bGF0ZVN1YnRvdGFsID0gZnVuY3Rpb24oKSB7XG5cdCAgICBcdHZtLnN1YnRvdGFsID0gdm0ucXR5ICogdm0ucHJpY2U7XG5cdCAgICB9XG5cblx0ICAgXHR2bS5kZWNyZW1lbnQgPSBmdW5jdGlvbigpIHtcblx0ICAgIFx0aWYodm0ucXR5ID4gMSkgdm0ucXR5ID0gdm0ucXR5IC0gMTtcblxuXHQgICAgXHR2bS5jYWxjdWxhdGVTdWJ0b3RhbCgpO1xuXHQgICAgfVxuXG5cdCAgICB2bS5pbmNyZW1lbnQgPSBmdW5jdGlvbigpIHtcblx0ICAgIFx0dm0ucXR5ID0gdm0ucXR5ICsgMTtcblxuXHQgICAgXHR2bS5jYWxjdWxhdGVTdWJ0b3RhbCgpO1xuXHQgICAgfVxuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07IiwiLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgndHJ1bXBzTnV0cycpXG5cdC5kaXJlY3RpdmUoJ3Byb2dyZXNzQmFyJywgcHJvZ3Jlc3NCYXIpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHByb2dyZXNzQmFyKCkge1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL3Byb2dyZXNzQmFyLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHt9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IHByb2dyZXNzQmFyQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIHByb2dyZXNzQmFyQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIHByb2dyZXNzQmFyQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTsiLCIvKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCd0cnVtcHNOdXRzJylcblx0LmRpcmVjdGl2ZSgncHVyY2hhc2VCdG4nLCBwdXJjaGFzZUJ0bik7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gcHVyY2hhc2VCdG4oKSB7XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvcHVyY2hhc2VCdG4uZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge1xuXHRcdFx0c3VibWl0Rm9ybTogJyYnXG5cdFx0fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBwdXJjaGFzZUJ0bkNvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBwdXJjaGFzZUJ0bkNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBwdXJjaGFzZUJ0bkNvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07IiwiLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgndHJ1bXBzTnV0cycpXG5cdC5kaXJlY3RpdmUoJ3NoaXBwaW5nQ2FsY3VsYXRvcicsIHNoaXBwaW5nQ2FsY3VsYXRvcik7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gc2hpcHBpbmdDYWxjdWxhdG9yKCkge1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL3NoaXBwaW5nQ2FsY3VsYXRvci5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7XG5cdFx0XHRzZXJ2aWNlQ2xhc3M6ICc9Jyxcblx0XHRcdGNvc3Q6ICc9J1xuXHRcdH0sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogc2hpcHBpbmdDYWxjdWxhdG9yQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIHNoaXBwaW5nQ2FsY3VsYXRvckNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBzaGlwcGluZ0NhbGN1bGF0b3JDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHQgICAgLy8kbG9nLmluZm8oJ3ZtLnNlcnZpY2VDbGFzcycsIHZtLnNlcnZpY2VDbGFzcylcblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTsiLCIvKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCd0cnVtcHNOdXRzJylcblx0LmRpcmVjdGl2ZSgnc2hpcHBpbmdJbmZvJywgc2hpcHBpbmdJbmZvKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBzaGlwcGluZ0luZm8oKSB7XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvc2hpcHBpbmdJbmZvLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHRcdGFkZHJlc3M6ICc9Jyxcblx0XHRcdHJlcXVpcm5tZW50czogJz0nLFxuXHRcdFx0Y29zdDogJz0nLFxuXHRcdFx0cXR5OiAnPSdcblx0XHR9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IHNoaXBwaW5nSW5mb0NvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBzaGlwcGluZ0luZm9Db250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJywgJ3NlcnZlciddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIHNoaXBwaW5nSW5mb0NvbnRyb2xsZXIoJHNjb3BlLCAkbG9nLCBzZXJ2ZXIpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0ICAgIC8vJGxvZy5pbmZvKCd2bS5yZXF1aXJubWVudHMnLCB2bS5yZXF1aXJubWVudHMsICd2bS5jb3N0Jywgdm0uY29zdCk7XG5cdCAgICAvL3ZpZXcgbW9kZWwgbWV0aG9kc1xuXHQgICAgdm0uY2FsY3VsYXRlU2hpcHBpbmcgPSBmdW5jdGlvbih6aXBQb2ludHMpIHtcblx0ICAgIFx0JGxvZy5pbmZvKCdjYWxjdWxhdGluZyB0aGUgaW5mbyBub3cnLCB6aXBQb2ludHMpO1xuXG5cdCAgICBcdC8vZ2V0IHRoZSBzaGlwcGluZyBpbmZvIGZyb20gVVNQUyBBUElcblx0ICAgIFx0c2VydmVyLnBvc3RhZ2VDYWxjdWxhdG9yKHppcFBvaW50cywgdm0ucXR5KS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG5cdCAgICBcdFx0XG5cdCAgICBcdFx0dm0ucmVxdWlybm1lbnRzLmRhdGFBcXVpcmVkID0gdHJ1ZTtcblxuXHQgICAgXHRcdCRsb2cuaW5mbygnZ290IHRoaXMgYmFjayBmcm9tIHBvc3RhZ2VDYWxjdWxhdG9yJywgcmVzcG9uc2UsIHZtLnJlcXVpcm5tZW50cy5kYXRhQXF1aXJlZCk7XG5cblx0ICAgIFx0fSkuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHtcblx0ICAgIFx0XHQkbG9nLmluZm8oJ2dvdCB0aGlzIGVycm9yIGZyb20gdGhlIHBvc3RhZ2VDYWxjdWxhdG9yJywgZXJyb3IpO1xuXHQgICAgXHR9KVxuXHQgICAgfVxuXG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTsiLCIvKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCd0cnVtcHNOdXRzJylcblx0LmRpcmVjdGl2ZSgnc3RhdGUnLCBzdGF0ZSk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gc3RhdGUoKSB7XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvc3RhdGUuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge1xuXHRcdFx0c3RhdGVJZDogJz0nXG5cdFx0fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBzdGF0ZUNvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBzdGF0ZUNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBzdGF0ZUNvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07IiwiLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgndHJ1bXBzTnV0cycpXG5cdC5kaXJlY3RpdmUoJ3N0cmVldCcsIHN0cmVldCk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gc3RyZWV0KCkge1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL3N0cmVldC5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7XG5cdFx0XHRzdHJlZXRBZGRyZXNzOiAnPSdcblx0XHR9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IHN0cmVldENvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBzdHJlZXRDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gc3RyZWV0Q29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTsiLCIvKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCd0cnVtcHNOdXRzJylcblx0LmRpcmVjdGl2ZSgndG9vbEJhcicsIHRvb2xCYXIpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHRvb2xCYXIoKSB7XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvdG9vbEJhci5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBUb29sQmFyQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIFRvb2xCYXJDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gVG9vbEJhckNvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07IiwiLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgndHJ1bXBzTnV0cycpXG5cdC5kaXJlY3RpdmUoJ3lvdXJOYW1lJywgeW91ck5hbWUpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHlvdXJOYW1lKCkge1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL3lvdXJOYW1lLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHRcdG5hbWU6ICc9J1xuXHRcdH0sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogeW91ck5hbWVDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgeW91ck5hbWVDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24geW91ck5hbWVDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59OyIsIi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ3RydW1wc051dHMnKVxuXHQuZGlyZWN0aXZlKCd6aXBDb2RlJywgemlwQ29kZSk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gemlwQ29kZSgpIHtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy96aXBDb2RlLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHRcdHVuaXF1ZUlkOiAnPScsXG5cdFx0XHR6aXA6ICc9Jyxcblx0XHRcdGNpdHlOYW1lOiAnPScsXG5cdFx0XHRzdGF0ZUlkOiAnPScsXG5cdFx0XHRjYWxjdWxhdGVTaGlwcGluZzogJyYnXG5cdFx0fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiB6aXBDb2RlQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIHppcENvZGVDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJywgJyRyb290U2NvcGUnLCAnc2VydmVyJywgJ3N0YXRlRGF0YSddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIHppcENvZGVDb250cm9sbGVyKCRzY29wZSwgJGxvZywgJHJvb3RTY29wZSwgc2VydmVyLCBzdGF0ZURhdGEpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0ICAgIC8vZGVmaW5lIHZpZXdtb2RlbCB2YXJpYWJsZXNcblx0ICAgIHZtLnZhbFN0YWdlcyA9IHN0YXRlRGF0YS5pbml0VmFsU3RhZ2VzKCk7XG5cblx0ICAgIHZtLnN0YXRlID0ge1xuXHRcdCAgICBjb250YWluZXI6IHtcblx0XHQgICAgXHRjbGFzc2VzOiBzdGF0ZURhdGEuaW5pdENsYXNzZXMoJ2NvbnRhaW5lcicpLFxuXHRcdCAgICBcdHN0eWxlczogc3RhdGVEYXRhLmluaXRTdHlsZXMoJ2NvbnRhaW5lcicpXHQgICAgXHRcdFxuXHQgICAgXHR9LCBcblx0ICAgIFx0aW5wdXQ6IHtcblx0XHQgICAgXHRjbGFzc2VzOiBzdGF0ZURhdGEuaW5pdENsYXNzZXMoJ2lucHV0JyksXG5cdFx0ICAgIFx0c3R5bGVzOiBzdGF0ZURhdGEuaW5pdFN0eWxlcygnY29udGFpbmVyJylcblx0ICAgIFx0fVxuXHQgICAgfVxuXG5cdCAgICBmdW5jdGlvbiBsb25nRW5vdWdoKHppcGNvZGUpIHtcblx0ICAgIFx0dmFyIGZsYWcgPSBmYWxzZTtcblxuXHQgICAgXHQvLyRsb2cuaW5mbygnY2hlY2luZyBsZW5ndGgnLCB6aXBjb2RlLCB6aXBjb2RlLmxlbmd0aCk7XG5cblx0ICAgIFx0aWYodHlwZW9mIHppcGNvZGUgIT0gJ3VuZGVmaW5lZCcpXG5cdCAgICBcdFx0aWYoemlwY29kZS5sZW5ndGggPj0gNSkgZmxhZyA9IHRydWU7XG5cblx0ICAgIFx0cmV0dXJuIGZsYWc7XG5cdCAgICB9XG5cblx0ICAgIGZ1bmN0aW9uIHN1Y2Nlc3NpZnlJbnB1dCgpIHsgXG5cdCAgICBcdC8vJGxvZy5pbmZvKCdzdWNjZXNzJywgdm0uc3RhdGUuY29udGFpbmVyKTtcblx0ICAgIFx0dm0uc3RhdGUuY29udGFpbmVyLmNsYXNzZXMgPSBzdGF0ZURhdGEudXBkYXRlU3RhdGUoJ2NvbnRhaW5lcicsICdzdWNjZXNzJyk7XG5cdCAgICBcdC8vdm0uc3RhdGUuY29udGFpbmVyLmNsYXNzZXNbJ2hhcy1zdWNjZXNzJ10gPSB0cnVlO1xuXHQgICAgXHQvL3ZtLnN0YXRlLmNvbnRhaW5lci5jbGFzc2VzWydoYXMtd2FybmluZyddID0gZmFsc2U7XG5cdCAgICBcdC8vdm0uc3RhdGUuY29udGFpbmVyLmNsYXNzZXNbJ2hhcy1kYW5nZXInXSA9IGZhbHNlO1xuXHQgICAgXHR2bS5zdGF0ZS5pbnB1dC5jbGFzc2VzID0gc3RhdGVEYXRhLnVwZGF0ZVN0YXRlKCdpbnB1dCcsICdzdWNjZXNzJyk7XG5cdCAgICBcdC8vdm0uc3RhdGUuaW5wdXQuY2xhc3Nlc1snZm9ybS1jb250cm9sLXN1Y2Nlc3MnXSA9IHRydWU7XG5cdCAgICBcdC8vdm0uc3RhdGUuaW5wdXQuY2xhc3Nlc1snZm9ybS1jb250cm9sLXdhcm5pbmcnXSA9IGZhbHNlO1xuXHQgICAgXHQvL3ZtLnN0YXRlLmlucHV0LmNsYXNzZXNbJ2Zvcm0tY29udHJvbC1kYW5nZXInXSA9IGZhbHNlO1xuXHQgICAgfVxuXG5cdCAgICBmdW5jdGlvbiBmYWlsaWZ5SW5wdXQoKSB7IFxuXHQgICAgXHQvLyRsb2cuaW5mbygnZmFpbGVkJyk7XG5cdCAgICBcdHZtLnN0YXRlLmNvbnRhaW5lci5jbGFzc2VzWydoYXMtc3VjY2VzcyddID0gZmFsc2U7XG5cdCAgICBcdHZtLnN0YXRlLmNvbnRhaW5lci5jbGFzc2VzWydoYXMtd2FybmluZyddID0gdHJ1ZTtcblx0ICAgIFx0dm0uc3RhdGUuY29udGFpbmVyLmNsYXNzZXNbJ2hhcy1kYW5nZXInXSA9IGZhbHNlO1xuXG5cdCAgICBcdHZtLnN0YXRlLmlucHV0LmNsYXNzZXNbJ2Zvcm0tY29udHJvbC1zdWNjZXNzJ10gPSBmYWxzZTtcblx0ICAgIFx0dm0uc3RhdGUuaW5wdXQuY2xhc3Nlc1snZm9ybS1jb250cm9sLXdhcm5pbmcnXSA9IHRydWU7XG5cdCAgICBcdHZtLnN0YXRlLmlucHV0LmNsYXNzZXNbJ2Zvcm0tY29udHJvbC1kYW5nZXInXSA9IGZhbHNlO1xuXHQgICAgfVxuXG5cdCAgICBmdW5jdGlvbiBjaXR5U3RhdGVMb29rdXAoemlwY29kZSkge1xuXHRcdCAgICBcblx0XHQgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuXG5cdFx0XHQgICAgc2VydmVyLmNpdHlTdGF0ZUxvb2t1cCh6aXBjb2RlKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG5cdFx0XHQgICAgXHQkbG9nLmluZm8oJ2dvdCB0aGlzIHJlc3BvbnNlJywgcmVzcG9uc2UpO1xuXHRcdFx0ICAgIFx0cmVzb2x2ZShyZXNwb25zZSk7XG5cdFx0XHQgICAgfSkuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHtcblx0XHRcdCAgICBcdCRsb2cuaW5mbygnZ290IHRoaXMgZXJyb3InLCBlcnJvcik7XG5cdFx0XHQgICAgXHRyZWplY3QoZXJyb3IpO1xuXHRcdFx0ICAgIH0pO1xuXG5cdFx0ICAgIH0pO1xuXHQgICAgXHRcblx0ICAgIH1cblxuXHQgICAgdm0udmFsaWRhdGUgPSBmdW5jdGlvbih6aXBjb2RlKSB7XG5cblx0ICAgIFx0Ly8kbG9nLmluZm8oJ3ZhbGlkYXRpbmcgemlwJyk7XG5cblx0ICAgIFx0Ly9vbmx5IHZhbGlkYXRlIGlmIHRoZXkndmUgdHJpZWQgYXQgbGVhc3Qgb25jZVxuXHQgICAgXHRpZih2bS52YWxTdGFnZXMuYXR0ZW1wdGVkKSB7XG5cblx0ICAgIFx0XHQvLyRsb2cuaW5mbygnY2VoY2tpbmcgbGVuZ3RoJywgbG9uZ0Vub3VnaCh6aXBjb2RlKSk7XG5cblx0ICAgIFx0XHQvL2NoZWNrIGlmIGl0J3MgbG9uZyBlbm91Z2hcblx0ICAgIFx0XHRpZihsb25nRW5vdWdoKHppcGNvZGUpKSB7XG5cblx0ICAgIFx0XHRcdC8vJGxvZy5pbmZvKCdnb29kIGxlbmd0aCwgYWN0aW5nIGFjb3JkaW5nbHknKTtcblx0ICAgIFx0XHRcdC8vY2hhbmdlIHRoZSBjbGFzc2VzXG5cdCAgICBcdFx0XHRzdWNjZXNzaWZ5SW5wdXQoKTtcblx0ICAgIFx0XHRcdFxuXHQgICAgXHRcdFx0Ly9nZXQgdGhlIGNpdHkgYW5kIHN0YXRlXG5cdCAgICBcdFx0XHRjaXR5U3RhdGVMb29rdXAoemlwY29kZSkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuXHQgICAgXHRcdFx0XHQvL3doZW4gc3VjY2Vzc2Z1bGx5IGFxdWlyZWQsIHVwZGF0ZSB0aGUgbW9kZWxcblx0ICAgIFx0XHRcdFx0Ly8kbG9nLmluZm8ocmVzcG9uc2UpO1xuXHQgICAgXHRcdFx0XHR2bS5jaXR5TmFtZSA9IHJlc3BvbnNlLnppcENvZGUuY2l0eTtcblx0ICAgIFx0XHRcdFx0dm0uc3RhdGVJZCA9IHJlc3BvbnNlLnppcENvZGUuc3RhdGU7XG5cblx0ICAgIFx0XHRcdFx0Ly9hZnRlciB0aGUgdmFsdWVzIGhhdmUgYmVlbiB1cGRhdGVkLCBhcHBseSB0aGUgdXBkYXRlc1xuXHQgICAgXHRcdFx0XHQkcm9vdFNjb3BlLiRhcHBseSgpO1xuXG5cdCAgICBcdFx0XHR9KS5jYXRjaChmdW5jdGlvbihlcnJvcikge1xuXHQgICAgXHRcdFx0XHQkbG9nLmluZm8oJ3RoZXJlIHdhcyBhbiBlcnJvcicpO1xuXHQgICAgXHRcdFx0fSk7XG5cblx0ICAgIFx0XHRcdC8vY2FsY3VsYXRlIHNoaXBwaW5nXG5cdCAgICBcdFx0XHR2bS5jYWxjdWxhdGVTaGlwcGluZygpKHtzdGFydDogJzk3MDA1JywgZW5kOiB2bS56aXB9KTtcblxuXHQgICAgXHRcdH0gZWxzZSB7XG5cdCAgICBcdFx0XHRmYWlsaWZ5SW5wdXQoKTtcblx0ICAgIFx0XHR9XG5cblx0ICAgIFx0fVxuXG5cdCAgICB9XG5cblx0ICAgIHZtLnN1Ym1pdCA9IGZ1bmN0aW9uKHppcGNvZGUpIHtcblxuXHQgICAgXHR2bS52YWxTdGFnZXMuYXR0ZW1wdGVkID0gdHJ1ZTtcblxuXHQgICAgXHR2bS52YWxpZGF0ZSh6aXBjb2RlKTtcblx0ICAgIH1cblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59OyIsImFuZ3VsYXJcbiAgICAubW9kdWxlKCd0cnVtcHNOdXRzJylcbiAgICAuZmFjdG9yeSgnZGF0YU1vZGVsJywgZGF0YU1vZGVsKTtcblxuZGF0YU1vZGVsLiRpbmplY3QgPSBbJyRsb2cnXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBkYXRhTW9kZWwoJGxvZykge1xuXG5cdHZhciBkYXRhTW9kZWxPYmplY3QgPSB7XG5cdFx0bmFtZToge1xuXHRcdFx0Zmlyc3Q6ICcnLFxuXHRcdFx0bGFzdDogJydcblx0XHR9LFxuXHRcdGVtYWlsOiAnJyxcblx0XHRjb3B5U2hpcHBpbmdBZGRyZXNzOiB0cnVlLFxuXHRcdHByb2R1Y3Q6IHtcblx0XHRcdHByaWNlOiAyMDAwXG5cdFx0fSxcblx0XHRvcmRlcjoge1xuXHRcdFx0cXR5OiAxLFxuXHRcdFx0Y29zdDoge1xuXHRcdFx0XHRzdWJ0b3RhbDogMjAwMCxcblx0XHRcdFx0dGF4OiAwLFxuXHRcdFx0XHRkaXNjb3VudHM6IHtcblx0XHRcdFx0XHRwcm9tb3Rpb25zOiBbXSxcblx0XHRcdFx0XHR0b3RhbFZhbHVlOiAwXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHRvdGFsOiAwXG5cdFx0XHR9XG5cdFx0fSxcblx0XHRzaGlwcGluZzoge1xuXHRcdFx0YWRkcmVzczoge1xuXHRcdFx0XHRzdHJlZXQxOiAnJyxcblx0XHRcdFx0c3RyZWV0MjogJycsXG5cdFx0XHRcdHN0cmVldDM6ICcnLFxuXHRcdFx0XHRjaXR5OiAnJyxcblx0XHRcdFx0c3RhdGU6ICcnLFxuXHRcdFx0XHR6aXA6ICcnXG5cdFx0XHR9LCBcblx0XHRcdHJlcXVpcm5tZW50czoge1xuXHRcdFx0XHRpc1ByaW9yaXR5OiAndHJ1ZScsXG5cdFx0XHRcdGRhdGFBcXVpcmVkOiBmYWxzZSxcblx0XHRcdFx0cHJpb3JpdHk6IHtcblx0XHRcdFx0XHR0cmFuc2l0RGF5czogMCxcblx0XHRcdFx0XHRjb3N0OiB7XG5cdFx0XHRcdFx0XHRhbW91bnQ6IDAsXG5cdFx0XHRcdFx0XHRjdXJyZW5jeTogJ1VTRCdcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sXG5cdFx0XHRcdGV4cHJlc3M6IHtcblx0XHRcdFx0XHR0cmFuc2l0RGF5czogMCxcblx0XHRcdFx0XHRjb3N0OiB7XG5cdFx0XHRcdFx0XHRhbW91bnQ6IDAsXG5cdFx0XHRcdFx0XHRjdXJyZW5jeTogJ1VTRCdcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHRjb3N0OiB7XG5cdFx0XHRcdGFtb3VudDogNjQ1LFxuXHRcdFx0XHRjdXJyZW5jeTogJ1VTRCdcblx0XHRcdH1cblx0XHR9LFxuXHRcdGJpbGxpbmc6IHtcblx0XHRcdGFkZHJlc3M6IHtcblx0XHRcdFx0c3RyZWV0MTogJycsXG5cdFx0XHRcdHN0cmVldDI6ICcnLFxuXHRcdFx0XHRzdHJlZXQzOiAnJyxcblx0XHRcdFx0Y2l0eTogJycsXG5cdFx0XHRcdHN0YXRlOiAnJyxcblx0XHRcdFx0emlwOiAnJ1xuXHRcdFx0fSxcblx0XHRcdHBheW1lbnQ6IHtcblx0XHRcdFx0bnVtYmVyOiBbJycsICcnLCAnJywgJyddLFxuXHRcdFx0XHRleHA6IFsnJywgJyddLFxuXHRcdFx0XHRjc3Y6ICcnXG5cdFx0XHR9XG5cdFx0fSxcblx0XHRhcGlzOiB7XG5cdFx0XHRzcXVhcmVJZDogJydcblx0XHR9LFxuXHRcdF9yZWFkOl9yZWFkLFxuXHRcdF91cGRhdGU6X3VwZGF0ZSxcblx0XHRyZWFkUHJvcDpyZWFkUHJvcCxcblx0XHR1cGRhdGVQcm9wOnVwZGF0ZVByb3Bcblx0fTtcblxuXHRmdW5jdGlvbiBfcmVhZChwcm9wKSB7fVxuXHRmdW5jdGlvbiBfdXBkYXRlKHByb3AsIHZhbHVlKSB7fVxuXHRmdW5jdGlvbiByZWFkUHJvcChwcm9wKSB7fVxuXHRmdW5jdGlvbiB1cGRhdGVQcm9wKHByb3AsIHZhbHVlKSB7fVxuXG5cdHJldHVybiBkYXRhTW9kZWxPYmplY3Q7XG59IiwiYW5ndWxhclxuICAgIC5tb2R1bGUoJ3RydW1wc051dHMnKVxuICAgIC5mYWN0b3J5KCdzdGF0ZUZhY3RvcnknLCBzdGF0ZUZhY3RvcnkpO1xuXG5zdGF0ZUZhY3RvcnkuJGluamVjdCA9IFsnJGxvZyddO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHN0YXRlRmFjdG9yeSgkbG9nKSB7XG5cblx0dmFyIHN0YXRlT2JqZWN0ID0ge1xuXHRcdG1vZGVsOiB7XG5cdFx0XHRhbGxFbGVtZW50c0NvbXBsZXRlZDogZmFsc2UsXG5cdFx0XHRmaWVsZHM6IFtdLFxuXHRcdFx0aW5wdXQ6IHtcblx0XHRcdFx0cHJvcDoge1xuXHRcdFx0XHRcdG5hbWU6ICcnLFxuXHRcdFx0XHRcdHJlcXVpcm5tZW50czogW11cblx0XHRcdFx0fSxcblx0XHRcdFx0c3RhdGU6IHtcblx0XHRcdFx0XHRhZGRyZXNzZWQ6IGZhbHNlLFxuXHRcdFx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0XHRcdGZhaWx1cmU6IGZhbHNlXG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXHRcdGNsYXNzZXM6IHtcblx0XHRcdCdmb3JtLWdyb3VwJzogZmFsc2UsXG5cdFx0XHQnaGFzLXN1Y2Nlc3MnOiBmYWxzZSxcblx0XHRcdCdoYXMtd2FybmluZyc6IGZhbHNlLFxuXHRcdFx0J2hhcy1kYW5nZXInOiBmYWxzZSxcblx0XHRcdCdmb3JtLWNvbnRyb2wtbGFiZWwnOiBmYWxzZSxcblx0XHRcdCdmb3JtLWNvbnRyb2wnOiBmYWxzZSxcblx0XHRcdCdmb3JtLWNvbnRyb2wtc3VjY2Vzcyc6IGZhbHNlLFxuXHRcdFx0J2Zvcm0tY29udHJvbC13YXJuaW5nJzogZmFsc2UsXG5cdFx0XHQnZm9ybS1jb250cm9sLWRhbmdlcic6IGZhbHNlLFxuXHRcdFx0J2Zvcm0tY29udHJvbC1mZWVkYmFjayc6IGZhbHNlLFxuXHRcdFx0J2Zvcm0tdGV4dCc6IGZhbHNlLFxuXHRcdFx0J3RleHQtbXV0ZWQnOiBmYWxzZVxuXHRcdH0sXG5cdFx0c3R5bGVzOiB7XG5cblx0XHR9LFxuXHRcdGNoYW5nZVN0YXRlOiB7XG5cdFx0XHRpbnB1dFN1Y2Nlc3M6ICcnLFxuXHRcdFx0aW5wdXRGYWlsZWQ6ICcnXG5cdFx0fVxuXHR9XG5cblx0ZnVuY3Rpb24gaW5wdXRTdWNjZXNzKCkge31cblx0ZnVuY3Rpb24gaW5wdXRGYWlsZWQoKSB7fVxuXG5cdHJldHVybiBzdGF0ZU9iamVjdDtcbn0iLCJhbmd1bGFyXG4gICAgLm1vZHVsZSgndHJ1bXBzTnV0cycpXG4gICAgLmNvbmZpZyhjb25maWcpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGNvbmZpZygkcm91dGVQcm92aWRlcikgeyAgIFxuICAgICRyb3V0ZVByb3ZpZGVyXG4gICAgLy9kZWZpbmUgdGhlIGxhbmRpbmcgcGFnZVxuICAgIC53aGVuKCcvJywge1xuICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL2xhbmRpbmdQYWdlLmh0bScsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdsYW5kaW5nQ29udHJvbGxlcicsXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJ1xuICAgIH0pXG4gICAgLndoZW4oJy9wcm9jZXNzaW5nJywge1xuICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL3Byb2Nlc3NpbmcuaHRtJyxcbiAgICAgICAgY29udHJvbGxlcjogJ3Byb2Nlc3NpbmdDb250cm9sbGVyJyxcbiAgICAgICAgY29udHJvbGxlckFzOiAndm0nXG4gICAgfSlcbiAgICAud2hlbignL2NvbmZpcm1hdGlvbicsIHtcbiAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9jb25maXJtYXRpb24uaHRtJyxcbiAgICAgICAgY29udHJvbGxlcjogJ2NvbmZpcm1hdGlvbkNvbnRyb2xsZXInLFxuICAgICAgICBjb250cm9sbGVyQXM6ICd2bSdcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gZ2V0QXV0aElkKHNlcnZlcikge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgc2VydmVyLmdldFNxckFwcElkKCkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgcmVzb2x2ZShyZXNwb25zZS5pZCk7XG4gICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICB9KTtcbiAgICB9KVxufVxuIiwiYW5ndWxhclxuICAgIC5tb2R1bGUoJ3RydW1wc051dHMnKVxuICAgIC5zZXJ2aWNlKCdzZXJ2ZXInLCBzZXJ2ZXIpO1xuXG5zZXJ2ZXIuJGluamVjdCA9IFsnJGxvZycsICckaHR0cCddO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHNlcnZlcigkbG9nLCAkaHR0cCkge1xuXHR2YXIgYmFja2VuZCA9IHRoaXM7XG5cblx0Ly9nZXRzIGZyb20gdGhlIHNlcnZlclxuXHRiYWNrZW5kLl9nZXQgPSBmdW5jdGlvbih1cmwpIHtcblx0XHQvLyRsb2cuaW5mbygnZ2V0dGluZyBCYWNrZW5kJyk7XG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuXG5cdFx0XHQkaHR0cC5nZXQodXJsKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG5cblx0XHRcdFx0Ly8kbG9nLmluZm8ocmVzcG9uc2UpO1xuXG5cdFx0XHRcdHJlc29sdmUocmVzcG9uc2UuZGF0YSk7XG5cblx0XHRcdH0sIGZ1bmN0aW9uIHRoZUVycm9ycyhlcnJvcikge1xuXG5cdFx0XHRcdHJlamVjdChlcnJvcik7XG5cblx0XHRcdH0pO1xuXG5cdFx0fSk7XG5cblx0fVxuXG5cdC8vcG9zdHMgdG8gdGhlIHNlcnZlclxuXHRiYWNrZW5kLl9wb3N0ID0gZnVuY3Rpb24odXJsLCBkYXRhLCBjb25maWcpIHtcblxuXHRcdCRsb2cuaW5mbygndXJsJywgdXJsLCAnZGF0YScsIGRhdGEpO1xuXG5cdFx0Ly9yZXR1cm4gdGhlIHByb21pc2Vcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG5cblx0XHRcdCRodHRwLnBvc3QodXJsLCBkYXRhLCBjb25maWcpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcblxuXHRcdFx0XHRyZXNvbHZlKHJlc3BvbnNlKTtcblxuXHRcdFx0fSwgZnVuY3Rpb24gdGhlRXJyb3JzKGVycm9yKSB7XG5cblx0XHRcdFx0cmVqZWN0KGVycm9yKTtcblxuXHRcdFx0fSk7XG5cblx0XHR9KTtcblxuXHR9XG5cblx0Ly9jaGFyZ2UgYSBjYXJkXG5cdGJhY2tlbmQuY2hhcmdlQ2FyZCA9IGZ1bmN0aW9uKHVybCwgZGF0YSkge1xuXG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuXG5cdFx0XHRiYWNrZW5kLl9wb3N0KHVybCwgZGF0YSwge30pLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcblx0XHRcdFx0cmVzb2x2ZShyZXNwb25zZSk7XG5cdFx0XHR9KS5jYXRjaChmdW5jdGlvbihlcnJvcikge1xuXHRcdFx0XHRyZWplY3QoZXJyb3IpO1xuXHRcdFx0fSk7XG5cblx0XHR9KTtcblxuXHR9XG5cblx0Ly9nZXQgdGhlIHJlcXVpcmVkIHNxdWFyZSBpZFxuXHRiYWNrZW5kLmdldFNxckFwcElkID0gZnVuY3Rpb24oKSB7XG5cdFx0Ly8kbG9nLmluZm8oJ3NlbmRpbmcgZnJvbSBzcXInKTtcblx0XHQvL3JldHVybiB0aGUgcHJvbWlzZVxuXHRcdHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcblxuXHRcdFx0YmFja2VuZC5fZ2V0KCcvYXBpL3NxdWFyZUlkJykudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuXHRcdFx0XHQvLyRsb2cuaW5mbygnZ290IHRoaXMnLCByZXNwb25zZSk7XG5cdFx0XHRcdHJlc29sdmUocmVzcG9uc2UpO1xuXHRcdFx0fSkuY2F0Y2goZnVuY3Rpb24oZXJyKSB7XG5cdFx0XHRcdHJlamVjdChlcnIpO1xuXHRcdFx0fSk7XG5cblx0XHR9KTtcblxuXHR9XG5cblx0Ly9yZWNlaXZlcyBhIHppcGNvZGUsIHJldHVybnMgYSBjaXR5IGFuZCBzdGF0ZVxuXHRiYWNrZW5kLmNpdHlTdGF0ZUxvb2t1cCA9IGZ1bmN0aW9uKHppcGNvZGUpIHtcblxuXHRcdC8vYnVpbGQgdGhlIG5ldyB1cmxcblx0XHR2YXIgdXJsID0gJy9hcGkvemlwY2hlY2svJyArIHppcGNvZGU7XG5cblx0XHQvL3JldHVybiB0aGUgcHJvbWlzZVxuXHRcdHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcblxuXHRcdFx0Ly9pbml0aWF0ZSB0aGUgcmVxdWVzdFxuXHRcdFx0YmFja2VuZC5fZ2V0KHVybCkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuXG5cdFx0XHRcdC8vcmV0dXJuIGEgZ29vZCByZXNwb25zZVxuXHRcdFx0XHRyZXNvbHZlKHJlc3BvbnNlKTtcblxuXHRcdFx0fSkuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHtcblxuXHRcdFx0XHQvL3JldHVybiBhbiBlcnJvciByZXNwb25zZVxuXHRcdFx0XHRyZWplY3QoZXJyb3IpO1xuXHRcdFx0XHRcblx0XHRcdH0pO1xuXG5cdFx0fSk7XG5cblx0fVxuXG5cdGJhY2tlbmQucG9zdGFnZUNhbGN1bGF0b3IgPSBmdW5jdGlvbih6aXBQb2ludHMsIHF0eSkge1xuXHRcdFxuXHRcdCRsb2cuaW5mbygnZ290IHRoZXNlIGRhdGEgcG9pbnRzLiB6aXBQb2ludHM6JywgemlwUG9pbnRzLCAncXR5JywgcXR5KTtcblxuXHRcdHZhciB1cmwgPSAnL2FwaS9jYWxjUG9zdGFnZS8nICsgemlwUG9pbnRzLnN0YXJ0ICsgXCIvXCIgKyB6aXBQb2ludHMuZW5kICsgJy8nICsgcXR5O1xuXG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuXG5cdFx0XHRiYWNrZW5kLl9nZXQodXJsKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG5cblx0XHRcdFx0JGxvZy5pbmZvKCdnb3QgdGhpcyByZXNwb25zZScsIHJlc3BvbnNlKTtcblx0XHRcdFx0Ly9yZXR1cm4gYSBnb29kIHJlc3BvbnNlXG5cdFx0XHRcdHJlc29sdmUocmVzcG9uc2UpO1xuXG5cdFx0XHR9KS5jYXRjaChmdW5jdGlvbihlcnJvcikge1xuXG5cdFx0XHRcdC8vcmV0dXJuIGFuIGVycm9yIHJlc3BvbnNlXG5cdFx0XHRcdHJlamVjdChlcnJvcik7XG5cblx0XHRcdH0pO1xuXG5cdFx0fSk7XG5cblx0fVxuXG5cdGJhY2tlbmQuc3VibWl0U2FsZSA9IGZ1bmN0aW9uKG9yZGVyRm9ybSkge1xuXG5cdFx0JGxvZy5pbmZvKCdzdWJtaXR0aW5nIHNhbGUnKTtcblxuXHRcdC8vZGVmaW5lIGxvY2FsIHZhcmlhYmxlXG5cdFx0dmFyIGNvbmZpZyA9IHtcblx0XHRcdCdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkO2NoYXJzZXQ9dXRmLTg7J1xuXHRcdH07XG5cblx0XHQvL3JldHVybiB0aGUgcHJvbWlzZVxuXHRcdHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcblxuXHRcdFx0Ly9pbml0aWF0ZSB0aGUgcmVxdWVzdFxuXHRcdFx0YmFja2VuZC5fcG9zdCgnL2FwaS9vcmRlcicsIG9yZGVyRm9ybSwgY29uZmlnKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG5cblx0XHRcdFx0Ly9yZXR1cm4gYSBnb29kIHJlc3BvbnNlXG5cdFx0XHRcdHJlc29sdmUocmVzcG9uc2UpO1xuXG5cdFx0XHR9KS5jYXRjaChmdW5jdGlvbihlcnJvcikge1xuXG5cdFx0XHRcdHJlamVjdChlcnJvcik7XG5cblx0XHRcdH0pO1xuXG5cdFx0fSk7XG5cblx0fVxuXG59IiwiYW5ndWxhclxuICAgIC5tb2R1bGUoJ3RydW1wc051dHMnKVxuICAgIC5zZXJ2aWNlKCdzdGF0ZURhdGEnLCBzdGF0ZURhdGEpO1xuXG5zdGF0ZURhdGEuJGluamVjdCA9IFsnJGxvZyddO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHN0YXRlRGF0YSgkbG9nKSB7XG5cdHZhciBzdGF0ZSA9IHRoaXM7XG5cblx0c3RhdGUudmFsU3RhZ2VzID0ge1xuICAgIFx0YXR0ZW1wdGVkOiBmYWxzZSxcbiAgICBcdHN1Y2Nlc3NmdWw6IGZhbHNlLFxuICAgIFx0ZmFpbGVkOiB0cnVlXG5cdH07XG5cblx0c3RhdGUuY2xhc3NlcyA9IHtcblx0XHRjb250YWluZXI6IHtcblx0XHRcdCdoYXMtc3VjY2Vzcyc6IGZhbHNlLFxuXHRcdFx0J2hhcy13YXJuaW5nJzogZmFsc2UsXG5cdFx0XHQnaGFzLWRhbmdlcic6IGZhbHNlLFx0XHRcdFxuXHRcdH0sXG5cdFx0aW5wdXQ6IHtcblx0XHRcdCdmb3JtLWNvbnRyb2wtc3VjY2Vzcyc6IGZhbHNlLFxuXHRcdFx0J2Zvcm0tY29udHJvbC13YXJuaW5nJzogZmFsc2UsXG5cdFx0XHQnZm9ybS1jb250cm9sLWRhbmdlcic6IGZhbHNlXG5cdFx0fVxuXHR9O1xuXG5cdHN0YXRlLnN0eWxlcyA9IHtcblx0XHRjb250YWluZXI6IHt9LFxuXHRcdGlucHV0OiB7fVxuXHR9O1xuXG5cdHN0YXRlLmluaXRWYWxTdGFnZXMgPSBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gc3RhdGUudmFsU3RhZ2VzO1xuXHR9XG5cblx0c3RhdGUuaW5pdENsYXNzZXMgPSBmdW5jdGlvbihzZWN0aW9uKSB7XG5cdFx0cmV0dXJuIHN0YXRlLmNsYXNzZXNbc2VjdGlvbl07XG5cdH1cblxuXHRzdGF0ZS5pbml0U3R5bGVzID0gZnVuY3Rpb24oc2VjdGlvbikge1xuXHRcdHJldHVybiBzdGF0ZS5zdHlsZXNbc2VjdGlvbl07XG5cdH1cblxuXHRzdGF0ZS51cGRhdGVTdGF0ZSA9IGZ1bmN0aW9uKHNlY3Rpb24sIHZhbHVlKSB7XG5cdFx0dmFyIHJldHVybk9iamVjdCA9IHN0YXRlLmNsYXNzZXNbc2VjdGlvbl07XG5cblx0XHRPYmplY3Qua2V5cyhyZXR1cm5PYmplY3QpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG5cdFx0XHR2YXIgcmVzdWx0QXJyYXkgPSBrZXkuc3BsaXQoJy0nKTtcblxuXHRcdFx0cmVzdWx0QXJyYXkuZm9yRWFjaChmdW5jdGlvbih3b3JkKSB7XG5cdFx0XHRcdGlmKHdvcmQgPT0gdmFsdWUpIHJldHVybk9iamVjdFtrZXldID0gdHJ1ZTtcblx0XHRcdFx0ZWxzZSByZXR1cm5PYmplY3Rba2V5XSA9IGZhbHNlO1xuXHRcdFx0fSk7XG5cblx0XHRcdC8vaWYoa2V5LmNvbnRhaW5zKHZhbHVlKSkgcmV0dXJuT2JqZWN0W2tleV0gPSB0cnVlO1xuXHRcdFx0Ly9lbHNlIHJldHVybk9iamVjdFtrZXldID0gZmFsc2U7XG5cdFx0fSk7XG5cblx0XHRyZXR1cm4gcmV0dXJuT2JqZWN0O1xuXHR9XG5cbn1cdCIsIi8vIE1PRFVMRVxudmFyIHRydW1wc051dHMgPSBhbmd1bGFyLm1vZHVsZSgndHJ1bXBzTnV0cycsIFsnbmdSb3V0ZSddKTtcblxuIl19
