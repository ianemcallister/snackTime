function confirmationController(t){}function landingController(t,e,r,n,o,i){function c(){i.getSqrAppId().then(function(t){s.model.apis.squareId=t.id})["catch"](function(t){})}var s=this;s.model=o,s.contactName="",s.productCosts=0,t.$watch("vm.model.name.first",function(t,e){s.contactName=s.model.name.first+" "+s.model.name.last}),t.$watch("vm.model.name.last",function(t,e){s.contactName=s.model.name.first+" "+s.model.name.last}),t.$watch("vm.model.order.qty",function(t,e){s.productCosts=s.model.order.qty*s.model.product.price}),t.$watch("vm.model.shipping.address.zip",function(t,e){s.model.copyShippingAddress&&(s.model.billing.address.zip=t)}),t.$watch("vm.model.shipping.address.city",function(t,e){s.model.copyShippingAddress&&(s.model.billing.address.city=t)}),t.$watch("vm.model.shipping.address.state",function(t,e){s.model.copyShippingAddress&&(s.model.billing.address.state=t)}),t.$watch("vm.model.shipping.address.street1",function(t,e){s.model.copyShippingAddress&&(s.model.billing.address.street1=t)}),t.$watch("vm.model.shipping.address.street2",function(t,e){s.model.copyShippingAddress&&(s.model.billing.address.street2=t)}),t.$watch("vm.model.shipping.address.street3",function(t,e){s.model.copyShippingAddress&&(s.model.billing.address.street3=t)}),s.copyShippingAddress=function(t){t?s.model.billing.address=s.model.shipping.address:s.model.billing.address=o.billing.address},c()}function processingController(t,e){}function billingInfo(){function t(t,e,r,n){}function e(t,e){var r=this;r.toggleAddressCopy=function(t){r.copyShipping()(t)}}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/billingInfo.directive.htm",replace:!0,scope:{productCosts:"=",shippingCosts:"=",contactName:"=",address:"=",payment:"=",copyShippingAddress:"=",copyShipping:"&"},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log"],r}function ccCSV(){function t(t,e,r,n){}function e(t,e){}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/ccCSV.directive.htm",replace:!0,scope:{},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log"],r}function ccCapture(){function t(t,e,r,n){}function e(t,e,r,n){var o=this;o.data={card:{}},o.submitForm=function(){return o.isProcessing=!0,o.paymentForm.requestCardNonce(),!1},o.chargeCardWithNonce=function(i){var c="/charges/charge_card",s={nonce:i,product_id:1123,name:o.customerName,street_address_1:"1234 Main Street",street_address_2:"",city:o.cityName,state:o.stateId,zip:o.zip};n.chargeCard(c,s).then(function(n){e.info("response",n),r.path("/confirmation"),t.$apply()})["catch"](function(t){e.info("error",t)})};var i=function(){n.getSqrAppId().then(function(r){o.paymentForm=new SqPaymentForm({applicationId:r.id,inputClass:"sq-input",inputStyles:[{fontSize:"14px",padding:"7px 12px",backgroundColor:"transparent"}],cardNumber:{elementId:"sq-card-number",placeholder:"•••• •••• •••• ••••"},cvv:{elementId:"sq-cvv",placeholder:"CVV"},expirationDate:{elementId:"sq-expiration-date",placeholder:"MM/YY"},postalCode:{elementId:"sq-postal-code"},callbacks:{cardNonceResponseReceived:function(r,n,i){r?(e.info("Encountered errors:",r),o.card_errors=r,o.isProcessing=!1,t.$apply()):(o.card_errors=[],o.chargeCardWithNonce(n))},unsupportedBrowserDetected:function(){},inputEventReceived:function(t){switch(t.eventType){case"focusClassAdded":break;case"focusClassRemoved":break;case"errorClassAdded":break;case"errorClassRemoved":break;case"cardBrandChanged":break;case"postalCodeChanged":}},paymentFormLoaded:function(){}}}),o.paymentForm.build()})["catch"](function(t){e.info(t)})};i()}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/ccCapture.directive.htm",replace:!0,scope:{productCosts:"=",shippingCosts:"=",isProcessing:"=",customerName:"=",zip:"=",stateId:"=",cityName:"="},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log","$location","server"],r}function ccExp(){function t(t,e,r,n){}function e(t,e){}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/ccExp.directive.htm",replace:!0,scope:{},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log"],r}function ccName(){function t(t,e,r,n){}function e(t,e){}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/ccName.directive.htm",replace:!0,scope:{},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log"],r}function ccNumber(){function t(t,e,r,n){}function e(t,e){}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/ccNumber.directive.htm",replace:!0,scope:{},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log"],r}function city(){function t(t,e,r,n){}function e(t,e){}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/city.directive.htm",replace:!0,scope:{cityName:"="},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log"],r}function contactInfo(){function t(t,e,r,n){}function e(t,e){}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/contactInfo.directive.htm",replace:!0,scope:{name:"=",email:"="},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log"],r}function emailAddress(){function t(t,e,r,n){}function e(t,e){}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/emailAddress.directive.htm",replace:!0,scope:{email:"="},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log"],r}function firstName(){function t(t,e,r,n){}function e(t,e,r){var n=this;n.state={container:{classes:r.initClasses("container"),styles:r.initStyles("container")},input:{classes:r.initClasses("input"),styles:r.initStyles("container")}},n.validate=function(t,e){}}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/firstName.directive.htm",replace:!0,scope:{first:"="},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log","stateData"],r}function lastName(){function t(t,e,r,n){}function e(t,e){}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/lastName.directive.htm",replace:!0,scope:{last:"="},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log"],r}function productSelection(){function t(t,e,r,n){}function e(t,e){var r=this;r.calculateSubtotal=function(){r.subtotal=r.qty*r.price},r.decrement=function(){r.qty>1&&(r.qty=r.qty-1),r.calculateSubtotal()},r.increment=function(){r.qty=r.qty+1,r.calculateSubtotal()}}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/productSelection.directive.htm",replace:!0,scope:{qty:"=",price:"=",subtotal:"="},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log"],r}function progressBar(){function t(t,e,r,n){}function e(t,e){}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/progressBar.directive.htm",replace:!0,scope:{},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log"],r}function purchaseBtn(){function t(t,e,r,n){}function e(t,e){}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/purchaseBtn.directive.htm",replace:!0,scope:{submitForm:"&"},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log"],r}function shippingCalculator(){function t(t,e,r,n){}function e(t,e,r){var n=this;t.$watch("vm.serviceClass.isPriority",function(t,e){"true"==n.serviceClass.isPriority?n.cost.amount=100*n.serviceClass.priority.cost.amount:n.cost.amount=100*n.serviceClass.express.cost.amount}),t.$watch("vm.serviceClass.priority.cost.amount",function(t,r){e.info("vm.serviceClass.isPriority",n.serviceClass.isPriority,n.serviceClass.express.cost.amount,n.cost),"true"==n.serviceClass.isPriority?n.cost.amount=100*n.serviceClass.priority.cost.amount:n.cost.amount=100*n.serviceClass.express.cost.amount})}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/shippingCalculator.directive.htm",replace:!0,scope:{serviceClass:"=",cost:"="},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log","server"],r}function shippingInfo(){function t(t,e,r,n){}function e(t,e,r){var n=this;n.calculateShipping=function(o){r.postageCalculator(o,n.qty).then(function(r){n.requirnments.dataAquired=!0,n.requirnments.priority.cost.amount=parseFloat(r.priority.rate),n.requirnments.priority.transitDays=r.priority.mailService,n.requirnments.express.cost.amount=parseFloat(r.express.rate),n.requirnments.express.transitDays=r.express.mailService,t.$apply(),e.info("got this back from postageCalculator",r,n.requirnments)})["catch"](function(t){e.info("got this error from the postageCalculator",t)})}}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/shippingInfo.directive.htm",replace:!0,scope:{address:"=",requirnments:"=",cost:"=",qty:"="},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log","server"],r}function state(){function t(t,e,r,n){}function e(t,e){}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/state.directive.htm",replace:!0,scope:{stateId:"="},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log"],r}function street(){function t(t,e,r,n){}function e(t,e){}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/street.directive.htm",replace:!0,scope:{streetAddress:"="},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log"],r}function toolBar(){function t(t,e,r,n){}function e(t,e){}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/toolBar.directive.htm",replace:!0,scope:{},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log"],r}function yourName(){function t(t,e,r,n){}function e(t,e){}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/yourName.directive.htm",replace:!0,scope:{name:"="},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log"],r}function zipCode(){function t(t,e,r,n){}function e(t,e,r,n,o){function i(t){var e=!1;return"undefined"!=typeof t&&t.length>=5&&(e=!0),e}function c(){l.state.container.classes=o.updateState("container","success"),l.state.input.classes=o.updateState("input","success")}function s(){l.state.container.classes["has-success"]=!1,l.state.container.classes["has-warning"]=!0,l.state.container.classes["has-danger"]=!1,l.state.input.classes["form-control-success"]=!1,l.state.input.classes["form-control-warning"]=!0,l.state.input.classes["form-control-danger"]=!1}function a(t){return new Promise(function(r,o){n.cityStateLookup(t).then(function(t){e.info("got this response",t),r(t)})["catch"](function(t){e.info("got this error",t),o(t)})})}var l=this;l.valStages=o.initValStages(),l.state={container:{classes:o.initClasses("container"),styles:o.initStyles("container")},input:{classes:o.initClasses("input"),styles:o.initStyles("container")}},l.validate=function(t){l.valStages.attempted&&(i(t)?(c(),a(t).then(function(t){l.cityName=t.zipCode.city,l.stateId=t.zipCode.state,r.$apply()})["catch"](function(t){e.info("there was an error")}),l.calculateShipping()({start:"97005",end:l.zip})):s())},l.submit=function(t){l.valStages.attempted=!0,l.validate(t)}}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/zipCode.directive.htm",replace:!0,scope:{uniqueId:"=",zip:"=",cityName:"=",stateId:"=",calculateShipping:"&"},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log","$rootScope","server","stateData"],r}function dataModel(t){function e(t){}function r(t,e){}function n(t){}function o(t,e){}var i={name:{first:"",last:""},email:"",copyShippingAddress:!0,product:{price:2e3},order:{qty:1,cost:{subtotal:2e3,tax:0,discounts:{promotions:[],totalValue:0},total:0}},shipping:{address:{street1:"",street2:"",street3:"",city:"",state:"",zip:""},requirnments:{isPriority:"true",dataAquired:!1,priority:{transitDays:0,cost:{amount:0,currency:"USD"}},express:{transitDays:0,cost:{amount:0,currency:"USD"}}},cost:{amount:645,currency:"USD"}},billing:{address:{street1:"",street2:"",street3:"",city:"",state:"",zip:""},payment:{number:["","","",""],exp:["",""],csv:""}},apis:{squareId:""},_read:e,_update:r,readProp:n,updateProp:o};return i}function stateFactory(t){var e={model:{allElementsCompleted:!1,fields:[],input:{prop:{name:"",requirnments:[]},state:{addressed:!1,success:!1,failure:!1}}},classes:{"form-group":!1,"has-success":!1,"has-warning":!1,"has-danger":!1,"form-control-label":!1,"form-control":!1,"form-control-success":!1,"form-control-warning":!1,"form-control-danger":!1,"form-control-feedback":!1,"form-text":!1,"text-muted":!1},styles:{},changeState:{inputSuccess:"",inputFailed:""}};return e}function config(t){t.when("/",{templateUrl:"views/landingPage.htm",controller:"landingController",controllerAs:"vm"}).when("/confirmation",{templateUrl:"views/confirmation.htm",controller:"confirmationController",controllerAs:"vm"})}function getAuthId(t){return new Promise(function(e,r){t.getSqrAppId().then(function(t){e(t.id)})["catch"](function(t){r(t)})})}function server(t,e){var r=this;r._get=function(t){return new Promise(function(r,n){e.get(t).then(function(t){r(t.data)},function(t){n(t)})})},r._post=function(r,n,o){return t.info("url",r,"data",n),new Promise(function(t,i){e.post(r,n,o).then(function(e){t(e)},function(t){i(t)})})},r.chargeCard=function(t,e){return new Promise(function(n,o){r._post(t,e,{}).then(function(t){n(t)})["catch"](function(t){o(t)})})},r.getSqrAppId=function(){return new Promise(function(t,e){r._get("/api/squareId").then(function(e){t(e)})["catch"](function(t){e(t)})})},r.cityStateLookup=function(t){var e="/api/zipcheck/"+t;return new Promise(function(t,n){r._get(e).then(function(e){t(e)})["catch"](function(t){n(t)})})},r.postageCalculator=function(t,e){var n="/api/calcPostage/"+t.start+"/"+t.end+"/"+e;return new Promise(function(t,e){r._get(n).then(function(e){t(e)})["catch"](function(t){e(t)})})},r.submitSale=function(e){t.info("submitting sale");var n={"Content-Type":"application/x-www-form-urlencoded;charset=utf-8;"};return new Promise(function(t,o){r._post("/api/order",e,n).then(function(e){t(e)})["catch"](function(t){o(t)})})}}function stateData(t){var e=this;e.valStages={attempted:!1,successful:!1,failed:!0},e.classes={container:{"has-success":!1,"has-warning":!1,"has-danger":!1},input:{"form-control-success":!1,"form-control-warning":!1,"form-control-danger":!1}},e.styles={container:{},input:{}},e.initValStages=function(){return e.valStages},e.initClasses=function(t){return e.classes[t]},e.initStyles=function(t){return e.styles[t]},e.updateState=function(t,r){var n=e.classes[t];return Object.keys(n).forEach(function(t){var e=t.split("-");e.forEach(function(e){e==r?n[t]=!0:n[t]=!1})}),n}}config.$inject=["$routeProvider"];var trumpsNuts=angular.module("trumpsNuts",["ngRoute"]);angular.module("trumpsNuts").controller("confirmationController",confirmationController),confirmationController.$inject=["$log"],angular.module("trumpsNuts").controller("landingController",landingController),landingController.$inject=["$scope","$log","$location","$rootScope","dataModel","server"],angular.module("trumpsNuts").controller("processingController",processingController),processingController.$inject=["$log","test"],angular.module("trumpsNuts").directive("billingInfo",billingInfo),angular.module("trumpsNuts").directive("ccCSV",ccCSV),angular.module("trumpsNuts").directive("ccCapture",ccCapture),angular.module("trumpsNuts").directive("ccExp",ccExp),angular.module("trumpsNuts").directive("ccName",ccName),angular.module("trumpsNuts").directive("ccNumber",ccNumber),angular.module("trumpsNuts").directive("city",city),angular.module("trumpsNuts").directive("contactInfo",contactInfo),angular.module("trumpsNuts").directive("emailAddress",emailAddress),angular.module("trumpsNuts").directive("firstName",firstName),angular.module("trumpsNuts").directive("lastName",lastName),angular.module("trumpsNuts").directive("productSelection",productSelection),angular.module("trumpsNuts").directive("progressBar",progressBar),angular.module("trumpsNuts").directive("purchaseBtn",purchaseBtn),angular.module("trumpsNuts").directive("shippingCalculator",shippingCalculator),angular.module("trumpsNuts").directive("shippingInfo",shippingInfo),angular.module("trumpsNuts").directive("state",state),angular.module("trumpsNuts").directive("street",street),angular.module("trumpsNuts").directive("toolBar",toolBar),angular.module("trumpsNuts").directive("yourName",yourName),angular.module("trumpsNuts").directive("zipCode",zipCode),angular.module("trumpsNuts").factory("dataModel",dataModel),dataModel.$inject=["$log"],angular.module("trumpsNuts").factory("stateFactory",stateFactory),stateFactory.$inject=["$log"],angular.module("trumpsNuts").config(config),angular.module("trumpsNuts").service("server",server),server.$inject=["$log","$http"],angular.module("trumpsNuts").service("stateData",stateData),stateData.$inject=["$log"];
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdHMvY29udHJvbGxlcnMvY29uZmlybWF0aW9uLmNvbnRyb2xsZXIuanMiLCJzY3JpcHRzL2NvbnRyb2xsZXJzL2xhbmRpbmcuY29udHJvbGxlci5qcyIsInNjcmlwdHMvY29udHJvbGxlcnMvcHJvY2Vzc2luZy5jb250cm9sbGVyLmpzIiwiYnVuZGxlLmpzIiwic2NyaXB0cy9kaXJlY3RpdmVzL2JpbGxpbmdJbmZvLmRpcmVjdGl2ZS5qcyIsInNjcmlwdHMvZGlyZWN0aXZlcy9jY0NTVi5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2RpcmVjdGl2ZXMvY2NDYXB0dXJlLmRpcmVjdGl2ZS5qcyIsInNjcmlwdHMvZGlyZWN0aXZlcy9jY0V4cC5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2RpcmVjdGl2ZXMvY2NOYW1lLmRpcmVjdGl2ZS5qcyIsInNjcmlwdHMvZGlyZWN0aXZlcy9jY051bWJlci5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2RpcmVjdGl2ZXMvY2l0eS5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2RpcmVjdGl2ZXMvY29udGFjdEluZm8uZGlyZWN0aXZlLmpzIiwic2NyaXB0cy9kaXJlY3RpdmVzL2VtYWlsQWRkcmVzcy5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2RpcmVjdGl2ZXMvZmlyc3ROYW1lLmRpcmVjdGl2ZS5qcyIsInNjcmlwdHMvZGlyZWN0aXZlcy9sYXN0TmFtZS5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2RpcmVjdGl2ZXMvcHJvZHVjdFNlbGVjdGlvbi5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2RpcmVjdGl2ZXMvcHJvZ3Jlc3NCYXIuZGlyZWN0aXZlLmpzIiwic2NyaXB0cy9kaXJlY3RpdmVzL3B1cmNoYXNlQnRuLmRpcmVjdGl2ZS5qcyIsInNjcmlwdHMvZGlyZWN0aXZlcy9zaGlwcGluZ0NhbGN1bGF0b3IuZGlyZWN0aXZlLmpzIiwic2NyaXB0cy9kaXJlY3RpdmVzL3NoaXBwaW5nSW5mby5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2RpcmVjdGl2ZXMvc3RhdGUuZGlyZWN0aXZlLmpzIiwic2NyaXB0cy9kaXJlY3RpdmVzL3N0cmVldC5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2RpcmVjdGl2ZXMvdG9vbGJhci5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2RpcmVjdGl2ZXMveW91ck5hbWUuZGlyZWN0aXZlLmpzIiwic2NyaXB0cy9kaXJlY3RpdmVzL3ppcENvZGUuZGlyZWN0aXZlLmpzIiwic2NyaXB0cy9mYWN0b3JpZXMvZGF0YU1vZGVsLmZhY3RvcnkuanMiLCJzY3JpcHRzL2ZhY3Rvcmllcy9zdGF0ZS5mYWN0b3J5LmpzIiwic2NyaXB0cy9yb3V0ZXMvcm91dGUtY29uZmlnLmpzIiwic2NyaXB0cy9zZXJ2aWNlcy9zZXJ2ZXIuc2VydmljZS5qcyIsInNjcmlwdHMvc2VydmljZXMvc3RhdGVEYXRhLnNlcnZpY2UuanMiLCJzY3JpcHRzL2FwcC5qcyJdLCJuYW1lcyI6WyJjb25maXJtYXRpb25Db250cm9sbGVyIiwiJGxvZyIsImxhbmRpbmdDb250cm9sbGVyIiwiJHNjb3BlIiwiJGxvY2F0aW9uIiwiJHJvb3RTY29wZSIsImRhdGFNb2RlbCIsInNlcnZlciIsImluaXQiLCJnZXRTcXJBcHBJZCIsInRoZW4iLCJyZXNwb25zZSIsInZtIiwibW9kZWwiLCJhcGlzIiwic3F1YXJlSWQiLCJpZCIsImVyciIsInRoaXMiLCJjb250YWN0TmFtZSIsInByb2R1Y3RDb3N0cyIsIiR3YXRjaCIsImN1cnJlbnQiLCJvcmlnaW5hbCIsIm5hbWUiLCJmaXJzdCIsImxhc3QiLCJvcmRlciIsInF0eSIsInByb2R1Y3QiLCJwcmljZSIsImNvcHlTaGlwcGluZ0FkZHJlc3MiLCJiaWxsaW5nIiwiYWRkcmVzcyIsInppcCIsImNpdHkiLCJzdGF0ZSIsInN0cmVldDEiLCJzdHJlZXQyIiwic3RyZWV0MyIsImJ0blN0YXRlIiwic2hpcHBpbmciLCJwcm9jZXNzaW5nQ29udHJvbGxlciIsInRlc3QiLCJiaWxsaW5nSW5mbyIsImxpbmtGdW5jIiwic2NvcGUiLCJlbCIsImF0dHIiLCJjdHJsIiwiYmlsbGluZ0luZm9Db250cm9sbGVyIiwidG9nZ2xlQWRkcmVzc0NvcHkiLCJjb3B5U2hpcHBpbmciLCIkaW5qZWN0IiwiZGlyZWN0aXZlIiwicmVzdHJpY3QiLCJ0ZW1wbGF0ZVVybCIsInJlcGxhY2UiLCJzaGlwcGluZ0Nvc3RzIiwicGF5bWVudCIsImxpbmsiLCJjb250cm9sbGVyIiwiY29udHJvbGxlckFzIiwiYmluZFRvQ29udHJvbGxlciIsImNjQ1NWIiwiY2NDU1ZDb250cm9sbGVyIiwiY2NDYXB0dXJlIiwiY2NDYXB0dXJlQ29udHJvbGxlciIsImRhdGEiLCJjYXJkIiwic3VibWl0Rm9ybSIsImlzUHJvY2Vzc2luZyIsInBheW1lbnRGb3JtIiwicmVxdWVzdENhcmROb25jZSIsImNoYXJnZUNhcmRXaXRoTm9uY2UiLCJub25jZSIsInVybCIsInByb2R1Y3RfaWQiLCJjdXN0b21lck5hbWUiLCJzdHJlZXRfYWRkcmVzc18xIiwic3RyZWV0X2FkZHJlc3NfMiIsImNpdHlOYW1lIiwic3RhdGVJZCIsImNoYXJnZUNhcmQiLCJpbmZvIiwicGF0aCIsIiRhcHBseSIsImVycm9yIiwiU3FQYXltZW50Rm9ybSIsImFwcGxpY2F0aW9uSWQiLCJpbnB1dENsYXNzIiwiaW5wdXRTdHlsZXMiLCJmb250U2l6ZSIsInBhZGRpbmciLCJiYWNrZ3JvdW5kQ29sb3IiLCJjYXJkTnVtYmVyIiwiZWxlbWVudElkIiwicGxhY2Vob2xkZXIiLCJjdnYiLCJleHBpcmF0aW9uRGF0ZSIsInBvc3RhbENvZGUiLCJjYWxsYmFja3MiLCJjYXJkTm9uY2VSZXNwb25zZVJlY2VpdmVkIiwiZXJyb3JzIiwiY2FyZERhdGEiLCJjYXJkX2Vycm9ycyIsInVuc3VwcG9ydGVkQnJvd3NlckRldGVjdGVkIiwiaW5wdXRFdmVudFJlY2VpdmVkIiwiaW5wdXRFdmVudCIsImV2ZW50VHlwZSIsInBheW1lbnRGb3JtTG9hZGVkIiwiYnVpbGQiLCJjY0V4cCIsImNjRXhwQ29udHJvbGxlciIsImNjTmFtZSIsImNjTmFtZUNvbnRyb2xsZXIiLCJjY051bWJlciIsImNjTnVtYmVyQ29udHJvbGxlciIsImNpdHlDb250cm9sbGVyIiwiY29udGFjdEluZm8iLCJjb250YWN0SW5mb0NvbnRyb2xsZXIiLCJlbWFpbCIsImVtYWlsQWRkcmVzcyIsImVtYWlsQWRkcmVzc0NvbnRyb2xsZXIiLCJmaXJzdE5hbWUiLCJmaXJzdE5hbWVDb250cm9sbGVyIiwic3RhdGVEYXRhIiwiY29udGFpbmVyIiwiY2xhc3NlcyIsImluaXRDbGFzc2VzIiwic3R5bGVzIiwiaW5pdFN0eWxlcyIsImlucHV0IiwidmFsaWRhdGUiLCJmaWVsZCIsInZhbHVlIiwibGFzdE5hbWUiLCJsYXN0TmFtZUNvbnRyb2xsZXIiLCJwcm9kdWN0U2VsZWN0aW9uIiwicHJvZHVjdFNlbGVjdGlvbkNvbnRyb2xsZXIiLCJjYWxjdWxhdGVTdWJ0b3RhbCIsInN1YnRvdGFsIiwiZGVjcmVtZW50IiwiaW5jcmVtZW50IiwicHJvZ3Jlc3NCYXIiLCJwcm9ncmVzc0JhckNvbnRyb2xsZXIiLCJwdXJjaGFzZUJ0biIsInB1cmNoYXNlQnRuQ29udHJvbGxlciIsInNoaXBwaW5nQ2FsY3VsYXRvciIsInNoaXBwaW5nQ2FsY3VsYXRvckNvbnRyb2xsZXIiLCJzZXJ2aWNlQ2xhc3MiLCJpc1ByaW9yaXR5IiwiY29zdCIsImFtb3VudCIsInByaW9yaXR5IiwiZXhwcmVzcyIsInNoaXBwaW5nSW5mbyIsInNoaXBwaW5nSW5mb0NvbnRyb2xsZXIiLCJjYWxjdWxhdGVTaGlwcGluZyIsInppcFBvaW50cyIsInBvc3RhZ2VDYWxjdWxhdG9yIiwicmVxdWlybm1lbnRzIiwiZGF0YUFxdWlyZWQiLCJwYXJzZUZsb2F0IiwicmF0ZSIsInRyYW5zaXREYXlzIiwibWFpbFNlcnZpY2UiLCJzdGF0ZUNvbnRyb2xsZXIiLCJzdHJlZXQiLCJzdHJlZXRDb250cm9sbGVyIiwic3RyZWV0QWRkcmVzcyIsInRvb2xCYXIiLCJUb29sQmFyQ29udHJvbGxlciIsInlvdXJOYW1lIiwieW91ck5hbWVDb250cm9sbGVyIiwiemlwQ29kZSIsInppcENvZGVDb250cm9sbGVyIiwibG9uZ0Vub3VnaCIsInppcGNvZGUiLCJmbGFnIiwibGVuZ3RoIiwic3VjY2Vzc2lmeUlucHV0IiwidXBkYXRlU3RhdGUiLCJmYWlsaWZ5SW5wdXQiLCJjaXR5U3RhdGVMb29rdXAiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInZhbFN0YWdlcyIsImluaXRWYWxTdGFnZXMiLCJhdHRlbXB0ZWQiLCJzdGFydCIsImVuZCIsInN1Ym1pdCIsInVuaXF1ZUlkIiwiX3JlYWQiLCJwcm9wIiwiX3VwZGF0ZSIsInJlYWRQcm9wIiwidXBkYXRlUHJvcCIsImRhdGFNb2RlbE9iamVjdCIsInRheCIsImRpc2NvdW50cyIsInByb21vdGlvbnMiLCJ0b3RhbFZhbHVlIiwidG90YWwiLCJjdXJyZW5jeSIsIm51bWJlciIsImV4cCIsImNzdiIsInN0YXRlRmFjdG9yeSIsInN0YXRlT2JqZWN0IiwiYWxsRWxlbWVudHNDb21wbGV0ZWQiLCJmaWVsZHMiLCJhZGRyZXNzZWQiLCJzdWNjZXNzIiwiZmFpbHVyZSIsImZvcm0tZ3JvdXAiLCJoYXMtc3VjY2VzcyIsImhhcy13YXJuaW5nIiwiaGFzLWRhbmdlciIsImZvcm0tY29udHJvbC1sYWJlbCIsImZvcm0tY29udHJvbCIsImZvcm0tY29udHJvbC1zdWNjZXNzIiwiZm9ybS1jb250cm9sLXdhcm5pbmciLCJmb3JtLWNvbnRyb2wtZGFuZ2VyIiwiZm9ybS1jb250cm9sLWZlZWRiYWNrIiwiZm9ybS10ZXh0IiwidGV4dC1tdXRlZCIsImNoYW5nZVN0YXRlIiwiaW5wdXRTdWNjZXNzIiwiaW5wdXRGYWlsZWQiLCJjb25maWciLCIkcm91dGVQcm92aWRlciIsIndoZW4iLCJnZXRBdXRoSWQiLCIkaHR0cCIsImJhY2tlbmQiLCJfZ2V0IiwiZ2V0IiwiX3Bvc3QiLCJwb3N0Iiwic3VibWl0U2FsZSIsIm9yZGVyRm9ybSIsIkNvbnRlbnQtVHlwZSIsInN1Y2Nlc3NmdWwiLCJmYWlsZWQiLCJzZWN0aW9uIiwicmV0dXJuT2JqZWN0IiwiT2JqZWN0Iiwia2V5cyIsImZvckVhY2giLCJrZXkiLCJyZXN1bHRBcnJheSIsInNwbGl0Iiwid29yZCIsInRydW1wc051dHMiLCJhbmd1bGFyIiwibW9kdWxlIiwiZmFjdG9yeSIsInNlcnZpY2UiXSwibWFwcGluZ3MiOiJBQU9BLFFBQUFBLHdCQUFBQyxJQ0FBLFFBQUFDLG1CQUFBQyxFQUFBRixFQUFBRyxFQUFBQyxFQUFBQyxFQUFBQyxHQThDQSxRQUFBQyxLQUdBRCxFQUFBRSxjQUFBQyxLQUFBLFNBQUFDLEdBRUFDLEVBQUFDLE1BQUFDLEtBQUFDLFNBQUFKLEVBQUFLLEtBRkFULFNBR0EsU0FBQVUsTUFqREEsR0FBQUwsR0FBQU0sSUFDQU4sR0FBQUMsTUFBQVAsRUFDQU0sRUFBQU8sWUFBQSxHQUNBUCxFQUFBUSxhQUFBLEVBR0FqQixFQUFBa0IsT0FBQSxzQkFBQSxTQUFBQyxFQUFBQyxHQUNBWCxFQUFBTyxZQUFBUCxFQUFBQyxNQUFBVyxLQUFBQyxNQUFBLElBQUFiLEVBQUFDLE1BQUFXLEtBQUFFLE9BR0F2QixFQUFBa0IsT0FBQSxxQkFBQSxTQUFBQyxFQUFBQyxHQUNBWCxFQUFBTyxZQUFBUCxFQUFBQyxNQUFBVyxLQUFBQyxNQUFBLElBQUFiLEVBQUFDLE1BQUFXLEtBQUFFLE9BR0F2QixFQUFBa0IsT0FBQSxxQkFBQSxTQUFBQyxFQUFBQyxHQUNBWCxFQUFBUSxhQUFBUixFQUFBQyxNQUFBYyxNQUFBQyxJQUFBaEIsRUFBQUMsTUFBQWdCLFFBQUFDLFFBR0EzQixFQUFBa0IsT0FBQSxnQ0FBQSxTQUFBQyxFQUFBQyxHQUNBWCxFQUFBQyxNQUFBa0Isc0JBQUFuQixFQUFBQyxNQUFBbUIsUUFBQUMsUUFBQUMsSUFBQVosS0FHQW5CLEVBQUFrQixPQUFBLGlDQUFBLFNBQUFDLEVBQUFDLEdBQ0FYLEVBQUFDLE1BQUFrQixzQkFBQW5CLEVBQUFDLE1BQUFtQixRQUFBQyxRQUFBRSxLQUFBYixLQUdBbkIsRUFBQWtCLE9BQUEsa0NBQUEs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T0FBQSxjQUNBNU0sVUFBQSxPQUFBbkIsTUNGQThOLFFBQ0FDLE9BQUEsY0FDQTVNLFVBQUEsY0FBQWlFLGFDRkEwSSxRQUNBQyxPQUFBLGNBQ0E1TSxVQUFBLGVBQUFvRSxjQ0ZBdUksUUFDQUMsT0FBQSxjQUNBNU0sVUFBQSxZQUFBc0UsV0NGQXFJLFFBQ0FDLE9BQUEsY0FDQTVNLFVBQUEsV0FBQWtGLFVDRkF5SCxRQUNBQyxPQUFBLGNBQ0E1TSxVQUFBLG1CQUFBb0Ysa0JDRkF1SCxRQUNBQyxPQUFBLGNBQ0E1TSxVQUFBLGNBQUEwRixhQ0ZBaUgsUUFDQUMsT0FBQSxjQUNBNU0sVUFBQSxjQUFBNEYsYUNGQStHLFFBQ0FDLE9BQUEsY0FDQTVNLFVBQUEscUJBQUE4RixvQkNGQTZHLFFBQ0FDLE9BQUEsY0FDQTVNLFVBQUEsZUFBQXNHLGNDRkFxRyxRQUNBQyxPQUFBLGNBQ0E1TSxVQUFBLFFBQUFsQixPQ0ZBNk4sUUFDQUMsT0FBQSxjQUNBNU0sVUFBQSxTQUFBa0gsUUNGQXlGLFFBQ0FDLE9BQUEsY0FDQTVNLFVBQUEsVUFBQXFILFNDRkFzRixRQUNBQyxPQUFBLGNBQ0E1TSxVQUFBLFdBQUF1SCxVQ0ZBb0YsUUFDQUMsT0FBQSxjQUNBNU0sVUFBQSxVQUFBeUgsU0NUQWtGLFFBQ0FDLE9BQUEsY0FDQUMsUUFBQSxZQUFBN1AsV0FFQUEsVUFBQStDLFNBQUEsUUNKQTRNLFFBQ0FDLE9BQUEsY0FDQUMsUUFBQSxlQUFBakQsY0FFQUEsYUFBQTdKLFNBQUEsUUNKQTRNLFFBQ0FDLE9BQUEsY0FDQTFCLE9BQUFBLFFDRkF5QixRQUNBQyxPQUFBLGNBQ0FFLFFBQUEsU0FBQTdQLFFBRUFBLE9BQUE4QyxTQUFBLE9BQUEsU0NKQTRNLFFBQ0FDLE9BQUEsY0FDQUUsUUFBQSxZQUFBdEksV0FFQUEsVUFBQXpFLFNBQUEiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiYW5ndWxhclxuICAgIC5tb2R1bGUoJ3RydW1wc051dHMnKVxuICAgIC5jb250cm9sbGVyKCdjb25maXJtYXRpb25Db250cm9sbGVyJywgY29uZmlybWF0aW9uQ29udHJvbGxlcik7XG5cbmNvbmZpcm1hdGlvbkNvbnRyb2xsZXIuJGluamVjdCA9IFsnJGxvZyddO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGNvbmZpcm1hdGlvbkNvbnRyb2xsZXIoJGxvZykge1xuXG5cdC8vZGVmaW5lIHZpZXcgbW9kZWwgdmFyaWFibGVcblx0dmFyIHZtID0gdGhpcztcblxufVx0IiwiYW5ndWxhclxuICAgIC5tb2R1bGUoJ3RydW1wc051dHMnKVxuICAgIC5jb250cm9sbGVyKCdsYW5kaW5nQ29udHJvbGxlcicsIGxhbmRpbmdDb250cm9sbGVyKTtcblxubGFuZGluZ0NvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnLCAnJGxvY2F0aW9uJywgJyRyb290U2NvcGUnLCAnZGF0YU1vZGVsJywgJ3NlcnZlciddO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGxhbmRpbmdDb250cm9sbGVyKCRzY29wZSwgJGxvZywgJGxvY2F0aW9uLCAkcm9vdFNjb3BlLCBkYXRhTW9kZWwsIHNlcnZlcikge1xuXG5cdC8vZGVmaW5lIHZpZXcgbW9kZWwgdmFyaWFibGVcblx0dmFyIHZtID0gdGhpcztcblx0dm0ubW9kZWwgPSBkYXRhTW9kZWw7XG5cdHZtLmNvbnRhY3ROYW1lID0gJyc7XG5cdHZtLnByb2R1Y3RDb3N0cyA9IDA7XG5cblx0Ly93YXRjaGVyc1xuXHQkc2NvcGUuJHdhdGNoKCd2bS5tb2RlbC5uYW1lLmZpcnN0JywgZnVuY3Rpb24oY3VycmVudCwgb3JpZ2luYWwpIHtcblx0XHR2bS5jb250YWN0TmFtZSA9IHZtLm1vZGVsLm5hbWUuZmlyc3QgKyAnICcgKyB2bS5tb2RlbC5uYW1lLmxhc3Q7XG5cdH0pO1xuXG5cdCRzY29wZS4kd2F0Y2goJ3ZtLm1vZGVsLm5hbWUubGFzdCcsIGZ1bmN0aW9uKGN1cnJlbnQsIG9yaWdpbmFsKSB7XG5cdFx0dm0uY29udGFjdE5hbWUgPSB2bS5tb2RlbC5uYW1lLmZpcnN0ICsgJyAnICsgdm0ubW9kZWwubmFtZS5sYXN0O1xuXHR9KTtcblxuXHQkc2NvcGUuJHdhdGNoKCd2bS5tb2RlbC5vcmRlci5xdHknLCBmdW5jdGlvbihjdXJyZW50LCBvcmlnaW5hbCkge1xuXHRcdHZtLnByb2R1Y3RDb3N0cyA9IHZtLm1vZGVsLm9yZGVyLnF0eSAqIHZtLm1vZGVsLnByb2R1Y3QucHJpY2U7XG5cdH0pO1xuXG5cdCRzY29wZS4kd2F0Y2goJ3ZtLm1vZGVsLnNoaXBwaW5nLmFkZHJlc3MuemlwJywgZnVuY3Rpb24oY3VycmVudCwgb3JpZ2luYWwpIHtcblx0XHRpZih2bS5tb2RlbC5jb3B5U2hpcHBpbmdBZGRyZXNzKSB2bS5tb2RlbC5iaWxsaW5nLmFkZHJlc3MuemlwID0gY3VycmVudDtcblx0fSk7XG5cdFxuXHQkc2NvcGUuJHdhdGNoKCd2bS5tb2RlbC5zaGlwcGluZy5hZGRyZXNzLmNpdHknLCBmdW5jdGlvbihjdXJyZW50LCBvcmlnaW5hbCkge1xuXHRcdGlmKHZtLm1vZGVsLmNvcHlTaGlwcGluZ0FkZHJlc3MpIHZtLm1vZGVsLmJpbGxpbmcuYWRkcmVzcy5jaXR5ID0gY3VycmVudDtcblx0fSk7XG5cdFxuXHQkc2NvcGUuJHdhdGNoKCd2bS5tb2RlbC5zaGlwcGluZy5hZGRyZXNzLnN0YXRlJywgZnVuY3Rpb24oY3VycmVudCwgb3JpZ2luYWwpIHtcblx0XHRpZih2bS5tb2RlbC5jb3B5U2hpcHBpbmdBZGRyZXNzKSB2bS5tb2RlbC5iaWxsaW5nLmFkZHJlc3Muc3RhdGUgPSBjdXJyZW50O1xuXHR9KTtcblx0XG5cdCRzY29wZS4kd2F0Y2goJ3ZtLm1vZGVsLnNoaXBwaW5nLmFkZHJlc3Muc3RyZWV0MScsIGZ1bmN0aW9uKGN1cnJlbnQsIG9yaWdpbmFsKSB7XG5cdFx0aWYodm0ubW9kZWwuY29weVNoaXBwaW5nQWRkcmVzcykgdm0ubW9kZWwuYmlsbGluZy5hZGRyZXNzLnN0cmVldDEgPSBjdXJyZW50O1xuXHR9KTtcblx0XG5cdCRzY29wZS4kd2F0Y2goJ3ZtLm1vZGVsLnNoaXBwaW5nLmFkZHJlc3Muc3RyZWV0MicsIGZ1bmN0aW9uKGN1cnJlbnQsIG9yaWdpbmFsKSB7XG5cdFx0aWYodm0ubW9kZWwuY29weVNoaXBwaW5nQWRkcmVzcykgdm0ubW9kZWwuYmlsbGluZy5hZGRyZXNzLnN0cmVldDIgPSBjdXJyZW50O1xuXHR9KTtcdFxuXHRcblx0JHNjb3BlLiR3YXRjaCgndm0ubW9kZWwuc2hpcHBpbmcuYWRkcmVzcy5zdHJlZXQzJywgZnVuY3Rpb24oY3VycmVudCwgb3JpZ2luYWwpIHtcblx0XHRpZih2bS5tb2RlbC5jb3B5U2hpcHBpbmdBZGRyZXNzKSB2bS5tb2RlbC5iaWxsaW5nLmFkZHJlc3Muc3RyZWV0MyA9IGN1cnJlbnQ7XG5cdH0pO1x0XHRcblxuXHQvL3ByaXZhdGUgZnVuY3Rpb25zXG5cdGZ1bmN0aW9uIGluaXQoKSB7XG5cdFx0XG5cdFx0Ly9UT0RPOiBNT1ZFIFRISVMgVE8gUk9VVEVTIExBVEVSXG5cdFx0c2VydmVyLmdldFNxckFwcElkKCkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuXHRcdFx0Ly8kbG9nLmluZm8oJ3Jlc3BvbnNlJywgcmVzcG9uc2UuaWQpO1xuXHRcdFx0dm0ubW9kZWwuYXBpcy5zcXVhcmVJZCA9IHJlc3BvbnNlLmlkO1xuXHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xuXG5cdFx0fSk7XG5cblx0fVxuXG5cdC8vdmlldyBtb2RlbCBtZXRob2RzXG5cdHZtLmNvcHlTaGlwcGluZ0FkZHJlc3MgPSBmdW5jdGlvbihidG5TdGF0ZSkge1xuXHRcdC8vJGxvZy5pbmZvKCdjb3B5aW5nJywgdm0ubW9kZWwuc2hpcHBpbmcpO1xuXHRcdGlmKGJ0blN0YXRlKSB2bS5tb2RlbC5iaWxsaW5nLmFkZHJlc3MgPSB2bS5tb2RlbC5zaGlwcGluZy5hZGRyZXNzO1xuXHRcdGVsc2Ugdm0ubW9kZWwuYmlsbGluZy5hZGRyZXNzID0gZGF0YU1vZGVsLmJpbGxpbmcuYWRkcmVzcztcblx0fVxuXG5cdC8qdm0uc3VibWl0Rm9ybSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG5cdFx0JGxvZy5pbmZvKCdzdWJtaXR0aW5nJywgdmFsdWUpO1xuXG5cdFx0c2VydmVyLnN1Ym1pdFNhbGUodm0ubW9kZWwpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcblxuXHRcdFx0JGxvZy5pbmZvKHJlc3BvbnNlKTtcblxuXHRcdFx0Ly93aGVuIHRoZSBwcm9taXNlIHJlc29sdmVzLCByZS1yb3V0ZSB0aGVtXG5cdFx0XHQkbG9jYXRpb24ucGF0aCgnL2NvbmZpcm1hdGlvbi8/dGVzaW5nPWdvb2RUZXN0Jyk7XG5cdFx0XHQkcm9vdFNjb3BlLiRhcHBseSgpO1xuXG5cdFx0fSkuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHtcblxuXHRcdFx0JGxvZy5pbmZvKGVycm9yKTtcblx0XHR9KTtcblxuXHRcdC8vdGFrZSB0aGVtIGltbWVkaWF0bHkgdG8gdGhlIHByb2Nlc3NpbmcgcGFnZVxuXHRcdCRsb2NhdGlvbi5wYXRoKCcvcHJvY2Vzc2luZycpO1xuXG5cdH0qL1xuXG5cdC8vc3RhcnQgY29udHJvbGxlclxuXHRpbml0KCk7XG5cbn1cdCIsImFuZ3VsYXJcbiAgICAubW9kdWxlKCd0cnVtcHNOdXRzJylcbiAgICAuY29udHJvbGxlcigncHJvY2Vzc2luZ0NvbnRyb2xsZXInLCBwcm9jZXNzaW5nQ29udHJvbGxlcik7XG5cbnByb2Nlc3NpbmdDb250cm9sbGVyLiRpbmplY3QgPSBbJyRsb2cnLCAndGVzdCddO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHByb2Nlc3NpbmdDb250cm9sbGVyKCRsb2csIHRlc3QpIHtcblxuXHQvL2RlZmluZSB2aWV3IG1vZGVsIHZhcmlhYmxlXG5cdHZhciB2bSA9IHRoaXM7XG5cbn1cdCIsIi8vIE1PRFVMRVxuY29uZmlnLiRpbmplY3QgPSBbXCIkcm91dGVQcm92aWRlclwiXTtcbnZhciB0cnVtcHNOdXRzID0gYW5ndWxhci5tb2R1bGUoJ3RydW1wc051dHMnLCBbJ25nUm91dGUnXSk7XG5cblxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ3RydW1wc051dHMnKVxuICAgIC5jb250cm9sbGVyKCdjb25maXJtYXRpb25Db250cm9sbGVyJywgY29uZmlybWF0aW9uQ29udHJvbGxlcik7XG5cbmNvbmZpcm1hdGlvbkNvbnRyb2xsZXIuJGluamVjdCA9IFsnJGxvZyddO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGNvbmZpcm1hdGlvbkNvbnRyb2xsZXIoJGxvZykge1xuXG5cdC8vZGVmaW5lIHZpZXcgbW9kZWwgdmFyaWFibGVcblx0dmFyIHZtID0gdGhpcztcblxufVx0XG5hbmd1bGFyXG4gICAgLm1vZHVsZSgndHJ1bXBzTnV0cycpXG4gICAgLmNvbnRyb2xsZXIoJ2xhbmRpbmdDb250cm9sbGVyJywgbGFuZGluZ0NvbnRyb2xsZXIpO1xuXG5sYW5kaW5nQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZycsICckbG9jYXRpb24nLCAnJHJvb3RTY29wZScsICdkYXRhTW9kZWwnLCAnc2VydmVyJ107XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gbGFuZGluZ0NvbnRyb2xsZXIoJHNjb3BlLCAkbG9nLCAkbG9jYXRpb24sICRyb290U2NvcGUsIGRhdGFNb2RlbCwgc2VydmVyKSB7XG5cblx0Ly9kZWZpbmUgdmlldyBtb2RlbCB2YXJpYWJsZVxuXHR2YXIgdm0gPSB0aGlzO1xuXHR2bS5tb2RlbCA9IGRhdGFNb2RlbDtcblx0dm0uY29udGFjdE5hbWUgPSAnJztcblx0dm0ucHJvZHVjdENvc3RzID0gMDtcblxuXHQvL3dhdGNoZXJzXG5cdCRzY29wZS4kd2F0Y2goJ3ZtLm1vZGVsLm5hbWUuZmlyc3QnLCBmdW5jdGlvbihjdXJyZW50LCBvcmlnaW5hbCkge1xuXHRcdHZtLmNvbnRhY3ROYW1lID0gdm0ubW9kZWwubmFtZS5maXJzdCArICcgJyArIHZtLm1vZGVsLm5hbWUubGFzdDtcblx0fSk7XG5cblx0JHNjb3BlLiR3YXRjaCgndm0ubW9kZWwubmFtZS5sYXN0JywgZnVuY3Rpb24oY3VycmVudCwgb3JpZ2luYWwpIHtcblx0XHR2bS5jb250YWN0TmFtZSA9IHZtLm1vZGVsLm5hbWUuZmlyc3QgKyAnICcgKyB2bS5tb2RlbC5uYW1lLmxhc3Q7XG5cdH0pO1xuXG5cdCRzY29wZS4kd2F0Y2goJ3ZtLm1vZGVsLm9yZGVyLnF0eScsIGZ1bmN0aW9uKGN1cnJlbnQsIG9yaWdpbmFsKSB7XG5cdFx0dm0ucHJvZHVjdENvc3RzID0gdm0ubW9kZWwub3JkZXIucXR5ICogdm0ubW9kZWwucHJvZHVjdC5wcmljZTtcblx0fSk7XG5cblx0JHNjb3BlLiR3YXRjaCgndm0ubW9kZWwuc2hpcHBpbmcuYWRkcmVzcy56aXAnLCBmdW5jdGlvbihjdXJyZW50LCBvcmlnaW5hbCkge1xuXHRcdGlmKHZtLm1vZGVsLmNvcHlTaGlwcGluZ0FkZHJlc3MpIHZtLm1vZGVsLmJpbGxpbmcuYWRkcmVzcy56aXAgPSBjdXJyZW50O1xuXHR9KTtcblx0XG5cdCRzY29wZS4kd2F0Y2goJ3ZtLm1vZGVsLnNoaXBwaW5nLmFkZHJlc3MuY2l0eScsIGZ1bmN0aW9uKGN1cnJlbnQsIG9yaWdpbmFsKSB7XG5cdFx0aWYodm0ubW9kZWwuY29weVNoaXBwaW5nQWRkcmVzcykgdm0ubW9kZWwuYmlsbGluZy5hZGRyZXNzLmNpdHkgPSBjdXJyZW50O1xuXHR9KTtcblx0XG5cdCRzY29wZS4kd2F0Y2goJ3ZtLm1vZGVsLnNoaXBwaW5nLmFkZHJlc3Muc3RhdGUnLCBmdW5jdGlvbihjdXJyZW50LCBvcmlnaW5hbCkge1xuXHRcdGlmKHZtLm1vZGVsLmNvcHlTaGlwcGluZ0FkZHJlc3MpIHZtLm1vZGVsLmJpbGxpbmcuYWRkcmVzcy5zdGF0ZSA9IGN1cnJlbnQ7XG5cdH0pO1xuXHRcblx0JHNjb3BlLiR3YXRjaCgndm0ubW9kZWwuc2hpcHBpbmcuYWRkcmVzcy5zdHJlZXQxJywgZnVuY3Rpb24oY3VycmVudCwgb3JpZ2luYWwpIHtcblx0XHRpZih2bS5tb2RlbC5jb3B5U2hpcHBpbmdBZGRyZXNzKSB2bS5tb2RlbC5iaWxsaW5nLmFkZHJlc3Muc3RyZWV0MSA9IGN1cnJlbnQ7XG5cdH0pO1xuXHRcblx0JHNjb3BlLiR3YXRjaCgndm0ubW9kZWwuc2hpcHBpbmcuYWRkcmVzcy5zdHJlZXQyJywgZnVuY3Rpb24oY3VycmVudCwgb3JpZ2luYWwpIHtcblx0XHRpZih2bS5tb2RlbC5jb3B5U2hpcHBpbmdBZGRyZXNzKSB2bS5tb2RlbC5iaWxsaW5nLmFkZHJlc3Muc3RyZWV0MiA9IGN1cnJlbnQ7XG5cdH0pO1x0XG5cdFxuXHQkc2NvcGUuJHdhdGNoKCd2bS5tb2RlbC5zaGlwcGluZy5hZGRyZXNzLnN0cmVldDMnLCBmdW5jdGlvbihjdXJyZW50LCBvcmlnaW5hbCkge1xuXHRcdGlmKHZtLm1vZGVsLmNvcHlTaGlwcGluZ0FkZHJlc3MpIHZtLm1vZGVsLmJpbGxpbmcuYWRkcmVzcy5zdHJlZXQzID0gY3VycmVudDtcblx0fSk7XHRcdFxuXG5cdC8vcHJpdmF0ZSBmdW5jdGlvbnNcblx0ZnVuY3Rpb24gaW5pdCgpIHtcblx0XHRcblx0XHQvL1RPRE86IE1PVkUgVEhJUyBUTyBST1VURVMgTEFURVJcblx0XHRzZXJ2ZXIuZ2V0U3FyQXBwSWQoKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG5cdFx0XHQvLyRsb2cuaW5mbygncmVzcG9uc2UnLCByZXNwb25zZS5pZCk7XG5cdFx0XHR2bS5tb2RlbC5hcGlzLnNxdWFyZUlkID0gcmVzcG9uc2UuaWQ7XG5cdFx0fSkuY2F0Y2goZnVuY3Rpb24oZXJyKSB7XG5cblx0XHR9KTtcblxuXHR9XG5cblx0Ly92aWV3IG1vZGVsIG1ldGhvZHNcblx0dm0uY29weVNoaXBwaW5nQWRkcmVzcyA9IGZ1bmN0aW9uKGJ0blN0YXRlKSB7XG5cdFx0Ly8kbG9nLmluZm8oJ2NvcHlpbmcnLCB2bS5tb2RlbC5zaGlwcGluZyk7XG5cdFx0aWYoYnRuU3RhdGUpIHZtLm1vZGVsLmJpbGxpbmcuYWRkcmVzcyA9IHZtLm1vZGVsLnNoaXBwaW5nLmFkZHJlc3M7XG5cdFx0ZWxzZSB2bS5tb2RlbC5iaWxsaW5nLmFkZHJlc3MgPSBkYXRhTW9kZWwuYmlsbGluZy5hZGRyZXNzO1xuXHR9XG5cblx0Lyp2bS5zdWJtaXRGb3JtID0gZnVuY3Rpb24odmFsdWUpIHtcblx0XHQkbG9nLmluZm8oJ3N1Ym1pdHRpbmcnLCB2YWx1ZSk7XG5cblx0XHRzZXJ2ZXIuc3VibWl0U2FsZSh2bS5tb2RlbCkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuXG5cdFx0XHQkbG9nLmluZm8ocmVzcG9uc2UpO1xuXG5cdFx0XHQvL3doZW4gdGhlIHByb21pc2UgcmVzb2x2ZXMsIHJlLXJvdXRlIHRoZW1cblx0XHRcdCRsb2NhdGlvbi5wYXRoKCcvY29uZmlybWF0aW9uLz90ZXNpbmc9Z29vZFRlc3QnKTtcblx0XHRcdCRyb290U2NvcGUuJGFwcGx5KCk7XG5cblx0XHR9KS5jYXRjaChmdW5jdGlvbihlcnJvcikge1xuXG5cdFx0XHQkbG9nLmluZm8oZXJyb3IpO1xuXHRcdH0pO1xuXG5cdFx0Ly90YWtlIHRoZW0gaW1tZWRpYXRseSB0byB0aGUgcHJvY2Vzc2luZyBwYWdlXG5cdFx0JGxvY2F0aW9uLnBhdGgoJy9wcm9jZXNzaW5nJyk7XG5cblx0fSovXG5cblx0Ly9zdGFydCBjb250cm9sbGVyXG5cdGluaXQoKTtcblxufVx0XG5hbmd1bGFyXG4gICAgLm1vZHVsZSgndHJ1bXBzTnV0cycpXG4gICAgLmNvbnRyb2xsZXIoJ3Byb2Nlc3NpbmdDb250cm9sbGVyJywgcHJvY2Vzc2luZ0NvbnRyb2xsZXIpO1xuXG5wcm9jZXNzaW5nQ29udHJvbGxlci4kaW5qZWN0ID0gWyckbG9nJywgJ3Rlc3QnXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBwcm9jZXNzaW5nQ29udHJvbGxlcigkbG9nLCB0ZXN0KSB7XG5cblx0Ly9kZWZpbmUgdmlldyBtb2RlbCB2YXJpYWJsZVxuXHR2YXIgdm0gPSB0aGlzO1xuXG59XHRcbi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ3RydW1wc051dHMnKVxuXHQuZGlyZWN0aXZlKCdiaWxsaW5nSW5mbycsIGJpbGxpbmdJbmZvKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBiaWxsaW5nSW5mbygpIHtcbiAgICBsaW5rRnVuYy4kaW5qZWN0ID0gW1wic2NvcGVcIiwgXCJlbFwiLCBcImF0dHJcIiwgXCJjdHJsXCJdO1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL2JpbGxpbmdJbmZvLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHRcdHByb2R1Y3RDb3N0czogJz0nLFxuXHRcdFx0c2hpcHBpbmdDb3N0czogJz0nLFxuXHRcdFx0Y29udGFjdE5hbWU6ICc9Jyxcblx0XHRcdGFkZHJlc3M6ICc9Jyxcblx0XHRcdHBheW1lbnQ6ICc9Jyxcblx0XHRcdGNvcHlTaGlwcGluZ0FkZHJlc3M6ICc9Jyxcblx0XHRcdGNvcHlTaGlwcGluZzogJyYnXG5cdFx0fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBiaWxsaW5nSW5mb0NvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBiaWxsaW5nSW5mb0NvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBiaWxsaW5nSW5mb0NvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdCAgICAvL3ZpZXcgbW9kZWwgbWV0aG9kc1xuXHQgICAgdm0udG9nZ2xlQWRkcmVzc0NvcHkgPSBmdW5jdGlvbihidG5TdGF0ZSkge1xuXG5cdCAgICBcdHZtLmNvcHlTaGlwcGluZygpKGJ0blN0YXRlKTtcblxuXHQgICAgfVxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59O1xuLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgndHJ1bXBzTnV0cycpXG5cdC5kaXJlY3RpdmUoJ2NjQ1NWJywgY2NDU1YpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGNjQ1NWKCkge1xuICAgIGxpbmtGdW5jLiRpbmplY3QgPSBbXCJzY29wZVwiLCBcImVsXCIsIFwiYXR0clwiLCBcImN0cmxcIl07XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvY2NDU1YuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge30sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogY2NDU1ZDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgY2NDU1ZDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gY2NDU1ZDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59O1xuLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgndHJ1bXBzTnV0cycpXG5cdC5kaXJlY3RpdmUoJ2NjQ2FwdHVyZScsIGNjQ2FwdHVyZSk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gY2NDYXB0dXJlKCkge1xuICAgIGxpbmtGdW5jLiRpbmplY3QgPSBbXCJzY29wZVwiLCBcImVsXCIsIFwiYXR0clwiLCBcImN0cmxcIl07XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvY2NDYXB0dXJlLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHRcdHByb2R1Y3RDb3N0czogJz0nLFxuXHRcdFx0c2hpcHBpbmdDb3N0czogJz0nLFxuXHRcdFx0aXNQcm9jZXNzaW5nOiAnPScsXG5cdFx0XHRjdXN0b21lck5hbWU6ICc9Jyxcblx0XHRcdHppcDogJz0nLFxuXHRcdFx0c3RhdGVJZDogJz0nLFxuXHRcdFx0Y2l0eU5hbWU6ICc9J1xuXHRcdH0sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogY2NDYXB0dXJlQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIGNjQ2FwdHVyZUNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnLCAnJGxvY2F0aW9uJywgJ3NlcnZlciddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGNjQ2FwdHVyZUNvbnRyb2xsZXIoJHNjb3BlLCAkbG9nLCAkbG9jYXRpb24sIHNlcnZlcikge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHQgICAgdm0uZGF0YSA9IHsgY2FyZDp7fSB9O1xuXG5cdCAgICAvL3ZpZXcgbW9kZWwgbWV0aG9kc1xuXHQgICAgdm0uc3VibWl0Rm9ybSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0Ly8kbG9nLmluZm8oJ3N1Ym1pdHRpbmcnLCB2bS5kYXRhKTtcblx0XHRcdHZtLmlzUHJvY2Vzc2luZyA9IHRydWU7XG5cdFx0XHR2bS5wYXltZW50Rm9ybS5yZXF1ZXN0Q2FyZE5vbmNlKCk7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0dm0uY2hhcmdlQ2FyZFdpdGhOb25jZSA9IGZ1bmN0aW9uKG5vbmNlKSB7XG5cdFx0XHRcblx0XHRcdHZhciB1cmwgPSBcIi9jaGFyZ2VzL2NoYXJnZV9jYXJkXCI7XG5cdFx0XHRcblx0XHRcdHZhciBkYXRhID0ge1xuXHRcdFx0XHRub25jZTogbm9uY2UsXG5cdFx0XHRcdHByb2R1Y3RfaWQ6IDExMjMsLy8kc2NvcGUuZGF0YS5wcm9kdWN0X2lkLFxuXHRcdFx0XHRuYW1lOiB2bS5jdXN0b21lck5hbWUsIC8vJ0pvaG4gU21pdGgnLCAvLyRzY29wZS5kYXRhLnVzZXIubmFtZSxcblx0XHRcdFx0Ly9lbWFpbDogJHNjb3BlLmRhdGEudXNlci5lbWFpbCwgICAgICAgICBcblx0XHRcdFx0c3RyZWV0X2FkZHJlc3NfMTogJzEyMzQgTWFpbiBTdHJlZXQnLCAvLyRzY29wZS5kYXRhLnVzZXIuc3RyZWV0X2FkZHJlc3NfMSxcblx0XHRcdFx0c3RyZWV0X2FkZHJlc3NfMjogJycsIC8vJHNjb3BlLmRhdGEudXNlci5zdHJlZXRfYWRkcmVzc18yLFxuXHRcdFx0XHRjaXR5OiB2bS5jaXR5TmFtZSwgLy8kc2NvcGUuZGF0YS51c2VyLmNpdHksXG5cdFx0XHRcdHN0YXRlOiB2bS5zdGF0ZUlkLCAvLyRzY29wZS5kYXRhLnVzZXIuc3RhdGUsXG5cdFx0XHRcdHppcDogdm0uemlwIC8vJHNjb3BlLmRhdGEudXNlci56aXBcblx0XHRcdH07XG5cblx0XHRcdHNlcnZlci5jaGFyZ2VDYXJkKHVybCwgZGF0YSkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuXHRcdFx0XHQkbG9nLmluZm8oJ3Jlc3BvbnNlJywgcmVzcG9uc2UpO1xuXHRcdFx0XHQkbG9jYXRpb24ucGF0aCgnL2NvbmZpcm1hdGlvbicpO1xuXHRcdFx0XHQkc2NvcGUuJGFwcGx5KCk7XG5cdFx0XHR9KS5jYXRjaChmdW5jdGlvbihlcnJvcikge1xuXHRcdFx0XHQkbG9nLmluZm8oJ2Vycm9yJywgZXJyb3IpO1xuXHRcdFx0fSlcblxuXHRcdFx0LyokaHR0cC5wb3N0KHVybCwgZGF0YSkuc3VjY2VzcyhmdW5jdGlvbihkYXRhLCBzdGF0dXMpIHtcblx0XHRcdFx0aWYgKGRhdGEuc3RhdHVzID09IDQwMCl7XG5cdFx0XHRcdCAgLy8gZGlzcGxheSBzZXJ2ZXIgc2lkZSBjYXJkIHByb2Nlc3NpbmcgZXJyb3JzIFxuXHRcdFx0XHQgICRzY29wZS5pc1BheW1lbnRTdWNjZXNzID0gZmFsc2U7XG5cdFx0XHRcdCAgJHNjb3BlLmNhcmRfZXJyb3JzID0gW11cblx0XHRcdFx0ICBmb3IgKHZhciBpID0wOyBpIDwgZGF0YS5lcnJvcnMubGVuZ3RoOyBpKyspe1xuXHRcdFx0XHQgICAgJHNjb3BlLmNhcmRfZXJyb3JzLnB1c2goe21lc3NhZ2U6IGRhdGEuZXJyb3JzW2ldLmRldGFpbH0pXG5cdFx0XHRcdCAgfVxuXHRcdFx0XHR9ZWxzZSBpZiAoZGF0YS5zdGF0dXMgPT0gMjAwKSB7XG5cdFx0XHRcdCAgJHNjb3BlLmlzUGF5bWVudFN1Y2Nlc3MgPSB0cnVlO1xuXHRcdFx0XHR9XG5cdFx0XHRcdCRzY29wZS5pc1Byb2Nlc3NpbmcgPSBmYWxzZTtcblx0XHRcdH0pLmVycm9yKGZ1bmN0aW9uKCl7XG5cdFx0XHRcdCRzY29wZS5pc1BheW1lbnRTdWNjZXNzID0gZmFsc2U7XG5cdFx0XHRcdCRzY29wZS5pc1Byb2Nlc3NpbmcgPSBmYWxzZTtcblx0XHRcdFx0JHNjb3BlLmNhcmRfZXJyb3JzID0gW3ttZXNzYWdlOiBcIlByb2Nlc3NpbmcgZXJyb3IsIHBsZWFzZSB0cnkgYWdhaW4hXCJ9XTtcblx0XHRcdH0pKi9cblx0XHR9XG5cdFx0XG5cdFx0Ly9sb2NhbCBtZXRob2RzXG5cdCAgICB2YXIgaW5pdCA9IGZ1bmN0aW9uKCkge1xuXG5cdCAgICBcdHNlcnZlci5nZXRTcXJBcHBJZCgpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcblx0XHRcdFx0XG5cdFx0XHRcdHZtLnBheW1lbnRGb3JtID0gbmV3IFNxUGF5bWVudEZvcm0oe1xuXHRcdFx0XHQgICAgYXBwbGljYXRpb25JZDogcmVzcG9uc2UuaWQsXG5cdFx0XHRcdCAgICBpbnB1dENsYXNzOiAnc3EtaW5wdXQnLFxuXHRcdFx0XHQgICAgaW5wdXRTdHlsZXM6IFtcblx0XHRcdFx0ICAgICAge1xuXHRcdFx0XHQgICAgICAgIGZvbnRTaXplOiAnMTRweCcsXG5cdFx0ICAgICAgICAgICAgXHRwYWRkaW5nOiAnN3B4IDEycHgnLFxuXHRcdCAgICAgICAgICAgIFx0YmFja2dyb3VuZENvbG9yOiBcInRyYW5zcGFyZW50XCJcblx0XHRcdFx0ICAgICAgfVxuXHRcdFx0XHQgICAgXSxcblx0XHRcdFx0ICAgIGNhcmROdW1iZXI6IHtcblx0XHRcdFx0ICAgICAgZWxlbWVudElkOiAnc3EtY2FyZC1udW1iZXInLFxuXHRcdFx0XHQgICAgICBwbGFjZWhvbGRlcjogJ+KAouKAouKAouKAoiDigKLigKLigKLigKIg4oCi4oCi4oCi4oCiIOKAouKAouKAouKAoidcblx0XHRcdFx0ICAgIH0sXG5cdFx0XHRcdCAgICBjdnY6IHtcblx0XHRcdFx0ICAgICAgZWxlbWVudElkOiAnc3EtY3Z2Jyxcblx0XHRcdFx0ICAgICAgcGxhY2Vob2xkZXI6ICdDVlYnXG5cdFx0XHRcdCAgICB9LFxuXHRcdFx0XHQgICAgZXhwaXJhdGlvbkRhdGU6IHtcblx0XHRcdFx0ICAgICAgZWxlbWVudElkOiAnc3EtZXhwaXJhdGlvbi1kYXRlJyxcblx0XHRcdFx0ICAgICAgcGxhY2Vob2xkZXI6ICdNTS9ZWSdcblx0XHRcdFx0ICAgIH0sXG5cdFx0XHRcdCAgICBwb3N0YWxDb2RlOiB7XG5cdFx0XHRcdCAgICAgIGVsZW1lbnRJZDogJ3NxLXBvc3RhbC1jb2RlJ1xuXHRcdFx0XHQgICAgfSxcblx0XHRcdFx0ICAgIGNhbGxiYWNrczoge1xuXG5cdFx0XHRcdCAgICAgIC8vIENhbGxlZCB3aGVuIHRoZSBTcVBheW1lbnRGb3JtIGNvbXBsZXRlcyBhIHJlcXVlc3QgdG8gZ2VuZXJhdGUgYSBjYXJkXG5cdFx0XHRcdCAgICAgIC8vIG5vbmNlLCBldmVuIGlmIHRoZSByZXF1ZXN0IGZhaWxlZCBiZWNhdXNlIG9mIGFuIGVycm9yLlxuXHRcdFx0XHQgICAgICBjYXJkTm9uY2VSZXNwb25zZVJlY2VpdmVkOiBmdW5jdGlvbihlcnJvcnMsIG5vbmNlLCBjYXJkRGF0YSkge1xuXHRcdFx0XHQgICAgICAgIGlmIChlcnJvcnMpIHtcblx0XHRcdFx0ICAgICAgICAgICRsb2cuaW5mbyhcIkVuY291bnRlcmVkIGVycm9yczpcIiwgZXJyb3JzKTtcblx0XHRcdFx0ICAgICAgICAgIHZtLmNhcmRfZXJyb3JzID0gZXJyb3JzO1xuXHRcdCAgICAgICAgICAgIFx0ICB2bS5pc1Byb2Nlc3NpbmcgPSBmYWxzZTtcblx0XHQgICAgICAgICAgICBcdCAgJHNjb3BlLiRhcHBseSgpOyAvLyByZXF1aXJlZCBzaW5jZSB0aGlzIGlzIG5vdCBhbiBhbmd1bGFyIGZ1bmN0aW9uXG5cblx0XHRcdFx0ICAgICAgICAvLyBObyBlcnJvcnMgb2NjdXJyZWQuIEV4dHJhY3QgdGhlIGNhcmQgbm9uY2UuXG5cdFx0XHRcdCAgICAgICAgfSBlbHNlIHtcblx0XHRcdFx0ICAgICAgICAgIHZtLmNhcmRfZXJyb3JzID0gW107XG5cdFx0XHRcdCAgICAgICAgICAvLyBEZWxldGUgdGhpcyBsaW5lIGFuZCB1bmNvbW1lbnQgdGhlIGxpbmVzIGJlbG93IHdoZW4geW91J3JlIHJlYWR5XG5cdFx0XHRcdCAgICAgICAgICAvLyB0byBzdGFydCBzdWJtaXR0aW5nIG5vbmNlcyB0byB5b3VyIHNlcnZlci5cblx0XHRcdFx0ICAgICAgICAgIC8vYWxlcnQoJ05vbmNlIHJlY2VpdmVkOiAnICsgbm9uY2UpO1xuXG5cdFx0XHRcdCAgICAgICAgICB2bS5jaGFyZ2VDYXJkV2l0aE5vbmNlKG5vbmNlKTtcblxuXHRcdFx0XHQgICAgICAgICAgLypcblx0XHRcdFx0ICAgICAgICAgICAgVGhlc2UgbGluZXMgYXNzaWduIHRoZSBnZW5lcmF0ZWQgY2FyZCBub25jZSB0byBhIGhpZGRlbiBpbnB1dFxuXHRcdFx0XHQgICAgICAgICAgICBmaWVsZCwgdGhlbiBzdWJtaXQgdGhhdCBmaWVsZCB0byB5b3VyIHNlcnZlci5cblx0XHRcdFx0ICAgICAgICAgICAgVW5jb21tZW50IHRoZW0gd2hlbiB5b3UncmUgcmVhZHkgdG8gdGVzdCBvdXQgc3VibWl0dGluZyBub25jZXMuXG5cblx0XHRcdFx0ICAgICAgICAgICAgWW91J2xsIGFsc28gbmVlZCB0byBzZXQgdGhlIGFjdGlvbiBhdHRyaWJ1dGUgb2YgdGhlIGZvcm0gZWxlbWVudFxuXHRcdFx0XHQgICAgICAgICAgICBhdCB0aGUgYm90dG9tIG9mIHRoaXMgc2FtcGxlLCB0byBjb3JyZXNwb25kIHRvIHRoZSBVUkwgeW91IHdhbnQgdG9cblx0XHRcdFx0ICAgICAgICAgICAgc3VibWl0IHRoZSBub25jZSB0by5cblx0XHRcdFx0ICAgICAgICAgICovXG5cdFx0XHRcdCAgICAgICAgICAvLyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FyZC1ub25jZScpLnZhbHVlID0gbm9uY2U7XG5cdFx0XHRcdCAgICAgICAgICAvLyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbm9uY2UtZm9ybScpLnN1Ym1pdCgpO1xuXG5cdFx0XHRcdCAgICAgICAgfVxuXHRcdFx0XHQgICAgICB9LFxuXG5cdFx0XHRcdCAgICAgIHVuc3VwcG9ydGVkQnJvd3NlckRldGVjdGVkOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0ICAgICAgICAvLyBGaWxsIGluIHRoaXMgY2FsbGJhY2sgdG8gYWxlcnQgYnV5ZXJzIHdoZW4gdGhlaXIgYnJvd3NlciBpcyBub3Qgc3VwcG9ydGVkLlxuXHRcdFx0XHQgICAgICB9LFxuXG5cdFx0XHRcdCAgICAgIC8vIEZpbGwgaW4gdGhlc2UgY2FzZXMgdG8gcmVzcG9uZCB0byB2YXJpb3VzIGV2ZW50cyB0aGF0IGNhbiBvY2N1ciB3aGlsZSBhXG5cdFx0XHRcdCAgICAgIC8vIGJ1eWVyIGlzIHVzaW5nIHRoZSBwYXltZW50IGZvcm0uXG5cdFx0XHRcdCAgICAgIGlucHV0RXZlbnRSZWNlaXZlZDogZnVuY3Rpb24oaW5wdXRFdmVudCkge1xuXHRcdFx0XHQgICAgICAgIHN3aXRjaCAoaW5wdXRFdmVudC5ldmVudFR5cGUpIHtcblx0XHRcdFx0ICAgICAgICAgIGNhc2UgJ2ZvY3VzQ2xhc3NBZGRlZCc6XG5cdFx0XHRcdCAgICAgICAgICAgIC8vIEhhbmRsZSBhcyBkZXNpcmVkXG5cdFx0XHRcdCAgICAgICAgICAgIGJyZWFrO1xuXHRcdFx0XHQgICAgICAgICAgY2FzZSAnZm9jdXNDbGFzc1JlbW92ZWQnOlxuXHRcdFx0XHQgICAgICAgICAgICAvLyBIYW5kbGUgYXMgZGVzaXJlZFxuXHRcdFx0XHQgICAgICAgICAgICBicmVhaztcblx0XHRcdFx0ICAgICAgICAgIGNhc2UgJ2Vycm9yQ2xhc3NBZGRlZCc6XG5cdFx0XHRcdCAgICAgICAgICAgIC8vIEhhbmRsZSBhcyBkZXNpcmVkXG5cdFx0XHRcdCAgICAgICAgICAgIGJyZWFrO1xuXHRcdFx0XHQgICAgICAgICAgY2FzZSAnZXJyb3JDbGFzc1JlbW92ZWQnOlxuXHRcdFx0XHQgICAgICAgICAgICAvLyBIYW5kbGUgYXMgZGVzaXJlZFxuXHRcdFx0XHQgICAgICAgICAgICBicmVhaztcblx0XHRcdFx0ICAgICAgICAgIGNhc2UgJ2NhcmRCcmFuZENoYW5nZWQnOlxuXHRcdFx0XHQgICAgICAgICAgICAvLyBIYW5kbGUgYXMgZGVzaXJlZFxuXHRcdFx0XHQgICAgICAgICAgICBicmVhaztcblx0XHRcdFx0ICAgICAgICAgIGNhc2UgJ3Bvc3RhbENvZGVDaGFuZ2VkJzpcblx0XHRcdFx0ICAgICAgICAgICAgLy8gSGFuZGxlIGFzIGRlc2lyZWRcblx0XHRcdFx0ICAgICAgICAgICAgYnJlYWs7XG5cdFx0XHRcdCAgICAgICAgfVxuXHRcdFx0XHQgICAgICB9LFxuXG5cdFx0XHRcdCAgICAgIHBheW1lbnRGb3JtTG9hZGVkOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0ICAgICAgICAvLyBGaWxsIGluIHRoaXMgY2FsbGJhY2sgdG8gcGVyZm9ybSBhY3Rpb25zIGFmdGVyIHRoZSBwYXltZW50IGZvcm0gaXNcblx0XHRcdFx0ICAgICAgICAvLyBkb25lIGxvYWRpbmcgKHN1Y2ggYXMgc2V0dGluZyB0aGUgcG9zdGFsIGNvZGUgZmllbGQgcHJvZ3JhbW1hdGljYWxseSkuXG5cdFx0XHRcdCAgICAgICAgLy8gcGF5bWVudEZvcm0uc2V0UG9zdGFsQ29kZSgnOTQxMDMnKTtcblx0XHRcdFx0ICAgICAgfVxuXHRcdFx0XHQgICAgfVxuXHRcdFx0XHR9KTtcblx0XHQgICAgXHR2bS5wYXltZW50Rm9ybS5idWlsZCgpO1xuXHQgICAgXHR9KS5jYXRjaChmdW5jdGlvbihlcnJvcikge1xuXHQgICAgXHRcdCRsb2cuaW5mbyhlcnJvcik7XG5cdCAgICBcdH0pO1xuXHQgICAgXHRcblx0ICAgIH1cblxuXHQgICAgaW5pdCgpO1xuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59O1xuLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgndHJ1bXBzTnV0cycpXG5cdC5kaXJlY3RpdmUoJ2NjRXhwJywgY2NFeHApO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGNjRXhwKCkge1xuICAgIGxpbmtGdW5jLiRpbmplY3QgPSBbXCJzY29wZVwiLCBcImVsXCIsIFwiYXR0clwiLCBcImN0cmxcIl07XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvY2NFeHAuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge30sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogY2NFeHBDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgY2NFeHBDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gY2NFeHBDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59O1xuLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgndHJ1bXBzTnV0cycpXG5cdC5kaXJlY3RpdmUoJ2NjTmFtZScsIGNjTmFtZSk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gY2NOYW1lKCkge1xuICAgIGxpbmtGdW5jLiRpbmplY3QgPSBbXCJzY29wZVwiLCBcImVsXCIsIFwiYXR0clwiLCBcImN0cmxcIl07XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvY2NOYW1lLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHt9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IGNjTmFtZUNvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBjY05hbWVDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gY2NOYW1lQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTtcbi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ3RydW1wc051dHMnKVxuXHQuZGlyZWN0aXZlKCdjY051bWJlcicsIGNjTnVtYmVyKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBjY051bWJlcigpIHtcbiAgICBsaW5rRnVuYy4kaW5qZWN0ID0gW1wic2NvcGVcIiwgXCJlbFwiLCBcImF0dHJcIiwgXCJjdHJsXCJdO1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL2NjTnVtYmVyLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHt9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IGNjTnVtYmVyQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIGNjTnVtYmVyQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGNjTnVtYmVyQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTtcbi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ3RydW1wc051dHMnKVxuXHQuZGlyZWN0aXZlKCdjaXR5JywgY2l0eSk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gY2l0eSgpIHtcbiAgICBsaW5rRnVuYy4kaW5qZWN0ID0gW1wic2NvcGVcIiwgXCJlbFwiLCBcImF0dHJcIiwgXCJjdHJsXCJdO1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL2NpdHkuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge1xuXHRcdFx0Y2l0eU5hbWU6ICc9J1xuXHRcdH0sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogY2l0eUNvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBjaXR5Q29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGNpdHlDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59O1xuLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgndHJ1bXBzTnV0cycpXG5cdC5kaXJlY3RpdmUoJ2NvbnRhY3RJbmZvJywgY29udGFjdEluZm8pO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGNvbnRhY3RJbmZvKCkge1xuICAgIGxpbmtGdW5jLiRpbmplY3QgPSBbXCJzY29wZVwiLCBcImVsXCIsIFwiYXR0clwiLCBcImN0cmxcIl07XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvY29udGFjdEluZm8uZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge1xuXHRcdFx0bmFtZTogJz0nLFxuXHRcdFx0ZW1haWw6ICc9J1xuXHRcdH0sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogY29udGFjdEluZm9Db250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgY29udGFjdEluZm9Db250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gY29udGFjdEluZm9Db250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59O1xuLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgndHJ1bXBzTnV0cycpXG5cdC5kaXJlY3RpdmUoJ2VtYWlsQWRkcmVzcycsIGVtYWlsQWRkcmVzcyk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gZW1haWxBZGRyZXNzKCkge1xuICAgIGxpbmtGdW5jLiRpbmplY3QgPSBbXCJzY29wZVwiLCBcImVsXCIsIFwiYXR0clwiLCBcImN0cmxcIl07XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvZW1haWxBZGRyZXNzLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHRcdGVtYWlsOiAnPSdcblx0XHR9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IGVtYWlsQWRkcmVzc0NvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBlbWFpbEFkZHJlc3NDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gZW1haWxBZGRyZXNzQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTtcbi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ3RydW1wc051dHMnKVxuXHQuZGlyZWN0aXZlKCdmaXJzdE5hbWUnLCBmaXJzdE5hbWUpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGZpcnN0TmFtZSgpIHtcbiAgICBsaW5rRnVuYy4kaW5qZWN0ID0gW1wic2NvcGVcIiwgXCJlbFwiLCBcImF0dHJcIiwgXCJjdHJsXCJdO1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL2ZpcnN0TmFtZS5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7XG5cdFx0XHRmaXJzdDogJz0nXG5cdFx0fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBmaXJzdE5hbWVDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgZmlyc3ROYW1lQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZycsICdzdGF0ZURhdGEnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBmaXJzdE5hbWVDb250cm9sbGVyKCRzY29wZSwgJGxvZywgc3RhdGVEYXRhKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdCAgICAvLyRsb2cuaW5mbyhzdGF0ZSk7XG5cblx0ICAgIHZtLnN0YXRlID0ge1xuXHRcdCAgICBjb250YWluZXI6IHtcblx0XHQgICAgXHRjbGFzc2VzOiBzdGF0ZURhdGEuaW5pdENsYXNzZXMoJ2NvbnRhaW5lcicpLFxuXHRcdCAgICBcdHN0eWxlczogc3RhdGVEYXRhLmluaXRTdHlsZXMoJ2NvbnRhaW5lcicpXHQgICAgXHRcdFxuXHQgICAgXHR9LCBcblx0ICAgIFx0aW5wdXQ6IHtcblx0XHQgICAgXHRjbGFzc2VzOiBzdGF0ZURhdGEuaW5pdENsYXNzZXMoJ2lucHV0JyksXG5cdFx0ICAgIFx0c3R5bGVzOiBzdGF0ZURhdGEuaW5pdFN0eWxlcygnY29udGFpbmVyJylcblx0ICAgIFx0fVxuXHQgICAgfVxuXG5cdCAgICAvL3ZpZXcgbW9kZWwgbWV0aG9kc1xuXHQgICAgdm0udmFsaWRhdGUgPSBmdW5jdGlvbihmaWVsZCwgdmFsdWUpIHtcblx0ICAgIFx0XG5cdCAgICBcdC8vaWYodmFsdWUubGVuZ3RoID4gMSkgc3RhdGUuY2hhbmdlU3RhdGUuaW5wdXRTdWNjZXNzKClcblxuXHQgICAgfVxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59O1xuLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgndHJ1bXBzTnV0cycpXG5cdC5kaXJlY3RpdmUoJ2xhc3ROYW1lJywgbGFzdE5hbWUpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGxhc3ROYW1lKCkge1xuICAgIGxpbmtGdW5jLiRpbmplY3QgPSBbXCJzY29wZVwiLCBcImVsXCIsIFwiYXR0clwiLCBcImN0cmxcIl07XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvbGFzdE5hbWUuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge1xuXHRcdFx0bGFzdDogJz0nXG5cdFx0fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBsYXN0TmFtZUNvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBsYXN0TmFtZUNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBsYXN0TmFtZUNvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07XG4vKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCd0cnVtcHNOdXRzJylcblx0LmRpcmVjdGl2ZSgncHJvZHVjdFNlbGVjdGlvbicsIHByb2R1Y3RTZWxlY3Rpb24pO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHByb2R1Y3RTZWxlY3Rpb24oKSB7XG4gICAgbGlua0Z1bmMuJGluamVjdCA9IFtcInNjb3BlXCIsIFwiZWxcIiwgXCJhdHRyXCIsIFwiY3RybFwiXTtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9wcm9kdWN0U2VsZWN0aW9uLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHRcdHF0eTogJz0nLFxuXHRcdFx0cHJpY2U6ICc9Jyxcblx0XHRcdHN1YnRvdGFsOiAnPSdcblx0XHR9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IHByb2R1Y3RTZWxlY3Rpb25Db250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgcHJvZHVjdFNlbGVjdGlvbkNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBwcm9kdWN0U2VsZWN0aW9uQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0ICAgIC8vcHJpdmF0ZSBtZXRob2RzXG5cblxuXHQgICAgLy92aWV3IG1vZGVsIG1ldGhvZHNcblx0ICAgIHZtLmNhbGN1bGF0ZVN1YnRvdGFsID0gZnVuY3Rpb24oKSB7XG5cdCAgICBcdHZtLnN1YnRvdGFsID0gdm0ucXR5ICogdm0ucHJpY2U7XG5cdCAgICB9XG5cblx0ICAgXHR2bS5kZWNyZW1lbnQgPSBmdW5jdGlvbigpIHtcblx0ICAgIFx0aWYodm0ucXR5ID4gMSkgdm0ucXR5ID0gdm0ucXR5IC0gMTtcblxuXHQgICAgXHR2bS5jYWxjdWxhdGVTdWJ0b3RhbCgpO1xuXHQgICAgfVxuXG5cdCAgICB2bS5pbmNyZW1lbnQgPSBmdW5jdGlvbigpIHtcblx0ICAgIFx0dm0ucXR5ID0gdm0ucXR5ICsgMTtcblxuXHQgICAgXHR2bS5jYWxjdWxhdGVTdWJ0b3RhbCgpO1xuXHQgICAgfVxuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07XG4vKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCd0cnVtcHNOdXRzJylcblx0LmRpcmVjdGl2ZSgncHJvZ3Jlc3NCYXInLCBwcm9ncmVzc0Jhcik7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gcHJvZ3Jlc3NCYXIoKSB7XG4gICAgbGlua0Z1bmMuJGluamVjdCA9IFtcInNjb3BlXCIsIFwiZWxcIiwgXCJhdHRyXCIsIFwiY3RybFwiXTtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9wcm9ncmVzc0Jhci5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBwcm9ncmVzc0JhckNvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBwcm9ncmVzc0JhckNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBwcm9ncmVzc0JhckNvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07XG4vKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCd0cnVtcHNOdXRzJylcblx0LmRpcmVjdGl2ZSgncHVyY2hhc2VCdG4nLCBwdXJjaGFzZUJ0bik7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gcHVyY2hhc2VCdG4oKSB7XG4gICAgbGlua0Z1bmMuJGluamVjdCA9IFtcInNjb3BlXCIsIFwiZWxcIiwgXCJhdHRyXCIsIFwiY3RybFwiXTtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9wdXJjaGFzZUJ0bi5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7XG5cdFx0XHRzdWJtaXRGb3JtOiAnJidcblx0XHR9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IHB1cmNoYXNlQnRuQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIHB1cmNoYXNlQnRuQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIHB1cmNoYXNlQnRuQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTtcbi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ3RydW1wc051dHMnKVxuXHQuZGlyZWN0aXZlKCdzaGlwcGluZ0NhbGN1bGF0b3InLCBzaGlwcGluZ0NhbGN1bGF0b3IpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHNoaXBwaW5nQ2FsY3VsYXRvcigpIHtcbiAgICBsaW5rRnVuYy4kaW5qZWN0ID0gW1wic2NvcGVcIiwgXCJlbFwiLCBcImF0dHJcIiwgXCJjdHJsXCJdO1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL3NoaXBwaW5nQ2FsY3VsYXRvci5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7XG5cdFx0XHRzZXJ2aWNlQ2xhc3M6ICc9Jyxcblx0XHRcdGNvc3Q6ICc9J1xuXHRcdH0sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogc2hpcHBpbmdDYWxjdWxhdG9yQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuXHRcbiAgICB9XG5cbiAgICBzaGlwcGluZ0NhbGN1bGF0b3JDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJywgJ3NlcnZlciddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIHNoaXBwaW5nQ2FsY3VsYXRvckNvbnRyb2xsZXIoJHNjb3BlLCAkbG9nLCBzZXJ2ZXIpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0ICAgICRzY29wZS4kd2F0Y2goJ3ZtLnNlcnZpY2VDbGFzcy5pc1ByaW9yaXR5JywgZnVuY3Rpb24oY3VycmVudCwgb3JpZ2luYWwpIHtcblx0ICAgIFx0Ly8kbG9nLmluZm8oJ3ZtLnNlcnZpY2VDbGFzcy5pc1ByaW9yaXR5Jywgdm0uc2VydmljZUNsYXNzLmlzUHJpb3JpdHksIHZtLnNlcnZpY2VDbGFzcy5leHByZXNzLmNvc3QuYW1vdW50LCB2bS5jb3N0KTtcblxuXHQgICAgXHRpZih2bS5zZXJ2aWNlQ2xhc3MuaXNQcmlvcml0eSA9PSAndHJ1ZScpIHtcblx0ICAgIFx0XHQvLyRsb2cuaW5mbygnaXMgcHJpb3JpdHknKTtcblx0ICAgIFx0XHR2bS5jb3N0LmFtb3VudCA9ICh2bS5zZXJ2aWNlQ2xhc3MucHJpb3JpdHkuY29zdC5hbW91bnQgKiAxMDApO1xuXHQgICAgXHRcdFxuXHQgICAgXHR9IGVsc2Uge1xuXHQgICAgXHRcdC8vJGxvZy5pbmZvKCdpcyBleHByZXNzJyk7XG5cdCAgICBcdFx0dm0uY29zdC5hbW91bnQgPSAodm0uc2VydmljZUNsYXNzLmV4cHJlc3MuY29zdC5hbW91bnQgKiAxMDApO1xuXG5cdCAgICBcdH1cblxuXHQgICAgfSk7XG5cblx0ICAgICRzY29wZS4kd2F0Y2goJ3ZtLnNlcnZpY2VDbGFzcy5wcmlvcml0eS5jb3N0LmFtb3VudCcsIGZ1bmN0aW9uKGN1cnJlbnQsIG9yaWdpbmFsKSB7XG5cdCAgICBcdCRsb2cuaW5mbygndm0uc2VydmljZUNsYXNzLmlzUHJpb3JpdHknLCB2bS5zZXJ2aWNlQ2xhc3MuaXNQcmlvcml0eSwgdm0uc2VydmljZUNsYXNzLmV4cHJlc3MuY29zdC5hbW91bnQsIHZtLmNvc3QpO1xuXG5cdCAgICBcdGlmKHZtLnNlcnZpY2VDbGFzcy5pc1ByaW9yaXR5ID09ICd0cnVlJykge1xuXHQgICAgXHRcdC8vJGxvZy5pbmZvKCdpcyBwcmlvcml0eScpO1xuXHQgICAgXHRcdHZtLmNvc3QuYW1vdW50ID0gKHZtLnNlcnZpY2VDbGFzcy5wcmlvcml0eS5jb3N0LmFtb3VudCAqIDEwMCk7XG5cdCAgICBcdH0gZWxzZSB7XG5cdCAgICBcdFx0Ly8kbG9nLmluZm8oJ2lzIGV4cHJlc3MnKTtcblx0ICAgIFx0XHR2bS5jb3N0LmFtb3VudCA9ICh2bS5zZXJ2aWNlQ2xhc3MuZXhwcmVzcy5jb3N0LmFtb3VudCAqIDEwMCk7XG5cdCAgICBcdH1cblxuXHQgICAgfSk7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTtcbi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ3RydW1wc051dHMnKVxuXHQuZGlyZWN0aXZlKCdzaGlwcGluZ0luZm8nLCBzaGlwcGluZ0luZm8pO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHNoaXBwaW5nSW5mbygpIHtcbiAgICBsaW5rRnVuYy4kaW5qZWN0ID0gW1wic2NvcGVcIiwgXCJlbFwiLCBcImF0dHJcIiwgXCJjdHJsXCJdO1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL3NoaXBwaW5nSW5mby5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7XG5cdFx0XHRhZGRyZXNzOiAnPScsXG5cdFx0XHRyZXF1aXJubWVudHM6ICc9Jyxcblx0XHRcdGNvc3Q6ICc9Jyxcblx0XHRcdHF0eTogJz0nXG5cdFx0fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBzaGlwcGluZ0luZm9Db250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgc2hpcHBpbmdJbmZvQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZycsICdzZXJ2ZXInXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBzaGlwcGluZ0luZm9Db250cm9sbGVyKCRzY29wZSwgJGxvZywgc2VydmVyKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdCAgICAvLyRsb2cuaW5mbygndm0ucmVxdWlybm1lbnRzJywgdm0ucmVxdWlybm1lbnRzLCAndm0uY29zdCcsIHZtLmNvc3QpO1xuXHQgICAgLy92aWV3IG1vZGVsIG1ldGhvZHNcblx0ICAgIHZtLmNhbGN1bGF0ZVNoaXBwaW5nID0gZnVuY3Rpb24oemlwUG9pbnRzKSB7XG5cdCAgICBcdC8vJGxvZy5pbmZvKCdjYWxjdWxhdGluZyB0aGUgaW5mbyBub3cnLCB6aXBQb2ludHMpO1xuXG5cdCAgICBcdC8vZ2V0IHRoZSBzaGlwcGluZyBpbmZvIGZyb20gVVNQUyBBUElcblx0ICAgIFx0c2VydmVyLnBvc3RhZ2VDYWxjdWxhdG9yKHppcFBvaW50cywgdm0ucXR5KS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG5cdCAgICBcdFx0XG5cdCAgICBcdFx0dm0ucmVxdWlybm1lbnRzLmRhdGFBcXVpcmVkID0gdHJ1ZTtcblx0ICAgIFx0XHR2bS5yZXF1aXJubWVudHMucHJpb3JpdHkuY29zdC5hbW91bnQgPSBwYXJzZUZsb2F0KHJlc3BvbnNlLnByaW9yaXR5LnJhdGUpO1xuXHQgICAgXHRcdHZtLnJlcXVpcm5tZW50cy5wcmlvcml0eS50cmFuc2l0RGF5cyA9IHJlc3BvbnNlLnByaW9yaXR5Lm1haWxTZXJ2aWNlO1xuXHQgICAgXHRcdHZtLnJlcXVpcm5tZW50cy5leHByZXNzLmNvc3QuYW1vdW50ID0gcGFyc2VGbG9hdChyZXNwb25zZS5leHByZXNzLnJhdGUpO1xuXHQgICAgXHRcdHZtLnJlcXVpcm5tZW50cy5leHByZXNzLnRyYW5zaXREYXlzID0gcmVzcG9uc2UuZXhwcmVzcy5tYWlsU2VydmljZTtcblx0ICAgIFx0XHQkc2NvcGUuJGFwcGx5KCk7XG5cdCAgICBcdFx0XG5cdCAgICBcdFx0JGxvZy5pbmZvKCdnb3QgdGhpcyBiYWNrIGZyb20gcG9zdGFnZUNhbGN1bGF0b3InLCByZXNwb25zZSwgdm0ucmVxdWlybm1lbnRzKTtcblxuXHQgICAgXHR9KS5jYXRjaChmdW5jdGlvbihlcnJvcikge1xuXHQgICAgXHRcdCRsb2cuaW5mbygnZ290IHRoaXMgZXJyb3IgZnJvbSB0aGUgcG9zdGFnZUNhbGN1bGF0b3InLCBlcnJvcik7XG5cdCAgICBcdH0pXG5cdCAgICB9XG5cblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59O1xuLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgndHJ1bXBzTnV0cycpXG5cdC5kaXJlY3RpdmUoJ3N0YXRlJywgc3RhdGUpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHN0YXRlKCkge1xuICAgIGxpbmtGdW5jLiRpbmplY3QgPSBbXCJzY29wZVwiLCBcImVsXCIsIFwiYXR0clwiLCBcImN0cmxcIl07XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvc3RhdGUuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge1xuXHRcdFx0c3RhdGVJZDogJz0nXG5cdFx0fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBzdGF0ZUNvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBzdGF0ZUNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBzdGF0ZUNvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07XG4vKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCd0cnVtcHNOdXRzJylcblx0LmRpcmVjdGl2ZSgnc3RyZWV0Jywgc3RyZWV0KTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBzdHJlZXQoKSB7XG4gICAgbGlua0Z1bmMuJGluamVjdCA9IFtcInNjb3BlXCIsIFwiZWxcIiwgXCJhdHRyXCIsIFwiY3RybFwiXTtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9zdHJlZXQuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge1xuXHRcdFx0c3RyZWV0QWRkcmVzczogJz0nXG5cdFx0fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBzdHJlZXRDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgc3RyZWV0Q29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIHN0cmVldENvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07XG4vKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCd0cnVtcHNOdXRzJylcblx0LmRpcmVjdGl2ZSgndG9vbEJhcicsIHRvb2xCYXIpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHRvb2xCYXIoKSB7XG4gICAgbGlua0Z1bmMuJGluamVjdCA9IFtcInNjb3BlXCIsIFwiZWxcIiwgXCJhdHRyXCIsIFwiY3RybFwiXTtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy90b29sQmFyLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHt9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IFRvb2xCYXJDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgVG9vbEJhckNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBUb29sQmFyQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTtcbi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ3RydW1wc051dHMnKVxuXHQuZGlyZWN0aXZlKCd5b3VyTmFtZScsIHlvdXJOYW1lKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiB5b3VyTmFtZSgpIHtcbiAgICBsaW5rRnVuYy4kaW5qZWN0ID0gW1wic2NvcGVcIiwgXCJlbFwiLCBcImF0dHJcIiwgXCJjdHJsXCJdO1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL3lvdXJOYW1lLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHRcdG5hbWU6ICc9J1xuXHRcdH0sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogeW91ck5hbWVDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgeW91ck5hbWVDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24geW91ck5hbWVDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59O1xuLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgndHJ1bXBzTnV0cycpXG5cdC5kaXJlY3RpdmUoJ3ppcENvZGUnLCB6aXBDb2RlKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiB6aXBDb2RlKCkge1xuICAgIGxpbmtGdW5jLiRpbmplY3QgPSBbXCJzY29wZVwiLCBcImVsXCIsIFwiYXR0clwiLCBcImN0cmxcIl07XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvemlwQ29kZS5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7XG5cdFx0XHR1bmlxdWVJZDogJz0nLFxuXHRcdFx0emlwOiAnPScsXG5cdFx0XHRjaXR5TmFtZTogJz0nLFxuXHRcdFx0c3RhdGVJZDogJz0nLFxuXHRcdFx0Y2FsY3VsYXRlU2hpcHBpbmc6ICcmJ1xuXHRcdH0sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogemlwQ29kZUNvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICB6aXBDb2RlQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZycsICckcm9vdFNjb3BlJywgJ3NlcnZlcicsICdzdGF0ZURhdGEnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiB6aXBDb2RlQ29udHJvbGxlcigkc2NvcGUsICRsb2csICRyb290U2NvcGUsIHNlcnZlciwgc3RhdGVEYXRhKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdCAgICAvL2RlZmluZSB2aWV3bW9kZWwgdmFyaWFibGVzXG5cdCAgICB2bS52YWxTdGFnZXMgPSBzdGF0ZURhdGEuaW5pdFZhbFN0YWdlcygpO1xuXG5cdCAgICB2bS5zdGF0ZSA9IHtcblx0XHQgICAgY29udGFpbmVyOiB7XG5cdFx0ICAgIFx0Y2xhc3Nlczogc3RhdGVEYXRhLmluaXRDbGFzc2VzKCdjb250YWluZXInKSxcblx0XHQgICAgXHRzdHlsZXM6IHN0YXRlRGF0YS5pbml0U3R5bGVzKCdjb250YWluZXInKVx0ICAgIFx0XHRcblx0ICAgIFx0fSwgXG5cdCAgICBcdGlucHV0OiB7XG5cdFx0ICAgIFx0Y2xhc3Nlczogc3RhdGVEYXRhLmluaXRDbGFzc2VzKCdpbnB1dCcpLFxuXHRcdCAgICBcdHN0eWxlczogc3RhdGVEYXRhLmluaXRTdHlsZXMoJ2NvbnRhaW5lcicpXG5cdCAgICBcdH1cblx0ICAgIH1cblxuXHQgICAgZnVuY3Rpb24gbG9uZ0Vub3VnaCh6aXBjb2RlKSB7XG5cdCAgICBcdHZhciBmbGFnID0gZmFsc2U7XG5cblx0ICAgIFx0Ly8kbG9nLmluZm8oJ2NoZWNpbmcgbGVuZ3RoJywgemlwY29kZSwgemlwY29kZS5sZW5ndGgpO1xuXG5cdCAgICBcdGlmKHR5cGVvZiB6aXBjb2RlICE9ICd1bmRlZmluZWQnKVxuXHQgICAgXHRcdGlmKHppcGNvZGUubGVuZ3RoID49IDUpIGZsYWcgPSB0cnVlO1xuXG5cdCAgICBcdHJldHVybiBmbGFnO1xuXHQgICAgfVxuXG5cdCAgICBmdW5jdGlvbiBzdWNjZXNzaWZ5SW5wdXQoKSB7IFxuXHQgICAgXHQvLyRsb2cuaW5mbygnc3VjY2VzcycsIHZtLnN0YXRlLmNvbnRhaW5lcik7XG5cdCAgICBcdHZtLnN0YXRlLmNvbnRhaW5lci5jbGFzc2VzID0gc3RhdGVEYXRhLnVwZGF0ZVN0YXRlKCdjb250YWluZXInLCAnc3VjY2VzcycpO1xuXHQgICAgXHQvL3ZtLnN0YXRlLmNvbnRhaW5lci5jbGFzc2VzWydoYXMtc3VjY2VzcyddID0gdHJ1ZTtcblx0ICAgIFx0Ly92bS5zdGF0ZS5jb250YWluZXIuY2xhc3Nlc1snaGFzLXdhcm5pbmcnXSA9IGZhbHNlO1xuXHQgICAgXHQvL3ZtLnN0YXRlLmNvbnRhaW5lci5jbGFzc2VzWydoYXMtZGFuZ2VyJ10gPSBmYWxzZTtcblx0ICAgIFx0dm0uc3RhdGUuaW5wdXQuY2xhc3NlcyA9IHN0YXRlRGF0YS51cGRhdGVTdGF0ZSgnaW5wdXQnLCAnc3VjY2VzcycpO1xuXHQgICAgXHQvL3ZtLnN0YXRlLmlucHV0LmNsYXNzZXNbJ2Zvcm0tY29udHJvbC1zdWNjZXNzJ10gPSB0cnVlO1xuXHQgICAgXHQvL3ZtLnN0YXRlLmlucHV0LmNsYXNzZXNbJ2Zvcm0tY29udHJvbC13YXJuaW5nJ10gPSBmYWxzZTtcblx0ICAgIFx0Ly92bS5zdGF0ZS5pbnB1dC5jbGFzc2VzWydmb3JtLWNvbnRyb2wtZGFuZ2VyJ10gPSBmYWxzZTtcblx0ICAgIH1cblxuXHQgICAgZnVuY3Rpb24gZmFpbGlmeUlucHV0KCkgeyBcblx0ICAgIFx0Ly8kbG9nLmluZm8oJ2ZhaWxlZCcpO1xuXHQgICAgXHR2bS5zdGF0ZS5jb250YWluZXIuY2xhc3Nlc1snaGFzLXN1Y2Nlc3MnXSA9IGZhbHNlO1xuXHQgICAgXHR2bS5zdGF0ZS5jb250YWluZXIuY2xhc3Nlc1snaGFzLXdhcm5pbmcnXSA9IHRydWU7XG5cdCAgICBcdHZtLnN0YXRlLmNvbnRhaW5lci5jbGFzc2VzWydoYXMtZGFuZ2VyJ10gPSBmYWxzZTtcblxuXHQgICAgXHR2bS5zdGF0ZS5pbnB1dC5jbGFzc2VzWydmb3JtLWNvbnRyb2wtc3VjY2VzcyddID0gZmFsc2U7XG5cdCAgICBcdHZtLnN0YXRlLmlucHV0LmNsYXNzZXNbJ2Zvcm0tY29udHJvbC13YXJuaW5nJ10gPSB0cnVlO1xuXHQgICAgXHR2bS5zdGF0ZS5pbnB1dC5jbGFzc2VzWydmb3JtLWNvbnRyb2wtZGFuZ2VyJ10gPSBmYWxzZTtcblx0ICAgIH1cblxuXHQgICAgZnVuY3Rpb24gY2l0eVN0YXRlTG9va3VwKHppcGNvZGUpIHtcblx0XHQgICAgXG5cdFx0ICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcblxuXHRcdFx0ICAgIHNlcnZlci5jaXR5U3RhdGVMb29rdXAoemlwY29kZSkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuXHRcdFx0ICAgIFx0JGxvZy5pbmZvKCdnb3QgdGhpcyByZXNwb25zZScsIHJlc3BvbnNlKTtcblx0XHRcdCAgICBcdHJlc29sdmUocmVzcG9uc2UpO1xuXHRcdFx0ICAgIH0pLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7XG5cdFx0XHQgICAgXHQkbG9nLmluZm8oJ2dvdCB0aGlzIGVycm9yJywgZXJyb3IpO1xuXHRcdFx0ICAgIFx0cmVqZWN0KGVycm9yKTtcblx0XHRcdCAgICB9KTtcblxuXHRcdCAgICB9KTtcblx0ICAgIFx0XG5cdCAgICB9XG5cblx0ICAgIHZtLnZhbGlkYXRlID0gZnVuY3Rpb24oemlwY29kZSkge1xuXG5cdCAgICBcdC8vJGxvZy5pbmZvKCd2YWxpZGF0aW5nIHppcCcpO1xuXG5cdCAgICBcdC8vb25seSB2YWxpZGF0ZSBpZiB0aGV5J3ZlIHRyaWVkIGF0IGxlYXN0IG9uY2Vcblx0ICAgIFx0aWYodm0udmFsU3RhZ2VzLmF0dGVtcHRlZCkge1xuXG5cdCAgICBcdFx0Ly8kbG9nLmluZm8oJ2NlaGNraW5nIGxlbmd0aCcsIGxvbmdFbm91Z2goemlwY29kZSkpO1xuXG5cdCAgICBcdFx0Ly9jaGVjayBpZiBpdCdzIGxvbmcgZW5vdWdoXG5cdCAgICBcdFx0aWYobG9uZ0Vub3VnaCh6aXBjb2RlKSkge1xuXG5cdCAgICBcdFx0XHQvLyRsb2cuaW5mbygnZ29vZCBsZW5ndGgsIGFjdGluZyBhY29yZGluZ2x5Jyk7XG5cdCAgICBcdFx0XHQvL2NoYW5nZSB0aGUgY2xhc3Nlc1xuXHQgICAgXHRcdFx0c3VjY2Vzc2lmeUlucHV0KCk7XG5cdCAgICBcdFx0XHRcblx0ICAgIFx0XHRcdC8vZ2V0IHRoZSBjaXR5IGFuZCBzdGF0ZVxuXHQgICAgXHRcdFx0Y2l0eVN0YXRlTG9va3VwKHppcGNvZGUpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcblx0ICAgIFx0XHRcdFx0Ly93aGVuIHN1Y2Nlc3NmdWxseSBhcXVpcmVkLCB1cGRhdGUgdGhlIG1vZGVsXG5cdCAgICBcdFx0XHRcdC8vJGxvZy5pbmZvKHJlc3BvbnNlKTtcblx0ICAgIFx0XHRcdFx0dm0uY2l0eU5hbWUgPSByZXNwb25zZS56aXBDb2RlLmNpdHk7XG5cdCAgICBcdFx0XHRcdHZtLnN0YXRlSWQgPSByZXNwb25zZS56aXBDb2RlLnN0YXRlO1xuXG5cdCAgICBcdFx0XHRcdC8vYWZ0ZXIgdGhlIHZhbHVlcyBoYXZlIGJlZW4gdXBkYXRlZCwgYXBwbHkgdGhlIHVwZGF0ZXNcblx0ICAgIFx0XHRcdFx0JHJvb3RTY29wZS4kYXBwbHkoKTtcblxuXHQgICAgXHRcdFx0fSkuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHtcblx0ICAgIFx0XHRcdFx0JGxvZy5pbmZvKCd0aGVyZSB3YXMgYW4gZXJyb3InKTtcblx0ICAgIFx0XHRcdH0pO1xuXG5cdCAgICBcdFx0XHQvL2NhbGN1bGF0ZSBzaGlwcGluZ1xuXHQgICAgXHRcdFx0dm0uY2FsY3VsYXRlU2hpcHBpbmcoKSh7c3RhcnQ6ICc5NzAwNScsIGVuZDogdm0uemlwfSk7XG5cblx0ICAgIFx0XHR9IGVsc2Uge1xuXHQgICAgXHRcdFx0ZmFpbGlmeUlucHV0KCk7XG5cdCAgICBcdFx0fVxuXG5cdCAgICBcdH1cblxuXHQgICAgfVxuXG5cdCAgICB2bS5zdWJtaXQgPSBmdW5jdGlvbih6aXBjb2RlKSB7XG5cblx0ICAgIFx0dm0udmFsU3RhZ2VzLmF0dGVtcHRlZCA9IHRydWU7XG5cblx0ICAgIFx0dm0udmFsaWRhdGUoemlwY29kZSk7XG5cdCAgICB9XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTtcbmFuZ3VsYXJcbiAgICAubW9kdWxlKCd0cnVtcHNOdXRzJylcbiAgICAuZmFjdG9yeSgnZGF0YU1vZGVsJywgZGF0YU1vZGVsKTtcblxuZGF0YU1vZGVsLiRpbmplY3QgPSBbJyRsb2cnXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBkYXRhTW9kZWwoJGxvZykge1xuXG5cdHZhciBkYXRhTW9kZWxPYmplY3QgPSB7XG5cdFx0bmFtZToge1xuXHRcdFx0Zmlyc3Q6ICcnLFxuXHRcdFx0bGFzdDogJydcblx0XHR9LFxuXHRcdGVtYWlsOiAnJyxcblx0XHRjb3B5U2hpcHBpbmdBZGRyZXNzOiB0cnVlLFxuXHRcdHByb2R1Y3Q6IHtcblx0XHRcdHByaWNlOiAyMDAwXG5cdFx0fSxcblx0XHRvcmRlcjoge1xuXHRcdFx0cXR5OiAxLFxuXHRcdFx0Y29zdDoge1xuXHRcdFx0XHRzdWJ0b3RhbDogMjAwMCxcblx0XHRcdFx0dGF4OiAwLFxuXHRcdFx0XHRkaXNjb3VudHM6IHtcblx0XHRcdFx0XHRwcm9tb3Rpb25zOiBbXSxcblx0XHRcdFx0XHR0b3RhbFZhbHVlOiAwXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHRvdGFsOiAwXG5cdFx0XHR9XG5cdFx0fSxcblx0XHRzaGlwcGluZzoge1xuXHRcdFx0YWRkcmVzczoge1xuXHRcdFx0XHRzdHJlZXQxOiAnJyxcblx0XHRcdFx0c3RyZWV0MjogJycsXG5cdFx0XHRcdHN0cmVldDM6ICcnLFxuXHRcdFx0XHRjaXR5OiAnJyxcblx0XHRcdFx0c3RhdGU6ICcnLFxuXHRcdFx0XHR6aXA6ICcnXG5cdFx0XHR9LCBcblx0XHRcdHJlcXVpcm5tZW50czoge1xuXHRcdFx0XHRpc1ByaW9yaXR5OiAndHJ1ZScsXG5cdFx0XHRcdGRhdGFBcXVpcmVkOiBmYWxzZSxcblx0XHRcdFx0cHJpb3JpdHk6IHtcblx0XHRcdFx0XHR0cmFuc2l0RGF5czogMCxcblx0XHRcdFx0XHRjb3N0OiB7XG5cdFx0XHRcdFx0XHRhbW91bnQ6IDAsXG5cdFx0XHRcdFx0XHRjdXJyZW5jeTogJ1VTRCdcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sXG5cdFx0XHRcdGV4cHJlc3M6IHtcblx0XHRcdFx0XHR0cmFuc2l0RGF5czogMCxcblx0XHRcdFx0XHRjb3N0OiB7XG5cdFx0XHRcdFx0XHRhbW91bnQ6IDAsXG5cdFx0XHRcdFx0XHRjdXJyZW5jeTogJ1VTRCdcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHRjb3N0OiB7XG5cdFx0XHRcdGFtb3VudDogNjQ1LFxuXHRcdFx0XHRjdXJyZW5jeTogJ1VTRCdcblx0XHRcdH1cblx0XHR9LFxuXHRcdGJpbGxpbmc6IHtcblx0XHRcdGFkZHJlc3M6IHtcblx0XHRcdFx0c3RyZWV0MTogJycsXG5cdFx0XHRcdHN0cmVldDI6ICcnLFxuXHRcdFx0XHRzdHJlZXQzOiAnJyxcblx0XHRcdFx0Y2l0eTogJycsXG5cdFx0XHRcdHN0YXRlOiAnJyxcblx0XHRcdFx0emlwOiAnJ1xuXHRcdFx0fSxcblx0XHRcdHBheW1lbnQ6IHtcblx0XHRcdFx0bnVtYmVyOiBbJycsICcnLCAnJywgJyddLFxuXHRcdFx0XHRleHA6IFsnJywgJyddLFxuXHRcdFx0XHRjc3Y6ICcnXG5cdFx0XHR9XG5cdFx0fSxcblx0XHRhcGlzOiB7XG5cdFx0XHRzcXVhcmVJZDogJydcblx0XHR9LFxuXHRcdF9yZWFkOl9yZWFkLFxuXHRcdF91cGRhdGU6X3VwZGF0ZSxcblx0XHRyZWFkUHJvcDpyZWFkUHJvcCxcblx0XHR1cGRhdGVQcm9wOnVwZGF0ZVByb3Bcblx0fTtcblxuXHRmdW5jdGlvbiBfcmVhZChwcm9wKSB7fVxuXHRmdW5jdGlvbiBfdXBkYXRlKHByb3AsIHZhbHVlKSB7fVxuXHRmdW5jdGlvbiByZWFkUHJvcChwcm9wKSB7fVxuXHRmdW5jdGlvbiB1cGRhdGVQcm9wKHByb3AsIHZhbHVlKSB7fVxuXG5cdHJldHVybiBkYXRhTW9kZWxPYmplY3Q7XG59XG5hbmd1bGFyXG4gICAgLm1vZHVsZSgndHJ1bXBzTnV0cycpXG4gICAgLmZhY3RvcnkoJ3N0YXRlRmFjdG9yeScsIHN0YXRlRmFjdG9yeSk7XG5cbnN0YXRlRmFjdG9yeS4kaW5qZWN0ID0gWyckbG9nJ107XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gc3RhdGVGYWN0b3J5KCRsb2cpIHtcblxuXHR2YXIgc3RhdGVPYmplY3QgPSB7XG5cdFx0bW9kZWw6IHtcblx0XHRcdGFsbEVsZW1lbnRzQ29tcGxldGVkOiBmYWxzZSxcblx0XHRcdGZpZWxkczogW10sXG5cdFx0XHRpbnB1dDoge1xuXHRcdFx0XHRwcm9wOiB7XG5cdFx0XHRcdFx0bmFtZTogJycsXG5cdFx0XHRcdFx0cmVxdWlybm1lbnRzOiBbXVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRzdGF0ZToge1xuXHRcdFx0XHRcdGFkZHJlc3NlZDogZmFsc2UsXG5cdFx0XHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRcdFx0ZmFpbHVyZTogZmFsc2Vcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sXG5cdFx0Y2xhc3Nlczoge1xuXHRcdFx0J2Zvcm0tZ3JvdXAnOiBmYWxzZSxcblx0XHRcdCdoYXMtc3VjY2Vzcyc6IGZhbHNlLFxuXHRcdFx0J2hhcy13YXJuaW5nJzogZmFsc2UsXG5cdFx0XHQnaGFzLWRhbmdlcic6IGZhbHNlLFxuXHRcdFx0J2Zvcm0tY29udHJvbC1sYWJlbCc6IGZhbHNlLFxuXHRcdFx0J2Zvcm0tY29udHJvbCc6IGZhbHNlLFxuXHRcdFx0J2Zvcm0tY29udHJvbC1zdWNjZXNzJzogZmFsc2UsXG5cdFx0XHQnZm9ybS1jb250cm9sLXdhcm5pbmcnOiBmYWxzZSxcblx0XHRcdCdmb3JtLWNvbnRyb2wtZGFuZ2VyJzogZmFsc2UsXG5cdFx0XHQnZm9ybS1jb250cm9sLWZlZWRiYWNrJzogZmFsc2UsXG5cdFx0XHQnZm9ybS10ZXh0JzogZmFsc2UsXG5cdFx0XHQndGV4dC1tdXRlZCc6IGZhbHNlXG5cdFx0fSxcblx0XHRzdHlsZXM6IHtcblxuXHRcdH0sXG5cdFx0Y2hhbmdlU3RhdGU6IHtcblx0XHRcdGlucHV0U3VjY2VzczogJycsXG5cdFx0XHRpbnB1dEZhaWxlZDogJydcblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiBpbnB1dFN1Y2Nlc3MoKSB7fVxuXHRmdW5jdGlvbiBpbnB1dEZhaWxlZCgpIHt9XG5cblx0cmV0dXJuIHN0YXRlT2JqZWN0O1xufVxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ3RydW1wc051dHMnKVxuICAgIC5jb25maWcoY29uZmlnKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBjb25maWcoJHJvdXRlUHJvdmlkZXIpIHsgICBcbiAgICAkcm91dGVQcm92aWRlclxuICAgIC8vZGVmaW5lIHRoZSBsYW5kaW5nIHBhZ2VcbiAgICAud2hlbignLycsIHtcbiAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9sYW5kaW5nUGFnZS5odG0nLFxuICAgICAgICBjb250cm9sbGVyOiAnbGFuZGluZ0NvbnRyb2xsZXInLFxuICAgICAgICBjb250cm9sbGVyQXM6ICd2bSdcbiAgICB9KVxuICAgIC53aGVuKCcvY29uZmlybWF0aW9uJywge1xuICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL2NvbmZpcm1hdGlvbi5odG0nLFxuICAgICAgICBjb250cm9sbGVyOiAnY29uZmlybWF0aW9uQ29udHJvbGxlcicsXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJ1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBnZXRBdXRoSWQoc2VydmVyKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBzZXJ2ZXIuZ2V0U3FyQXBwSWQoKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICByZXNvbHZlKHJlc3BvbnNlLmlkKTtcbiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgIH0pO1xuICAgIH0pXG59XG5cbmFuZ3VsYXJcbiAgICAubW9kdWxlKCd0cnVtcHNOdXRzJylcbiAgICAuc2VydmljZSgnc2VydmVyJywgc2VydmVyKTtcblxuc2VydmVyLiRpbmplY3QgPSBbJyRsb2cnLCAnJGh0dHAnXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBzZXJ2ZXIoJGxvZywgJGh0dHApIHtcblx0dmFyIGJhY2tlbmQgPSB0aGlzO1xuXG5cdC8vZ2V0cyBmcm9tIHRoZSBzZXJ2ZXJcblx0YmFja2VuZC5fZ2V0ID0gZnVuY3Rpb24odXJsKSB7XG5cdFx0Ly8kbG9nLmluZm8oJ2dldHRpbmcgQmFja2VuZCcpO1xuXHRcdHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcblxuXHRcdFx0JGh0dHAuZ2V0KHVybCkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuXG5cdFx0XHRcdC8vJGxvZy5pbmZvKHJlc3BvbnNlKTtcblxuXHRcdFx0XHRyZXNvbHZlKHJlc3BvbnNlLmRhdGEpO1xuXG5cdFx0XHR9LCBmdW5jdGlvbiB0aGVFcnJvcnMoZXJyb3IpIHtcblxuXHRcdFx0XHRyZWplY3QoZXJyb3IpO1xuXG5cdFx0XHR9KTtcblxuXHRcdH0pO1xuXG5cdH1cblxuXHQvL3Bvc3RzIHRvIHRoZSBzZXJ2ZXJcblx0YmFja2VuZC5fcG9zdCA9IGZ1bmN0aW9uKHVybCwgZGF0YSwgY29uZmlnKSB7XG5cblx0XHQkbG9nLmluZm8oJ3VybCcsIHVybCwgJ2RhdGEnLCBkYXRhKTtcblxuXHRcdC8vcmV0dXJuIHRoZSBwcm9taXNlXG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuXG5cdFx0XHQkaHR0cC5wb3N0KHVybCwgZGF0YSwgY29uZmlnKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG5cblx0XHRcdFx0cmVzb2x2ZShyZXNwb25zZSk7XG5cblx0XHRcdH0sIGZ1bmN0aW9uIHRoZUVycm9ycyhlcnJvcikge1xuXG5cdFx0XHRcdHJlamVjdChlcnJvcik7XG5cblx0XHRcdH0pO1xuXG5cdFx0fSk7XG5cblx0fVxuXG5cdC8vY2hhcmdlIGEgY2FyZFxuXHRiYWNrZW5kLmNoYXJnZUNhcmQgPSBmdW5jdGlvbih1cmwsIGRhdGEpIHtcblxuXHRcdHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcblxuXHRcdFx0YmFja2VuZC5fcG9zdCh1cmwsIGRhdGEsIHt9KS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG5cdFx0XHRcdHJlc29sdmUocmVzcG9uc2UpO1xuXHRcdFx0fSkuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHtcblx0XHRcdFx0cmVqZWN0KGVycm9yKTtcblx0XHRcdH0pO1xuXG5cdFx0fSk7XG5cblx0fVxuXG5cdC8vZ2V0IHRoZSByZXF1aXJlZCBzcXVhcmUgaWRcblx0YmFja2VuZC5nZXRTcXJBcHBJZCA9IGZ1bmN0aW9uKCkge1xuXHRcdC8vJGxvZy5pbmZvKCdzZW5kaW5nIGZyb20gc3FyJyk7XG5cdFx0Ly9yZXR1cm4gdGhlIHByb21pc2Vcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG5cblx0XHRcdGJhY2tlbmQuX2dldCgnL2FwaS9zcXVhcmVJZCcpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcblx0XHRcdFx0Ly8kbG9nLmluZm8oJ2dvdCB0aGlzJywgcmVzcG9uc2UpO1xuXHRcdFx0XHRyZXNvbHZlKHJlc3BvbnNlKTtcblx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xuXHRcdFx0XHRyZWplY3QoZXJyKTtcblx0XHRcdH0pO1xuXG5cdFx0fSk7XG5cblx0fVxuXG5cdC8vcmVjZWl2ZXMgYSB6aXBjb2RlLCByZXR1cm5zIGEgY2l0eSBhbmQgc3RhdGVcblx0YmFja2VuZC5jaXR5U3RhdGVMb29rdXAgPSBmdW5jdGlvbih6aXBjb2RlKSB7XG5cblx0XHQvL2J1aWxkIHRoZSBuZXcgdXJsXG5cdFx0dmFyIHVybCA9ICcvYXBpL3ppcGNoZWNrLycgKyB6aXBjb2RlO1xuXG5cdFx0Ly9yZXR1cm4gdGhlIHByb21pc2Vcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG5cblx0XHRcdC8vaW5pdGlhdGUgdGhlIHJlcXVlc3Rcblx0XHRcdGJhY2tlbmQuX2dldCh1cmwpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcblxuXHRcdFx0XHQvL3JldHVybiBhIGdvb2QgcmVzcG9uc2Vcblx0XHRcdFx0cmVzb2x2ZShyZXNwb25zZSk7XG5cblx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7XG5cblx0XHRcdFx0Ly9yZXR1cm4gYW4gZXJyb3IgcmVzcG9uc2Vcblx0XHRcdFx0cmVqZWN0KGVycm9yKTtcblx0XHRcdFx0XG5cdFx0XHR9KTtcblxuXHRcdH0pO1xuXG5cdH1cblxuXHRiYWNrZW5kLnBvc3RhZ2VDYWxjdWxhdG9yID0gZnVuY3Rpb24oemlwUG9pbnRzLCBxdHkpIHtcblx0XHRcblx0XHQvLyRsb2cuaW5mbygnZ290IHRoZXNlIGRhdGEgcG9pbnRzLiB6aXBQb2ludHM6JywgemlwUG9pbnRzLCAncXR5JywgcXR5KTtcblxuXHRcdHZhciB1cmwgPSAnL2FwaS9jYWxjUG9zdGFnZS8nICsgemlwUG9pbnRzLnN0YXJ0ICsgXCIvXCIgKyB6aXBQb2ludHMuZW5kICsgJy8nICsgcXR5O1xuXG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuXG5cdFx0XHRiYWNrZW5kLl9nZXQodXJsKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG5cblx0XHRcdFx0Ly8kbG9nLmluZm8oJ2dvdCB0aGlzIHJlc3BvbnNlJywgcmVzcG9uc2UpO1xuXHRcdFx0XHQvL3JldHVybiBhIGdvb2QgcmVzcG9uc2Vcblx0XHRcdFx0cmVzb2x2ZShyZXNwb25zZSk7XG5cblx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7XG5cblx0XHRcdFx0Ly9yZXR1cm4gYW4gZXJyb3IgcmVzcG9uc2Vcblx0XHRcdFx0cmVqZWN0KGVycm9yKTtcblxuXHRcdFx0fSk7XG5cblx0XHR9KTtcblxuXHR9XG5cblx0YmFja2VuZC5zdWJtaXRTYWxlID0gZnVuY3Rpb24ob3JkZXJGb3JtKSB7XG5cblx0XHQkbG9nLmluZm8oJ3N1Ym1pdHRpbmcgc2FsZScpO1xuXG5cdFx0Ly9kZWZpbmUgbG9jYWwgdmFyaWFibGVcblx0XHR2YXIgY29uZmlnID0ge1xuXHRcdFx0J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD11dGYtODsnXG5cdFx0fTtcblxuXHRcdC8vcmV0dXJuIHRoZSBwcm9taXNlXG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuXG5cdFx0XHQvL2luaXRpYXRlIHRoZSByZXF1ZXN0XG5cdFx0XHRiYWNrZW5kLl9wb3N0KCcvYXBpL29yZGVyJywgb3JkZXJGb3JtLCBjb25maWcpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcblxuXHRcdFx0XHQvL3JldHVybiBhIGdvb2QgcmVzcG9uc2Vcblx0XHRcdFx0cmVzb2x2ZShyZXNwb25zZSk7XG5cblx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7XG5cblx0XHRcdFx0cmVqZWN0KGVycm9yKTtcblxuXHRcdFx0fSk7XG5cblx0XHR9KTtcblxuXHR9XG5cbn1cbmFuZ3VsYXJcbiAgICAubW9kdWxlKCd0cnVtcHNOdXRzJylcbiAgICAuc2VydmljZSgnc3RhdGVEYXRhJywgc3RhdGVEYXRhKTtcblxuc3RhdGVEYXRhLiRpbmplY3QgPSBbJyRsb2cnXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBzdGF0ZURhdGEoJGxvZykge1xuXHR2YXIgc3RhdGUgPSB0aGlzO1xuXG5cdHN0YXRlLnZhbFN0YWdlcyA9IHtcbiAgICBcdGF0dGVtcHRlZDogZmFsc2UsXG4gICAgXHRzdWNjZXNzZnVsOiBmYWxzZSxcbiAgICBcdGZhaWxlZDogdHJ1ZVxuXHR9O1xuXG5cdHN0YXRlLmNsYXNzZXMgPSB7XG5cdFx0Y29udGFpbmVyOiB7XG5cdFx0XHQnaGFzLXN1Y2Nlc3MnOiBmYWxzZSxcblx0XHRcdCdoYXMtd2FybmluZyc6IGZhbHNlLFxuXHRcdFx0J2hhcy1kYW5nZXInOiBmYWxzZSxcdFx0XHRcblx0XHR9LFxuXHRcdGlucHV0OiB7XG5cdFx0XHQnZm9ybS1jb250cm9sLXN1Y2Nlc3MnOiBmYWxzZSxcblx0XHRcdCdmb3JtLWNvbnRyb2wtd2FybmluZyc6IGZhbHNlLFxuXHRcdFx0J2Zvcm0tY29udHJvbC1kYW5nZXInOiBmYWxzZVxuXHRcdH1cblx0fTtcblxuXHRzdGF0ZS5zdHlsZXMgPSB7XG5cdFx0Y29udGFpbmVyOiB7fSxcblx0XHRpbnB1dDoge31cblx0fTtcblxuXHRzdGF0ZS5pbml0VmFsU3RhZ2VzID0gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHN0YXRlLnZhbFN0YWdlcztcblx0fVxuXG5cdHN0YXRlLmluaXRDbGFzc2VzID0gZnVuY3Rpb24oc2VjdGlvbikge1xuXHRcdHJldHVybiBzdGF0ZS5jbGFzc2VzW3NlY3Rpb25dO1xuXHR9XG5cblx0c3RhdGUuaW5pdFN0eWxlcyA9IGZ1bmN0aW9uKHNlY3Rpb24pIHtcblx0XHRyZXR1cm4gc3RhdGUuc3R5bGVzW3NlY3Rpb25dO1xuXHR9XG5cblx0c3RhdGUudXBkYXRlU3RhdGUgPSBmdW5jdGlvbihzZWN0aW9uLCB2YWx1ZSkge1xuXHRcdHZhciByZXR1cm5PYmplY3QgPSBzdGF0ZS5jbGFzc2VzW3NlY3Rpb25dO1xuXG5cdFx0T2JqZWN0LmtleXMocmV0dXJuT2JqZWN0KS5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuXHRcdFx0dmFyIHJlc3VsdEFycmF5ID0ga2V5LnNwbGl0KCctJyk7XG5cblx0XHRcdHJlc3VsdEFycmF5LmZvckVhY2goZnVuY3Rpb24od29yZCkge1xuXHRcdFx0XHRpZih3b3JkID09IHZhbHVlKSByZXR1cm5PYmplY3Rba2V5XSA9IHRydWU7XG5cdFx0XHRcdGVsc2UgcmV0dXJuT2JqZWN0W2tleV0gPSBmYWxzZTtcblx0XHRcdH0pO1xuXG5cdFx0XHQvL2lmKGtleS5jb250YWlucyh2YWx1ZSkpIHJldHVybk9iamVjdFtrZXldID0gdHJ1ZTtcblx0XHRcdC8vZWxzZSByZXR1cm5PYmplY3Rba2V5XSA9IGZhbHNlO1xuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIHJldHVybk9iamVjdDtcblx0fVxuXG59XHQiLCIvKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCd0cnVtcHNOdXRzJylcblx0LmRpcmVjdGl2ZSgnYmlsbGluZ0luZm8nLCBiaWxsaW5nSW5mbyk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gYmlsbGluZ0luZm8oKSB7XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvYmlsbGluZ0luZm8uZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge1xuXHRcdFx0cHJvZHVjdENvc3RzOiAnPScsXG5cdFx0XHRzaGlwcGluZ0Nvc3RzOiAnPScsXG5cdFx0XHRjb250YWN0TmFtZTogJz0nLFxuXHRcdFx0YWRkcmVzczogJz0nLFxuXHRcdFx0cGF5bWVudDogJz0nLFxuXHRcdFx0Y29weVNoaXBwaW5nQWRkcmVzczogJz0nLFxuXHRcdFx0Y29weVNoaXBwaW5nOiAnJidcblx0XHR9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IGJpbGxpbmdJbmZvQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIGJpbGxpbmdJbmZvQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGJpbGxpbmdJbmZvQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0ICAgIC8vdmlldyBtb2RlbCBtZXRob2RzXG5cdCAgICB2bS50b2dnbGVBZGRyZXNzQ29weSA9IGZ1bmN0aW9uKGJ0blN0YXRlKSB7XG5cblx0ICAgIFx0dm0uY29weVNoaXBwaW5nKCkoYnRuU3RhdGUpO1xuXG5cdCAgICB9XG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07IiwiLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgndHJ1bXBzTnV0cycpXG5cdC5kaXJlY3RpdmUoJ2NjQ1NWJywgY2NDU1YpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGNjQ1NWKCkge1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL2NjQ1NWLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHt9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IGNjQ1NWQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIGNjQ1NWQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGNjQ1NWQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTsiLCIvKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCd0cnVtcHNOdXRzJylcblx0LmRpcmVjdGl2ZSgnY2NDYXB0dXJlJywgY2NDYXB0dXJlKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBjY0NhcHR1cmUoKSB7XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvY2NDYXB0dXJlLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHRcdHByb2R1Y3RDb3N0czogJz0nLFxuXHRcdFx0c2hpcHBpbmdDb3N0czogJz0nLFxuXHRcdFx0aXNQcm9jZXNzaW5nOiAnPScsXG5cdFx0XHRjdXN0b21lck5hbWU6ICc9Jyxcblx0XHRcdHppcDogJz0nLFxuXHRcdFx0c3RhdGVJZDogJz0nLFxuXHRcdFx0Y2l0eU5hbWU6ICc9J1xuXHRcdH0sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogY2NDYXB0dXJlQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIGNjQ2FwdHVyZUNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnLCAnJGxvY2F0aW9uJywgJ3NlcnZlciddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGNjQ2FwdHVyZUNvbnRyb2xsZXIoJHNjb3BlLCAkbG9nLCAkbG9jYXRpb24sIHNlcnZlcikge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHQgICAgdm0uZGF0YSA9IHsgY2FyZDp7fSB9O1xuXG5cdCAgICAvL3ZpZXcgbW9kZWwgbWV0aG9kc1xuXHQgICAgdm0uc3VibWl0Rm9ybSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0Ly8kbG9nLmluZm8oJ3N1Ym1pdHRpbmcnLCB2bS5kYXRhKTtcblx0XHRcdHZtLmlzUHJvY2Vzc2luZyA9IHRydWU7XG5cdFx0XHR2bS5wYXltZW50Rm9ybS5yZXF1ZXN0Q2FyZE5vbmNlKCk7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0dm0uY2hhcmdlQ2FyZFdpdGhOb25jZSA9IGZ1bmN0aW9uKG5vbmNlKSB7XG5cdFx0XHRcblx0XHRcdHZhciB1cmwgPSBcIi9jaGFyZ2VzL2NoYXJnZV9jYXJkXCI7XG5cdFx0XHRcblx0XHRcdHZhciBkYXRhID0ge1xuXHRcdFx0XHRub25jZTogbm9uY2UsXG5cdFx0XHRcdHByb2R1Y3RfaWQ6IDExMjMsLy8kc2NvcGUuZGF0YS5wcm9kdWN0X2lkLFxuXHRcdFx0XHRuYW1lOiB2bS5jdXN0b21lck5hbWUsIC8vJ0pvaG4gU21pdGgnLCAvLyRzY29wZS5kYXRhLnVzZXIubmFtZSxcblx0XHRcdFx0Ly9lbWFpbDogJHNjb3BlLmRhdGEudXNlci5lbWFpbCwgICAgICAgICBcblx0XHRcdFx0c3RyZWV0X2FkZHJlc3NfMTogJzEyMzQgTWFpbiBTdHJlZXQnLCAvLyRzY29wZS5kYXRhLnVzZXIuc3RyZWV0X2FkZHJlc3NfMSxcblx0XHRcdFx0c3RyZWV0X2FkZHJlc3NfMjogJycsIC8vJHNjb3BlLmRhdGEudXNlci5zdHJlZXRfYWRkcmVzc18yLFxuXHRcdFx0XHRjaXR5OiB2bS5jaXR5TmFtZSwgLy8kc2NvcGUuZGF0YS51c2VyLmNpdHksXG5cdFx0XHRcdHN0YXRlOiB2bS5zdGF0ZUlkLCAvLyRzY29wZS5kYXRhLnVzZXIuc3RhdGUsXG5cdFx0XHRcdHppcDogdm0uemlwIC8vJHNjb3BlLmRhdGEudXNlci56aXBcblx0XHRcdH07XG5cblx0XHRcdHNlcnZlci5jaGFyZ2VDYXJkKHVybCwgZGF0YSkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuXHRcdFx0XHQkbG9nLmluZm8oJ3Jlc3BvbnNlJywgcmVzcG9uc2UpO1xuXHRcdFx0XHQkbG9jYXRpb24ucGF0aCgnL2NvbmZpcm1hdGlvbicpO1xuXHRcdFx0XHQkc2NvcGUuJGFwcGx5KCk7XG5cdFx0XHR9KS5jYXRjaChmdW5jdGlvbihlcnJvcikge1xuXHRcdFx0XHQkbG9nLmluZm8oJ2Vycm9yJywgZXJyb3IpO1xuXHRcdFx0fSlcblxuXHRcdFx0LyokaHR0cC5wb3N0KHVybCwgZGF0YSkuc3VjY2VzcyhmdW5jdGlvbihkYXRhLCBzdGF0dXMpIHtcblx0XHRcdFx0aWYgKGRhdGEuc3RhdHVzID09IDQwMCl7XG5cdFx0XHRcdCAgLy8gZGlzcGxheSBzZXJ2ZXIgc2lkZSBjYXJkIHByb2Nlc3NpbmcgZXJyb3JzIFxuXHRcdFx0XHQgICRzY29wZS5pc1BheW1lbnRTdWNjZXNzID0gZmFsc2U7XG5cdFx0XHRcdCAgJHNjb3BlLmNhcmRfZXJyb3JzID0gW11cblx0XHRcdFx0ICBmb3IgKHZhciBpID0wOyBpIDwgZGF0YS5lcnJvcnMubGVuZ3RoOyBpKyspe1xuXHRcdFx0XHQgICAgJHNjb3BlLmNhcmRfZXJyb3JzLnB1c2goe21lc3NhZ2U6IGRhdGEuZXJyb3JzW2ldLmRldGFpbH0pXG5cdFx0XHRcdCAgfVxuXHRcdFx0XHR9ZWxzZSBpZiAoZGF0YS5zdGF0dXMgPT0gMjAwKSB7XG5cdFx0XHRcdCAgJHNjb3BlLmlzUGF5bWVudFN1Y2Nlc3MgPSB0cnVlO1xuXHRcdFx0XHR9XG5cdFx0XHRcdCRzY29wZS5pc1Byb2Nlc3NpbmcgPSBmYWxzZTtcblx0XHRcdH0pLmVycm9yKGZ1bmN0aW9uKCl7XG5cdFx0XHRcdCRzY29wZS5pc1BheW1lbnRTdWNjZXNzID0gZmFsc2U7XG5cdFx0XHRcdCRzY29wZS5pc1Byb2Nlc3NpbmcgPSBmYWxzZTtcblx0XHRcdFx0JHNjb3BlLmNhcmRfZXJyb3JzID0gW3ttZXNzYWdlOiBcIlByb2Nlc3NpbmcgZXJyb3IsIHBsZWFzZSB0cnkgYWdhaW4hXCJ9XTtcblx0XHRcdH0pKi9cblx0XHR9XG5cdFx0XG5cdFx0Ly9sb2NhbCBtZXRob2RzXG5cdCAgICB2YXIgaW5pdCA9IGZ1bmN0aW9uKCkge1xuXG5cdCAgICBcdHNlcnZlci5nZXRTcXJBcHBJZCgpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcblx0XHRcdFx0XG5cdFx0XHRcdHZtLnBheW1lbnRGb3JtID0gbmV3IFNxUGF5bWVudEZvcm0oe1xuXHRcdFx0XHQgICAgYXBwbGljYXRpb25JZDogcmVzcG9uc2UuaWQsXG5cdFx0XHRcdCAgICBpbnB1dENsYXNzOiAnc3EtaW5wdXQnLFxuXHRcdFx0XHQgICAgaW5wdXRTdHlsZXM6IFtcblx0XHRcdFx0ICAgICAge1xuXHRcdFx0XHQgICAgICAgIGZvbnRTaXplOiAnMTRweCcsXG5cdFx0ICAgICAgICAgICAgXHRwYWRkaW5nOiAnN3B4IDEycHgnLFxuXHRcdCAgICAgICAgICAgIFx0YmFja2dyb3VuZENvbG9yOiBcInRyYW5zcGFyZW50XCJcblx0XHRcdFx0ICAgICAgfVxuXHRcdFx0XHQgICAgXSxcblx0XHRcdFx0ICAgIGNhcmROdW1iZXI6IHtcblx0XHRcdFx0ICAgICAgZWxlbWVudElkOiAnc3EtY2FyZC1udW1iZXInLFxuXHRcdFx0XHQgICAgICBwbGFjZWhvbGRlcjogJ+KAouKAouKAouKAoiDigKLigKLigKLigKIg4oCi4oCi4oCi4oCiIOKAouKAouKAouKAoidcblx0XHRcdFx0ICAgIH0sXG5cdFx0XHRcdCAgICBjdnY6IHtcblx0XHRcdFx0ICAgICAgZWxlbWVudElkOiAnc3EtY3Z2Jyxcblx0XHRcdFx0ICAgICAgcGxhY2Vob2xkZXI6ICdDVlYnXG5cdFx0XHRcdCAgICB9LFxuXHRcdFx0XHQgICAgZXhwaXJhdGlvbkRhdGU6IHtcblx0XHRcdFx0ICAgICAgZWxlbWVudElkOiAnc3EtZXhwaXJhdGlvbi1kYXRlJyxcblx0XHRcdFx0ICAgICAgcGxhY2Vob2xkZXI6ICdNTS9ZWSdcblx0XHRcdFx0ICAgIH0sXG5cdFx0XHRcdCAgICBwb3N0YWxDb2RlOiB7XG5cdFx0XHRcdCAgICAgIGVsZW1lbnRJZDogJ3NxLXBvc3RhbC1jb2RlJ1xuXHRcdFx0XHQgICAgfSxcblx0XHRcdFx0ICAgIGNhbGxiYWNrczoge1xuXG5cdFx0XHRcdCAgICAgIC8vIENhbGxlZCB3aGVuIHRoZSBTcVBheW1lbnRGb3JtIGNvbXBsZXRlcyBhIHJlcXVlc3QgdG8gZ2VuZXJhdGUgYSBjYXJkXG5cdFx0XHRcdCAgICAgIC8vIG5vbmNlLCBldmVuIGlmIHRoZSByZXF1ZXN0IGZhaWxlZCBiZWNhdXNlIG9mIGFuIGVycm9yLlxuXHRcdFx0XHQgICAgICBjYXJkTm9uY2VSZXNwb25zZVJlY2VpdmVkOiBmdW5jdGlvbihlcnJvcnMsIG5vbmNlLCBjYXJkRGF0YSkge1xuXHRcdFx0XHQgICAgICAgIGlmIChlcnJvcnMpIHtcblx0XHRcdFx0ICAgICAgICAgICRsb2cuaW5mbyhcIkVuY291bnRlcmVkIGVycm9yczpcIiwgZXJyb3JzKTtcblx0XHRcdFx0ICAgICAgICAgIHZtLmNhcmRfZXJyb3JzID0gZXJyb3JzO1xuXHRcdCAgICAgICAgICAgIFx0ICB2bS5pc1Byb2Nlc3NpbmcgPSBmYWxzZTtcblx0XHQgICAgICAgICAgICBcdCAgJHNjb3BlLiRhcHBseSgpOyAvLyByZXF1aXJlZCBzaW5jZSB0aGlzIGlzIG5vdCBhbiBhbmd1bGFyIGZ1bmN0aW9uXG5cblx0XHRcdFx0ICAgICAgICAvLyBObyBlcnJvcnMgb2NjdXJyZWQuIEV4dHJhY3QgdGhlIGNhcmQgbm9uY2UuXG5cdFx0XHRcdCAgICAgICAgfSBlbHNlIHtcblx0XHRcdFx0ICAgICAgICAgIHZtLmNhcmRfZXJyb3JzID0gW107XG5cdFx0XHRcdCAgICAgICAgICAvLyBEZWxldGUgdGhpcyBsaW5lIGFuZCB1bmNvbW1lbnQgdGhlIGxpbmVzIGJlbG93IHdoZW4geW91J3JlIHJlYWR5XG5cdFx0XHRcdCAgICAgICAgICAvLyB0byBzdGFydCBzdWJtaXR0aW5nIG5vbmNlcyB0byB5b3VyIHNlcnZlci5cblx0XHRcdFx0ICAgICAgICAgIC8vYWxlcnQoJ05vbmNlIHJlY2VpdmVkOiAnICsgbm9uY2UpO1xuXG5cdFx0XHRcdCAgICAgICAgICB2bS5jaGFyZ2VDYXJkV2l0aE5vbmNlKG5vbmNlKTtcblxuXHRcdFx0XHQgICAgICAgICAgLypcblx0XHRcdFx0ICAgICAgICAgICAgVGhlc2UgbGluZXMgYXNzaWduIHRoZSBnZW5lcmF0ZWQgY2FyZCBub25jZSB0byBhIGhpZGRlbiBpbnB1dFxuXHRcdFx0XHQgICAgICAgICAgICBmaWVsZCwgdGhlbiBzdWJtaXQgdGhhdCBmaWVsZCB0byB5b3VyIHNlcnZlci5cblx0XHRcdFx0ICAgICAgICAgICAgVW5jb21tZW50IHRoZW0gd2hlbiB5b3UncmUgcmVhZHkgdG8gdGVzdCBvdXQgc3VibWl0dGluZyBub25jZXMuXG5cblx0XHRcdFx0ICAgICAgICAgICAgWW91J2xsIGFsc28gbmVlZCB0byBzZXQgdGhlIGFjdGlvbiBhdHRyaWJ1dGUgb2YgdGhlIGZvcm0gZWxlbWVudFxuXHRcdFx0XHQgICAgICAgICAgICBhdCB0aGUgYm90dG9tIG9mIHRoaXMgc2FtcGxlLCB0byBjb3JyZXNwb25kIHRvIHRoZSBVUkwgeW91IHdhbnQgdG9cblx0XHRcdFx0ICAgICAgICAgICAgc3VibWl0IHRoZSBub25jZSB0by5cblx0XHRcdFx0ICAgICAgICAgICovXG5cdFx0XHRcdCAgICAgICAgICAvLyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FyZC1ub25jZScpLnZhbHVlID0gbm9uY2U7XG5cdFx0XHRcdCAgICAgICAgICAvLyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbm9uY2UtZm9ybScpLnN1Ym1pdCgpO1xuXG5cdFx0XHRcdCAgICAgICAgfVxuXHRcdFx0XHQgICAgICB9LFxuXG5cdFx0XHRcdCAgICAgIHVuc3VwcG9ydGVkQnJvd3NlckRldGVjdGVkOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0ICAgICAgICAvLyBGaWxsIGluIHRoaXMgY2FsbGJhY2sgdG8gYWxlcnQgYnV5ZXJzIHdoZW4gdGhlaXIgYnJvd3NlciBpcyBub3Qgc3VwcG9ydGVkLlxuXHRcdFx0XHQgICAgICB9LFxuXG5cdFx0XHRcdCAgICAgIC8vIEZpbGwgaW4gdGhlc2UgY2FzZXMgdG8gcmVzcG9uZCB0byB2YXJpb3VzIGV2ZW50cyB0aGF0IGNhbiBvY2N1ciB3aGlsZSBhXG5cdFx0XHRcdCAgICAgIC8vIGJ1eWVyIGlzIHVzaW5nIHRoZSBwYXltZW50IGZvcm0uXG5cdFx0XHRcdCAgICAgIGlucHV0RXZlbnRSZWNlaXZlZDogZnVuY3Rpb24oaW5wdXRFdmVudCkge1xuXHRcdFx0XHQgICAgICAgIHN3aXRjaCAoaW5wdXRFdmVudC5ldmVudFR5cGUpIHtcblx0XHRcdFx0ICAgICAgICAgIGNhc2UgJ2ZvY3VzQ2xhc3NBZGRlZCc6XG5cdFx0XHRcdCAgICAgICAgICAgIC8vIEhhbmRsZSBhcyBkZXNpcmVkXG5cdFx0XHRcdCAgICAgICAgICAgIGJyZWFrO1xuXHRcdFx0XHQgICAgICAgICAgY2FzZSAnZm9jdXNDbGFzc1JlbW92ZWQnOlxuXHRcdFx0XHQgICAgICAgICAgICAvLyBIYW5kbGUgYXMgZGVzaXJlZFxuXHRcdFx0XHQgICAgICAgICAgICBicmVhaztcblx0XHRcdFx0ICAgICAgICAgIGNhc2UgJ2Vycm9yQ2xhc3NBZGRlZCc6XG5cdFx0XHRcdCAgICAgICAgICAgIC8vIEhhbmRsZSBhcyBkZXNpcmVkXG5cdFx0XHRcdCAgICAgICAgICAgIGJyZWFrO1xuXHRcdFx0XHQgICAgICAgICAgY2FzZSAnZXJyb3JDbGFzc1JlbW92ZWQnOlxuXHRcdFx0XHQgICAgICAgICAgICAvLyBIYW5kbGUgYXMgZGVzaXJlZFxuXHRcdFx0XHQgICAgICAgICAgICBicmVhaztcblx0XHRcdFx0ICAgICAgICAgIGNhc2UgJ2NhcmRCcmFuZENoYW5nZWQnOlxuXHRcdFx0XHQgICAgICAgICAgICAvLyBIYW5kbGUgYXMgZGVzaXJlZFxuXHRcdFx0XHQgICAgICAgICAgICBicmVhaztcblx0XHRcdFx0ICAgICAgICAgIGNhc2UgJ3Bvc3RhbENvZGVDaGFuZ2VkJzpcblx0XHRcdFx0ICAgICAgICAgICAgLy8gSGFuZGxlIGFzIGRlc2lyZWRcblx0XHRcdFx0ICAgICAgICAgICAgYnJlYWs7XG5cdFx0XHRcdCAgICAgICAgfVxuXHRcdFx0XHQgICAgICB9LFxuXG5cdFx0XHRcdCAgICAgIHBheW1lbnRGb3JtTG9hZGVkOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0ICAgICAgICAvLyBGaWxsIGluIHRoaXMgY2FsbGJhY2sgdG8gcGVyZm9ybSBhY3Rpb25zIGFmdGVyIHRoZSBwYXltZW50IGZvcm0gaXNcblx0XHRcdFx0ICAgICAgICAvLyBkb25lIGxvYWRpbmcgKHN1Y2ggYXMgc2V0dGluZyB0aGUgcG9zdGFsIGNvZGUgZmllbGQgcHJvZ3JhbW1hdGljYWxseSkuXG5cdFx0XHRcdCAgICAgICAgLy8gcGF5bWVudEZvcm0uc2V0UG9zdGFsQ29kZSgnOTQxMDMnKTtcblx0XHRcdFx0ICAgICAgfVxuXHRcdFx0XHQgICAgfVxuXHRcdFx0XHR9KTtcblx0XHQgICAgXHR2bS5wYXltZW50Rm9ybS5idWlsZCgpO1xuXHQgICAgXHR9KS5jYXRjaChmdW5jdGlvbihlcnJvcikge1xuXHQgICAgXHRcdCRsb2cuaW5mbyhlcnJvcik7XG5cdCAgICBcdH0pO1xuXHQgICAgXHRcblx0ICAgIH1cblxuXHQgICAgaW5pdCgpO1xuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59OyIsIi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ3RydW1wc051dHMnKVxuXHQuZGlyZWN0aXZlKCdjY0V4cCcsIGNjRXhwKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBjY0V4cCgpIHtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9jY0V4cC5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBjY0V4cENvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBjY0V4cENvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBjY0V4cENvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07IiwiLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgndHJ1bXBzTnV0cycpXG5cdC5kaXJlY3RpdmUoJ2NjTmFtZScsIGNjTmFtZSk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gY2NOYW1lKCkge1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL2NjTmFtZS5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBjY05hbWVDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgY2NOYW1lQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGNjTmFtZUNvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07IiwiLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgndHJ1bXBzTnV0cycpXG5cdC5kaXJlY3RpdmUoJ2NjTnVtYmVyJywgY2NOdW1iZXIpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGNjTnVtYmVyKCkge1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL2NjTnVtYmVyLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHt9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IGNjTnVtYmVyQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIGNjTnVtYmVyQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGNjTnVtYmVyQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTsiLCIvKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCd0cnVtcHNOdXRzJylcblx0LmRpcmVjdGl2ZSgnY2l0eScsIGNpdHkpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGNpdHkoKSB7XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvY2l0eS5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7XG5cdFx0XHRjaXR5TmFtZTogJz0nXG5cdFx0fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBjaXR5Q29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIGNpdHlDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gY2l0eUNvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07IiwiLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgndHJ1bXBzTnV0cycpXG5cdC5kaXJlY3RpdmUoJ2NvbnRhY3RJbmZvJywgY29udGFjdEluZm8pO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGNvbnRhY3RJbmZvKCkge1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL2NvbnRhY3RJbmZvLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHRcdG5hbWU6ICc9Jyxcblx0XHRcdGVtYWlsOiAnPSdcblx0XHR9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IGNvbnRhY3RJbmZvQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIGNvbnRhY3RJbmZvQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGNvbnRhY3RJbmZvQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTsiLCIvKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCd0cnVtcHNOdXRzJylcblx0LmRpcmVjdGl2ZSgnZW1haWxBZGRyZXNzJywgZW1haWxBZGRyZXNzKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBlbWFpbEFkZHJlc3MoKSB7XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvZW1haWxBZGRyZXNzLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHRcdGVtYWlsOiAnPSdcblx0XHR9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IGVtYWlsQWRkcmVzc0NvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBlbWFpbEFkZHJlc3NDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gZW1haWxBZGRyZXNzQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTsiLCIvKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCd0cnVtcHNOdXRzJylcblx0LmRpcmVjdGl2ZSgnZmlyc3ROYW1lJywgZmlyc3ROYW1lKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBmaXJzdE5hbWUoKSB7XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvZmlyc3ROYW1lLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHRcdGZpcnN0OiAnPSdcblx0XHR9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IGZpcnN0TmFtZUNvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBmaXJzdE5hbWVDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJywgJ3N0YXRlRGF0YSddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGZpcnN0TmFtZUNvbnRyb2xsZXIoJHNjb3BlLCAkbG9nLCBzdGF0ZURhdGEpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0ICAgIC8vJGxvZy5pbmZvKHN0YXRlKTtcblxuXHQgICAgdm0uc3RhdGUgPSB7XG5cdFx0ICAgIGNvbnRhaW5lcjoge1xuXHRcdCAgICBcdGNsYXNzZXM6IHN0YXRlRGF0YS5pbml0Q2xhc3NlcygnY29udGFpbmVyJyksXG5cdFx0ICAgIFx0c3R5bGVzOiBzdGF0ZURhdGEuaW5pdFN0eWxlcygnY29udGFpbmVyJylcdCAgICBcdFx0XG5cdCAgICBcdH0sIFxuXHQgICAgXHRpbnB1dDoge1xuXHRcdCAgICBcdGNsYXNzZXM6IHN0YXRlRGF0YS5pbml0Q2xhc3NlcygnaW5wdXQnKSxcblx0XHQgICAgXHRzdHlsZXM6IHN0YXRlRGF0YS5pbml0U3R5bGVzKCdjb250YWluZXInKVxuXHQgICAgXHR9XG5cdCAgICB9XG5cblx0ICAgIC8vdmlldyBtb2RlbCBtZXRob2RzXG5cdCAgICB2bS52YWxpZGF0ZSA9IGZ1bmN0aW9uKGZpZWxkLCB2YWx1ZSkge1xuXHQgICAgXHRcblx0ICAgIFx0Ly9pZih2YWx1ZS5sZW5ndGggPiAxKSBzdGF0ZS5jaGFuZ2VTdGF0ZS5pbnB1dFN1Y2Nlc3MoKVxuXG5cdCAgICB9XG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07IiwiLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgndHJ1bXBzTnV0cycpXG5cdC5kaXJlY3RpdmUoJ2xhc3ROYW1lJywgbGFzdE5hbWUpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGxhc3ROYW1lKCkge1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL2xhc3ROYW1lLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHRcdGxhc3Q6ICc9J1xuXHRcdH0sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogbGFzdE5hbWVDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgbGFzdE5hbWVDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gbGFzdE5hbWVDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59OyIsIi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ3RydW1wc051dHMnKVxuXHQuZGlyZWN0aXZlKCdwcm9kdWN0U2VsZWN0aW9uJywgcHJvZHVjdFNlbGVjdGlvbik7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gcHJvZHVjdFNlbGVjdGlvbigpIHtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9wcm9kdWN0U2VsZWN0aW9uLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHRcdHF0eTogJz0nLFxuXHRcdFx0cHJpY2U6ICc9Jyxcblx0XHRcdHN1YnRvdGFsOiAnPSdcblx0XHR9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IHByb2R1Y3RTZWxlY3Rpb25Db250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgcHJvZHVjdFNlbGVjdGlvbkNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBwcm9kdWN0U2VsZWN0aW9uQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0ICAgIC8vcHJpdmF0ZSBtZXRob2RzXG5cblxuXHQgICAgLy92aWV3IG1vZGVsIG1ldGhvZHNcblx0ICAgIHZtLmNhbGN1bGF0ZVN1YnRvdGFsID0gZnVuY3Rpb24oKSB7XG5cdCAgICBcdHZtLnN1YnRvdGFsID0gdm0ucXR5ICogdm0ucHJpY2U7XG5cdCAgICB9XG5cblx0ICAgXHR2bS5kZWNyZW1lbnQgPSBmdW5jdGlvbigpIHtcblx0ICAgIFx0aWYodm0ucXR5ID4gMSkgdm0ucXR5ID0gdm0ucXR5IC0gMTtcblxuXHQgICAgXHR2bS5jYWxjdWxhdGVTdWJ0b3RhbCgpO1xuXHQgICAgfVxuXG5cdCAgICB2bS5pbmNyZW1lbnQgPSBmdW5jdGlvbigpIHtcblx0ICAgIFx0dm0ucXR5ID0gdm0ucXR5ICsgMTtcblxuXHQgICAgXHR2bS5jYWxjdWxhdGVTdWJ0b3RhbCgpO1xuXHQgICAgfVxuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07IiwiLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgndHJ1bXBzTnV0cycpXG5cdC5kaXJlY3RpdmUoJ3Byb2dyZXNzQmFyJywgcHJvZ3Jlc3NCYXIpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHByb2dyZXNzQmFyKCkge1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL3Byb2dyZXNzQmFyLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHt9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IHByb2dyZXNzQmFyQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIHByb2dyZXNzQmFyQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIHByb2dyZXNzQmFyQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTsiLCIvKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCd0cnVtcHNOdXRzJylcblx0LmRpcmVjdGl2ZSgncHVyY2hhc2VCdG4nLCBwdXJjaGFzZUJ0bik7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gcHVyY2hhc2VCdG4oKSB7XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvcHVyY2hhc2VCdG4uZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge1xuXHRcdFx0c3VibWl0Rm9ybTogJyYnXG5cdFx0fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBwdXJjaGFzZUJ0bkNvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBwdXJjaGFzZUJ0bkNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBwdXJjaGFzZUJ0bkNvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07IiwiLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgndHJ1bXBzTnV0cycpXG5cdC5kaXJlY3RpdmUoJ3NoaXBwaW5nQ2FsY3VsYXRvcicsIHNoaXBwaW5nQ2FsY3VsYXRvcik7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gc2hpcHBpbmdDYWxjdWxhdG9yKCkge1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL3NoaXBwaW5nQ2FsY3VsYXRvci5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7XG5cdFx0XHRzZXJ2aWNlQ2xhc3M6ICc9Jyxcblx0XHRcdGNvc3Q6ICc9J1xuXHRcdH0sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogc2hpcHBpbmdDYWxjdWxhdG9yQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuXHRcbiAgICB9XG5cbiAgICBzaGlwcGluZ0NhbGN1bGF0b3JDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJywgJ3NlcnZlciddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIHNoaXBwaW5nQ2FsY3VsYXRvckNvbnRyb2xsZXIoJHNjb3BlLCAkbG9nLCBzZXJ2ZXIpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0ICAgICRzY29wZS4kd2F0Y2goJ3ZtLnNlcnZpY2VDbGFzcy5pc1ByaW9yaXR5JywgZnVuY3Rpb24oY3VycmVudCwgb3JpZ2luYWwpIHtcblx0ICAgIFx0Ly8kbG9nLmluZm8oJ3ZtLnNlcnZpY2VDbGFzcy5pc1ByaW9yaXR5Jywgdm0uc2VydmljZUNsYXNzLmlzUHJpb3JpdHksIHZtLnNlcnZpY2VDbGFzcy5leHByZXNzLmNvc3QuYW1vdW50LCB2bS5jb3N0KTtcblxuXHQgICAgXHRpZih2bS5zZXJ2aWNlQ2xhc3MuaXNQcmlvcml0eSA9PSAndHJ1ZScpIHtcblx0ICAgIFx0XHQvLyRsb2cuaW5mbygnaXMgcHJpb3JpdHknKTtcblx0ICAgIFx0XHR2bS5jb3N0LmFtb3VudCA9ICh2bS5zZXJ2aWNlQ2xhc3MucHJpb3JpdHkuY29zdC5hbW91bnQgKiAxMDApO1xuXHQgICAgXHRcdFxuXHQgICAgXHR9IGVsc2Uge1xuXHQgICAgXHRcdC8vJGxvZy5pbmZvKCdpcyBleHByZXNzJyk7XG5cdCAgICBcdFx0dm0uY29zdC5hbW91bnQgPSAodm0uc2VydmljZUNsYXNzLmV4cHJlc3MuY29zdC5hbW91bnQgKiAxMDApO1xuXG5cdCAgICBcdH1cblxuXHQgICAgfSk7XG5cblx0ICAgICRzY29wZS4kd2F0Y2goJ3ZtLnNlcnZpY2VDbGFzcy5wcmlvcml0eS5jb3N0LmFtb3VudCcsIGZ1bmN0aW9uKGN1cnJlbnQsIG9yaWdpbmFsKSB7XG5cdCAgICBcdCRsb2cuaW5mbygndm0uc2VydmljZUNsYXNzLmlzUHJpb3JpdHknLCB2bS5zZXJ2aWNlQ2xhc3MuaXNQcmlvcml0eSwgdm0uc2VydmljZUNsYXNzLmV4cHJlc3MuY29zdC5hbW91bnQsIHZtLmNvc3QpO1xuXG5cdCAgICBcdGlmKHZtLnNlcnZpY2VDbGFzcy5pc1ByaW9yaXR5ID09ICd0cnVlJykge1xuXHQgICAgXHRcdC8vJGxvZy5pbmZvKCdpcyBwcmlvcml0eScpO1xuXHQgICAgXHRcdHZtLmNvc3QuYW1vdW50ID0gKHZtLnNlcnZpY2VDbGFzcy5wcmlvcml0eS5jb3N0LmFtb3VudCAqIDEwMCk7XG5cdCAgICBcdH0gZWxzZSB7XG5cdCAgICBcdFx0Ly8kbG9nLmluZm8oJ2lzIGV4cHJlc3MnKTtcblx0ICAgIFx0XHR2bS5jb3N0LmFtb3VudCA9ICh2bS5zZXJ2aWNlQ2xhc3MuZXhwcmVzcy5jb3N0LmFtb3VudCAqIDEwMCk7XG5cdCAgICBcdH1cblxuXHQgICAgfSk7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTsiLCIvKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCd0cnVtcHNOdXRzJylcblx0LmRpcmVjdGl2ZSgnc2hpcHBpbmdJbmZvJywgc2hpcHBpbmdJbmZvKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBzaGlwcGluZ0luZm8oKSB7XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvc2hpcHBpbmdJbmZvLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHRcdGFkZHJlc3M6ICc9Jyxcblx0XHRcdHJlcXVpcm5tZW50czogJz0nLFxuXHRcdFx0Y29zdDogJz0nLFxuXHRcdFx0cXR5OiAnPSdcblx0XHR9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IHNoaXBwaW5nSW5mb0NvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBzaGlwcGluZ0luZm9Db250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJywgJ3NlcnZlciddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIHNoaXBwaW5nSW5mb0NvbnRyb2xsZXIoJHNjb3BlLCAkbG9nLCBzZXJ2ZXIpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0ICAgIC8vJGxvZy5pbmZvKCd2bS5yZXF1aXJubWVudHMnLCB2bS5yZXF1aXJubWVudHMsICd2bS5jb3N0Jywgdm0uY29zdCk7XG5cdCAgICAvL3ZpZXcgbW9kZWwgbWV0aG9kc1xuXHQgICAgdm0uY2FsY3VsYXRlU2hpcHBpbmcgPSBmdW5jdGlvbih6aXBQb2ludHMpIHtcblx0ICAgIFx0Ly8kbG9nLmluZm8oJ2NhbGN1bGF0aW5nIHRoZSBpbmZvIG5vdycsIHppcFBvaW50cyk7XG5cblx0ICAgIFx0Ly9nZXQgdGhlIHNoaXBwaW5nIGluZm8gZnJvbSBVU1BTIEFQSVxuXHQgICAgXHRzZXJ2ZXIucG9zdGFnZUNhbGN1bGF0b3IoemlwUG9pbnRzLCB2bS5xdHkpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcblx0ICAgIFx0XHRcblx0ICAgIFx0XHR2bS5yZXF1aXJubWVudHMuZGF0YUFxdWlyZWQgPSB0cnVlO1xuXHQgICAgXHRcdHZtLnJlcXVpcm5tZW50cy5wcmlvcml0eS5jb3N0LmFtb3VudCA9IHBhcnNlRmxvYXQocmVzcG9uc2UucHJpb3JpdHkucmF0ZSk7XG5cdCAgICBcdFx0dm0ucmVxdWlybm1lbnRzLnByaW9yaXR5LnRyYW5zaXREYXlzID0gcmVzcG9uc2UucHJpb3JpdHkubWFpbFNlcnZpY2U7XG5cdCAgICBcdFx0dm0ucmVxdWlybm1lbnRzLmV4cHJlc3MuY29zdC5hbW91bnQgPSBwYXJzZUZsb2F0KHJlc3BvbnNlLmV4cHJlc3MucmF0ZSk7XG5cdCAgICBcdFx0dm0ucmVxdWlybm1lbnRzLmV4cHJlc3MudHJhbnNpdERheXMgPSByZXNwb25zZS5leHByZXNzLm1haWxTZXJ2aWNlO1xuXHQgICAgXHRcdCRzY29wZS4kYXBwbHkoKTtcblx0ICAgIFx0XHRcblx0ICAgIFx0XHQkbG9nLmluZm8oJ2dvdCB0aGlzIGJhY2sgZnJvbSBwb3N0YWdlQ2FsY3VsYXRvcicsIHJlc3BvbnNlLCB2bS5yZXF1aXJubWVudHMpO1xuXG5cdCAgICBcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7XG5cdCAgICBcdFx0JGxvZy5pbmZvKCdnb3QgdGhpcyBlcnJvciBmcm9tIHRoZSBwb3N0YWdlQ2FsY3VsYXRvcicsIGVycm9yKTtcblx0ICAgIFx0fSlcblx0ICAgIH1cblxuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07IiwiLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgndHJ1bXBzTnV0cycpXG5cdC5kaXJlY3RpdmUoJ3N0YXRlJywgc3RhdGUpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHN0YXRlKCkge1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL3N0YXRlLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHRcdHN0YXRlSWQ6ICc9J1xuXHRcdH0sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogc3RhdGVDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgc3RhdGVDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gc3RhdGVDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59OyIsIi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ3RydW1wc051dHMnKVxuXHQuZGlyZWN0aXZlKCdzdHJlZXQnLCBzdHJlZXQpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHN0cmVldCgpIHtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9zdHJlZXQuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge1xuXHRcdFx0c3RyZWV0QWRkcmVzczogJz0nXG5cdFx0fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBzdHJlZXRDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgc3RyZWV0Q29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIHN0cmVldENvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07IiwiLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgndHJ1bXBzTnV0cycpXG5cdC5kaXJlY3RpdmUoJ3Rvb2xCYXInLCB0b29sQmFyKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiB0b29sQmFyKCkge1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL3Rvb2xCYXIuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge30sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogVG9vbEJhckNvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBUb29sQmFyQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIFRvb2xCYXJDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59OyIsIi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ3RydW1wc051dHMnKVxuXHQuZGlyZWN0aXZlKCd5b3VyTmFtZScsIHlvdXJOYW1lKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiB5b3VyTmFtZSgpIHtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy95b3VyTmFtZS5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7XG5cdFx0XHRuYW1lOiAnPSdcblx0XHR9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IHlvdXJOYW1lQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIHlvdXJOYW1lQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIHlvdXJOYW1lQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTsiLCIvKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCd0cnVtcHNOdXRzJylcblx0LmRpcmVjdGl2ZSgnemlwQ29kZScsIHppcENvZGUpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHppcENvZGUoKSB7XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvemlwQ29kZS5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7XG5cdFx0XHR1bmlxdWVJZDogJz0nLFxuXHRcdFx0emlwOiAnPScsXG5cdFx0XHRjaXR5TmFtZTogJz0nLFxuXHRcdFx0c3RhdGVJZDogJz0nLFxuXHRcdFx0Y2FsY3VsYXRlU2hpcHBpbmc6ICcmJ1xuXHRcdH0sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogemlwQ29kZUNvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICB6aXBDb2RlQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZycsICckcm9vdFNjb3BlJywgJ3NlcnZlcicsICdzdGF0ZURhdGEnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiB6aXBDb2RlQ29udHJvbGxlcigkc2NvcGUsICRsb2csICRyb290U2NvcGUsIHNlcnZlciwgc3RhdGVEYXRhKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdCAgICAvL2RlZmluZSB2aWV3bW9kZWwgdmFyaWFibGVzXG5cdCAgICB2bS52YWxTdGFnZXMgPSBzdGF0ZURhdGEuaW5pdFZhbFN0YWdlcygpO1xuXG5cdCAgICB2bS5zdGF0ZSA9IHtcblx0XHQgICAgY29udGFpbmVyOiB7XG5cdFx0ICAgIFx0Y2xhc3Nlczogc3RhdGVEYXRhLmluaXRDbGFzc2VzKCdjb250YWluZXInKSxcblx0XHQgICAgXHRzdHlsZXM6IHN0YXRlRGF0YS5pbml0U3R5bGVzKCdjb250YWluZXInKVx0ICAgIFx0XHRcblx0ICAgIFx0fSwgXG5cdCAgICBcdGlucHV0OiB7XG5cdFx0ICAgIFx0Y2xhc3Nlczogc3RhdGVEYXRhLmluaXRDbGFzc2VzKCdpbnB1dCcpLFxuXHRcdCAgICBcdHN0eWxlczogc3RhdGVEYXRhLmluaXRTdHlsZXMoJ2NvbnRhaW5lcicpXG5cdCAgICBcdH1cblx0ICAgIH1cblxuXHQgICAgZnVuY3Rpb24gbG9uZ0Vub3VnaCh6aXBjb2RlKSB7XG5cdCAgICBcdHZhciBmbGFnID0gZmFsc2U7XG5cblx0ICAgIFx0Ly8kbG9nLmluZm8oJ2NoZWNpbmcgbGVuZ3RoJywgemlwY29kZSwgemlwY29kZS5sZW5ndGgpO1xuXG5cdCAgICBcdGlmKHR5cGVvZiB6aXBjb2RlICE9ICd1bmRlZmluZWQnKVxuXHQgICAgXHRcdGlmKHppcGNvZGUubGVuZ3RoID49IDUpIGZsYWcgPSB0cnVlO1xuXG5cdCAgICBcdHJldHVybiBmbGFnO1xuXHQgICAgfVxuXG5cdCAgICBmdW5jdGlvbiBzdWNjZXNzaWZ5SW5wdXQoKSB7IFxuXHQgICAgXHQvLyRsb2cuaW5mbygnc3VjY2VzcycsIHZtLnN0YXRlLmNvbnRhaW5lcik7XG5cdCAgICBcdHZtLnN0YXRlLmNvbnRhaW5lci5jbGFzc2VzID0gc3RhdGVEYXRhLnVwZGF0ZVN0YXRlKCdjb250YWluZXInLCAnc3VjY2VzcycpO1xuXHQgICAgXHQvL3ZtLnN0YXRlLmNvbnRhaW5lci5jbGFzc2VzWydoYXMtc3VjY2VzcyddID0gdHJ1ZTtcblx0ICAgIFx0Ly92bS5zdGF0ZS5jb250YWluZXIuY2xhc3Nlc1snaGFzLXdhcm5pbmcnXSA9IGZhbHNlO1xuXHQgICAgXHQvL3ZtLnN0YXRlLmNvbnRhaW5lci5jbGFzc2VzWydoYXMtZGFuZ2VyJ10gPSBmYWxzZTtcblx0ICAgIFx0dm0uc3RhdGUuaW5wdXQuY2xhc3NlcyA9IHN0YXRlRGF0YS51cGRhdGVTdGF0ZSgnaW5wdXQnLCAnc3VjY2VzcycpO1xuXHQgICAgXHQvL3ZtLnN0YXRlLmlucHV0LmNsYXNzZXNbJ2Zvcm0tY29udHJvbC1zdWNjZXNzJ10gPSB0cnVlO1xuXHQgICAgXHQvL3ZtLnN0YXRlLmlucHV0LmNsYXNzZXNbJ2Zvcm0tY29udHJvbC13YXJuaW5nJ10gPSBmYWxzZTtcblx0ICAgIFx0Ly92bS5zdGF0ZS5pbnB1dC5jbGFzc2VzWydmb3JtLWNvbnRyb2wtZGFuZ2VyJ10gPSBmYWxzZTtcblx0ICAgIH1cblxuXHQgICAgZnVuY3Rpb24gZmFpbGlmeUlucHV0KCkgeyBcblx0ICAgIFx0Ly8kbG9nLmluZm8oJ2ZhaWxlZCcpO1xuXHQgICAgXHR2bS5zdGF0ZS5jb250YWluZXIuY2xhc3Nlc1snaGFzLXN1Y2Nlc3MnXSA9IGZhbHNlO1xuXHQgICAgXHR2bS5zdGF0ZS5jb250YWluZXIuY2xhc3Nlc1snaGFzLXdhcm5pbmcnXSA9IHRydWU7XG5cdCAgICBcdHZtLnN0YXRlLmNvbnRhaW5lci5jbGFzc2VzWydoYXMtZGFuZ2VyJ10gPSBmYWxzZTtcblxuXHQgICAgXHR2bS5zdGF0ZS5pbnB1dC5jbGFzc2VzWydmb3JtLWNvbnRyb2wtc3VjY2VzcyddID0gZmFsc2U7XG5cdCAgICBcdHZtLnN0YXRlLmlucHV0LmNsYXNzZXNbJ2Zvcm0tY29udHJvbC13YXJuaW5nJ10gPSB0cnVlO1xuXHQgICAgXHR2bS5zdGF0ZS5pbnB1dC5jbGFzc2VzWydmb3JtLWNvbnRyb2wtZGFuZ2VyJ10gPSBmYWxzZTtcblx0ICAgIH1cblxuXHQgICAgZnVuY3Rpb24gY2l0eVN0YXRlTG9va3VwKHppcGNvZGUpIHtcblx0XHQgICAgXG5cdFx0ICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcblxuXHRcdFx0ICAgIHNlcnZlci5jaXR5U3RhdGVMb29rdXAoemlwY29kZSkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuXHRcdFx0ICAgIFx0JGxvZy5pbmZvKCdnb3QgdGhpcyByZXNwb25zZScsIHJlc3BvbnNlKTtcblx0XHRcdCAgICBcdHJlc29sdmUocmVzcG9uc2UpO1xuXHRcdFx0ICAgIH0pLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7XG5cdFx0XHQgICAgXHQkbG9nLmluZm8oJ2dvdCB0aGlzIGVycm9yJywgZXJyb3IpO1xuXHRcdFx0ICAgIFx0cmVqZWN0KGVycm9yKTtcblx0XHRcdCAgICB9KTtcblxuXHRcdCAgICB9KTtcblx0ICAgIFx0XG5cdCAgICB9XG5cblx0ICAgIHZtLnZhbGlkYXRlID0gZnVuY3Rpb24oemlwY29kZSkge1xuXG5cdCAgICBcdC8vJGxvZy5pbmZvKCd2YWxpZGF0aW5nIHppcCcpO1xuXG5cdCAgICBcdC8vb25seSB2YWxpZGF0ZSBpZiB0aGV5J3ZlIHRyaWVkIGF0IGxlYXN0IG9uY2Vcblx0ICAgIFx0aWYodm0udmFsU3RhZ2VzLmF0dGVtcHRlZCkge1xuXG5cdCAgICBcdFx0Ly8kbG9nLmluZm8oJ2NlaGNraW5nIGxlbmd0aCcsIGxvbmdFbm91Z2goemlwY29kZSkpO1xuXG5cdCAgICBcdFx0Ly9jaGVjayBpZiBpdCdzIGxvbmcgZW5vdWdoXG5cdCAgICBcdFx0aWYobG9uZ0Vub3VnaCh6aXBjb2RlKSkge1xuXG5cdCAgICBcdFx0XHQvLyRsb2cuaW5mbygnZ29vZCBsZW5ndGgsIGFjdGluZyBhY29yZGluZ2x5Jyk7XG5cdCAgICBcdFx0XHQvL2NoYW5nZSB0aGUgY2xhc3Nlc1xuXHQgICAgXHRcdFx0c3VjY2Vzc2lmeUlucHV0KCk7XG5cdCAgICBcdFx0XHRcblx0ICAgIFx0XHRcdC8vZ2V0IHRoZSBjaXR5IGFuZCBzdGF0ZVxuXHQgICAgXHRcdFx0Y2l0eVN0YXRlTG9va3VwKHppcGNvZGUpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcblx0ICAgIFx0XHRcdFx0Ly93aGVuIHN1Y2Nlc3NmdWxseSBhcXVpcmVkLCB1cGRhdGUgdGhlIG1vZGVsXG5cdCAgICBcdFx0XHRcdC8vJGxvZy5pbmZvKHJlc3BvbnNlKTtcblx0ICAgIFx0XHRcdFx0dm0uY2l0eU5hbWUgPSByZXNwb25zZS56aXBDb2RlLmNpdHk7XG5cdCAgICBcdFx0XHRcdHZtLnN0YXRlSWQgPSByZXNwb25zZS56aXBDb2RlLnN0YXRlO1xuXG5cdCAgICBcdFx0XHRcdC8vYWZ0ZXIgdGhlIHZhbHVlcyBoYXZlIGJlZW4gdXBkYXRlZCwgYXBwbHkgdGhlIHVwZGF0ZXNcblx0ICAgIFx0XHRcdFx0JHJvb3RTY29wZS4kYXBwbHkoKTtcblxuXHQgICAgXHRcdFx0fSkuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHtcblx0ICAgIFx0XHRcdFx0JGxvZy5pbmZvKCd0aGVyZSB3YXMgYW4gZXJyb3InKTtcblx0ICAgIFx0XHRcdH0pO1xuXG5cdCAgICBcdFx0XHQvL2NhbGN1bGF0ZSBzaGlwcGluZ1xuXHQgICAgXHRcdFx0dm0uY2FsY3VsYXRlU2hpcHBpbmcoKSh7c3RhcnQ6ICc5NzAwNScsIGVuZDogdm0uemlwfSk7XG5cblx0ICAgIFx0XHR9IGVsc2Uge1xuXHQgICAgXHRcdFx0ZmFpbGlmeUlucHV0KCk7XG5cdCAgICBcdFx0fVxuXG5cdCAgICBcdH1cblxuXHQgICAgfVxuXG5cdCAgICB2bS5zdWJtaXQgPSBmdW5jdGlvbih6aXBjb2RlKSB7XG5cblx0ICAgIFx0dm0udmFsU3RhZ2VzLmF0dGVtcHRlZCA9IHRydWU7XG5cblx0ICAgIFx0dm0udmFsaWRhdGUoemlwY29kZSk7XG5cdCAgICB9XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTsiLCJhbmd1bGFyXG4gICAgLm1vZHVsZSgndHJ1bXBzTnV0cycpXG4gICAgLmZhY3RvcnkoJ2RhdGFNb2RlbCcsIGRhdGFNb2RlbCk7XG5cbmRhdGFNb2RlbC4kaW5qZWN0ID0gWyckbG9nJ107XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gZGF0YU1vZGVsKCRsb2cpIHtcblxuXHR2YXIgZGF0YU1vZGVsT2JqZWN0ID0ge1xuXHRcdG5hbWU6IHtcblx0XHRcdGZpcnN0OiAnJyxcblx0XHRcdGxhc3Q6ICcnXG5cdFx0fSxcblx0XHRlbWFpbDogJycsXG5cdFx0Y29weVNoaXBwaW5nQWRkcmVzczogdHJ1ZSxcblx0XHRwcm9kdWN0OiB7XG5cdFx0XHRwcmljZTogMjAwMFxuXHRcdH0sXG5cdFx0b3JkZXI6IHtcblx0XHRcdHF0eTogMSxcblx0XHRcdGNvc3Q6IHtcblx0XHRcdFx0c3VidG90YWw6IDIwMDAsXG5cdFx0XHRcdHRheDogMCxcblx0XHRcdFx0ZGlzY291bnRzOiB7XG5cdFx0XHRcdFx0cHJvbW90aW9uczogW10sXG5cdFx0XHRcdFx0dG90YWxWYWx1ZTogMFxuXHRcdFx0XHR9LFxuXHRcdFx0XHR0b3RhbDogMFxuXHRcdFx0fVxuXHRcdH0sXG5cdFx0c2hpcHBpbmc6IHtcblx0XHRcdGFkZHJlc3M6IHtcblx0XHRcdFx0c3RyZWV0MTogJycsXG5cdFx0XHRcdHN0cmVldDI6ICcnLFxuXHRcdFx0XHRzdHJlZXQzOiAnJyxcblx0XHRcdFx0Y2l0eTogJycsXG5cdFx0XHRcdHN0YXRlOiAnJyxcblx0XHRcdFx0emlwOiAnJ1xuXHRcdFx0fSwgXG5cdFx0XHRyZXF1aXJubWVudHM6IHtcblx0XHRcdFx0aXNQcmlvcml0eTogJ3RydWUnLFxuXHRcdFx0XHRkYXRhQXF1aXJlZDogZmFsc2UsXG5cdFx0XHRcdHByaW9yaXR5OiB7XG5cdFx0XHRcdFx0dHJhbnNpdERheXM6IDAsXG5cdFx0XHRcdFx0Y29zdDoge1xuXHRcdFx0XHRcdFx0YW1vdW50OiAwLFxuXHRcdFx0XHRcdFx0Y3VycmVuY3k6ICdVU0QnXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRleHByZXNzOiB7XG5cdFx0XHRcdFx0dHJhbnNpdERheXM6IDAsXG5cdFx0XHRcdFx0Y29zdDoge1xuXHRcdFx0XHRcdFx0YW1vdW50OiAwLFxuXHRcdFx0XHRcdFx0Y3VycmVuY3k6ICdVU0QnXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdFx0Y29zdDoge1xuXHRcdFx0XHRhbW91bnQ6IDY0NSxcblx0XHRcdFx0Y3VycmVuY3k6ICdVU0QnXG5cdFx0XHR9XG5cdFx0fSxcblx0XHRiaWxsaW5nOiB7XG5cdFx0XHRhZGRyZXNzOiB7XG5cdFx0XHRcdHN0cmVldDE6ICcnLFxuXHRcdFx0XHRzdHJlZXQyOiAnJyxcblx0XHRcdFx0c3RyZWV0MzogJycsXG5cdFx0XHRcdGNpdHk6ICcnLFxuXHRcdFx0XHRzdGF0ZTogJycsXG5cdFx0XHRcdHppcDogJydcblx0XHRcdH0sXG5cdFx0XHRwYXltZW50OiB7XG5cdFx0XHRcdG51bWJlcjogWycnLCAnJywgJycsICcnXSxcblx0XHRcdFx0ZXhwOiBbJycsICcnXSxcblx0XHRcdFx0Y3N2OiAnJ1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0YXBpczoge1xuXHRcdFx0c3F1YXJlSWQ6ICcnXG5cdFx0fSxcblx0XHRfcmVhZDpfcmVhZCxcblx0XHRfdXBkYXRlOl91cGRhdGUsXG5cdFx0cmVhZFByb3A6cmVhZFByb3AsXG5cdFx0dXBkYXRlUHJvcDp1cGRhdGVQcm9wXG5cdH07XG5cblx0ZnVuY3Rpb24gX3JlYWQocHJvcCkge31cblx0ZnVuY3Rpb24gX3VwZGF0ZShwcm9wLCB2YWx1ZSkge31cblx0ZnVuY3Rpb24gcmVhZFByb3AocHJvcCkge31cblx0ZnVuY3Rpb24gdXBkYXRlUHJvcChwcm9wLCB2YWx1ZSkge31cblxuXHRyZXR1cm4gZGF0YU1vZGVsT2JqZWN0O1xufSIsImFuZ3VsYXJcbiAgICAubW9kdWxlKCd0cnVtcHNOdXRzJylcbiAgICAuZmFjdG9yeSgnc3RhdGVGYWN0b3J5Jywgc3RhdGVGYWN0b3J5KTtcblxuc3RhdGVGYWN0b3J5LiRpbmplY3QgPSBbJyRsb2cnXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBzdGF0ZUZhY3RvcnkoJGxvZykge1xuXG5cdHZhciBzdGF0ZU9iamVjdCA9IHtcblx0XHRtb2RlbDoge1xuXHRcdFx0YWxsRWxlbWVudHNDb21wbGV0ZWQ6IGZhbHNlLFxuXHRcdFx0ZmllbGRzOiBbXSxcblx0XHRcdGlucHV0OiB7XG5cdFx0XHRcdHByb3A6IHtcblx0XHRcdFx0XHRuYW1lOiAnJyxcblx0XHRcdFx0XHRyZXF1aXJubWVudHM6IFtdXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHN0YXRlOiB7XG5cdFx0XHRcdFx0YWRkcmVzc2VkOiBmYWxzZSxcblx0XHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0XHRmYWlsdXJlOiBmYWxzZVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRjbGFzc2VzOiB7XG5cdFx0XHQnZm9ybS1ncm91cCc6IGZhbHNlLFxuXHRcdFx0J2hhcy1zdWNjZXNzJzogZmFsc2UsXG5cdFx0XHQnaGFzLXdhcm5pbmcnOiBmYWxzZSxcblx0XHRcdCdoYXMtZGFuZ2VyJzogZmFsc2UsXG5cdFx0XHQnZm9ybS1jb250cm9sLWxhYmVsJzogZmFsc2UsXG5cdFx0XHQnZm9ybS1jb250cm9sJzogZmFsc2UsXG5cdFx0XHQnZm9ybS1jb250cm9sLXN1Y2Nlc3MnOiBmYWxzZSxcblx0XHRcdCdmb3JtLWNvbnRyb2wtd2FybmluZyc6IGZhbHNlLFxuXHRcdFx0J2Zvcm0tY29udHJvbC1kYW5nZXInOiBmYWxzZSxcblx0XHRcdCdmb3JtLWNvbnRyb2wtZmVlZGJhY2snOiBmYWxzZSxcblx0XHRcdCdmb3JtLXRleHQnOiBmYWxzZSxcblx0XHRcdCd0ZXh0LW11dGVkJzogZmFsc2Vcblx0XHR9LFxuXHRcdHN0eWxlczoge1xuXG5cdFx0fSxcblx0XHRjaGFuZ2VTdGF0ZToge1xuXHRcdFx0aW5wdXRTdWNjZXNzOiAnJyxcblx0XHRcdGlucHV0RmFpbGVkOiAnJ1xuXHRcdH1cblx0fVxuXG5cdGZ1bmN0aW9uIGlucHV0U3VjY2VzcygpIHt9XG5cdGZ1bmN0aW9uIGlucHV0RmFpbGVkKCkge31cblxuXHRyZXR1cm4gc3RhdGVPYmplY3Q7XG59IiwiYW5ndWxhclxuICAgIC5tb2R1bGUoJ3RydW1wc051dHMnKVxuICAgIC5jb25maWcoY29uZmlnKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBjb25maWcoJHJvdXRlUHJvdmlkZXIpIHsgICBcbiAgICAkcm91dGVQcm92aWRlclxuICAgIC8vZGVmaW5lIHRoZSBsYW5kaW5nIHBhZ2VcbiAgICAud2hlbignLycsIHtcbiAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9sYW5kaW5nUGFnZS5odG0nLFxuICAgICAgICBjb250cm9sbGVyOiAnbGFuZGluZ0NvbnRyb2xsZXInLFxuICAgICAgICBjb250cm9sbGVyQXM6ICd2bSdcbiAgICB9KVxuICAgIC53aGVuKCcvY29uZmlybWF0aW9uJywge1xuICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL2NvbmZpcm1hdGlvbi5odG0nLFxuICAgICAgICBjb250cm9sbGVyOiAnY29uZmlybWF0aW9uQ29udHJvbGxlcicsXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJ1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBnZXRBdXRoSWQoc2VydmVyKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBzZXJ2ZXIuZ2V0U3FyQXBwSWQoKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICByZXNvbHZlKHJlc3BvbnNlLmlkKTtcbiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgIH0pO1xuICAgIH0pXG59XG4iLCJhbmd1bGFyXG4gICAgLm1vZHVsZSgndHJ1bXBzTnV0cycpXG4gICAgLnNlcnZpY2UoJ3NlcnZlcicsIHNlcnZlcik7XG5cbnNlcnZlci4kaW5qZWN0ID0gWyckbG9nJywgJyRodHRwJ107XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gc2VydmVyKCRsb2csICRodHRwKSB7XG5cdHZhciBiYWNrZW5kID0gdGhpcztcblxuXHQvL2dldHMgZnJvbSB0aGUgc2VydmVyXG5cdGJhY2tlbmQuX2dldCA9IGZ1bmN0aW9uKHVybCkge1xuXHRcdC8vJGxvZy5pbmZvKCdnZXR0aW5nIEJhY2tlbmQnKTtcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG5cblx0XHRcdCRodHRwLmdldCh1cmwpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcblxuXHRcdFx0XHQvLyRsb2cuaW5mbyhyZXNwb25zZSk7XG5cblx0XHRcdFx0cmVzb2x2ZShyZXNwb25zZS5kYXRhKTtcblxuXHRcdFx0fSwgZnVuY3Rpb24gdGhlRXJyb3JzKGVycm9yKSB7XG5cblx0XHRcdFx0cmVqZWN0KGVycm9yKTtcblxuXHRcdFx0fSk7XG5cblx0XHR9KTtcblxuXHR9XG5cblx0Ly9wb3N0cyB0byB0aGUgc2VydmVyXG5cdGJhY2tlbmQuX3Bvc3QgPSBmdW5jdGlvbih1cmwsIGRhdGEsIGNvbmZpZykge1xuXG5cdFx0JGxvZy5pbmZvKCd1cmwnLCB1cmwsICdkYXRhJywgZGF0YSk7XG5cblx0XHQvL3JldHVybiB0aGUgcHJvbWlzZVxuXHRcdHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcblxuXHRcdFx0JGh0dHAucG9zdCh1cmwsIGRhdGEsIGNvbmZpZykudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuXG5cdFx0XHRcdHJlc29sdmUocmVzcG9uc2UpO1xuXG5cdFx0XHR9LCBmdW5jdGlvbiB0aGVFcnJvcnMoZXJyb3IpIHtcblxuXHRcdFx0XHRyZWplY3QoZXJyb3IpO1xuXG5cdFx0XHR9KTtcblxuXHRcdH0pO1xuXG5cdH1cblxuXHQvL2NoYXJnZSBhIGNhcmRcblx0YmFja2VuZC5jaGFyZ2VDYXJkID0gZnVuY3Rpb24odXJsLCBkYXRhKSB7XG5cblx0XHRyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG5cblx0XHRcdGJhY2tlbmQuX3Bvc3QodXJsLCBkYXRhLCB7fSkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuXHRcdFx0XHRyZXNvbHZlKHJlc3BvbnNlKTtcblx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7XG5cdFx0XHRcdHJlamVjdChlcnJvcik7XG5cdFx0XHR9KTtcblxuXHRcdH0pO1xuXG5cdH1cblxuXHQvL2dldCB0aGUgcmVxdWlyZWQgc3F1YXJlIGlkXG5cdGJhY2tlbmQuZ2V0U3FyQXBwSWQgPSBmdW5jdGlvbigpIHtcblx0XHQvLyRsb2cuaW5mbygnc2VuZGluZyBmcm9tIHNxcicpO1xuXHRcdC8vcmV0dXJuIHRoZSBwcm9taXNlXG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuXG5cdFx0XHRiYWNrZW5kLl9nZXQoJy9hcGkvc3F1YXJlSWQnKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG5cdFx0XHRcdC8vJGxvZy5pbmZvKCdnb3QgdGhpcycsIHJlc3BvbnNlKTtcblx0XHRcdFx0cmVzb2x2ZShyZXNwb25zZSk7XG5cdFx0XHR9KS5jYXRjaChmdW5jdGlvbihlcnIpIHtcblx0XHRcdFx0cmVqZWN0KGVycik7XG5cdFx0XHR9KTtcblxuXHRcdH0pO1xuXG5cdH1cblxuXHQvL3JlY2VpdmVzIGEgemlwY29kZSwgcmV0dXJucyBhIGNpdHkgYW5kIHN0YXRlXG5cdGJhY2tlbmQuY2l0eVN0YXRlTG9va3VwID0gZnVuY3Rpb24oemlwY29kZSkge1xuXG5cdFx0Ly9idWlsZCB0aGUgbmV3IHVybFxuXHRcdHZhciB1cmwgPSAnL2FwaS96aXBjaGVjay8nICsgemlwY29kZTtcblxuXHRcdC8vcmV0dXJuIHRoZSBwcm9taXNlXG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuXG5cdFx0XHQvL2luaXRpYXRlIHRoZSByZXF1ZXN0XG5cdFx0XHRiYWNrZW5kLl9nZXQodXJsKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG5cblx0XHRcdFx0Ly9yZXR1cm4gYSBnb29kIHJlc3BvbnNlXG5cdFx0XHRcdHJlc29sdmUocmVzcG9uc2UpO1xuXG5cdFx0XHR9KS5jYXRjaChmdW5jdGlvbihlcnJvcikge1xuXG5cdFx0XHRcdC8vcmV0dXJuIGFuIGVycm9yIHJlc3BvbnNlXG5cdFx0XHRcdHJlamVjdChlcnJvcik7XG5cdFx0XHRcdFxuXHRcdFx0fSk7XG5cblx0XHR9KTtcblxuXHR9XG5cblx0YmFja2VuZC5wb3N0YWdlQ2FsY3VsYXRvciA9IGZ1bmN0aW9uKHppcFBvaW50cywgcXR5KSB7XG5cdFx0XG5cdFx0Ly8kbG9nLmluZm8oJ2dvdCB0aGVzZSBkYXRhIHBvaW50cy4gemlwUG9pbnRzOicsIHppcFBvaW50cywgJ3F0eScsIHF0eSk7XG5cblx0XHR2YXIgdXJsID0gJy9hcGkvY2FsY1Bvc3RhZ2UvJyArIHppcFBvaW50cy5zdGFydCArIFwiL1wiICsgemlwUG9pbnRzLmVuZCArICcvJyArIHF0eTtcblxuXHRcdHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcblxuXHRcdFx0YmFja2VuZC5fZ2V0KHVybCkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuXG5cdFx0XHRcdC8vJGxvZy5pbmZvKCdnb3QgdGhpcyByZXNwb25zZScsIHJlc3BvbnNlKTtcblx0XHRcdFx0Ly9yZXR1cm4gYSBnb29kIHJlc3BvbnNlXG5cdFx0XHRcdHJlc29sdmUocmVzcG9uc2UpO1xuXG5cdFx0XHR9KS5jYXRjaChmdW5jdGlvbihlcnJvcikge1xuXG5cdFx0XHRcdC8vcmV0dXJuIGFuIGVycm9yIHJlc3BvbnNlXG5cdFx0XHRcdHJlamVjdChlcnJvcik7XG5cblx0XHRcdH0pO1xuXG5cdFx0fSk7XG5cblx0fVxuXG5cdGJhY2tlbmQuc3VibWl0U2FsZSA9IGZ1bmN0aW9uKG9yZGVyRm9ybSkge1xuXG5cdFx0JGxvZy5pbmZvKCdzdWJtaXR0aW5nIHNhbGUnKTtcblxuXHRcdC8vZGVmaW5lIGxvY2FsIHZhcmlhYmxlXG5cdFx0dmFyIGNvbmZpZyA9IHtcblx0XHRcdCdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkO2NoYXJzZXQ9dXRmLTg7J1xuXHRcdH07XG5cblx0XHQvL3JldHVybiB0aGUgcHJvbWlzZVxuXHRcdHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcblxuXHRcdFx0Ly9pbml0aWF0ZSB0aGUgcmVxdWVzdFxuXHRcdFx0YmFja2VuZC5fcG9zdCgnL2FwaS9vcmRlcicsIG9yZGVyRm9ybSwgY29uZmlnKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG5cblx0XHRcdFx0Ly9yZXR1cm4gYSBnb29kIHJlc3BvbnNlXG5cdFx0XHRcdHJlc29sdmUocmVzcG9uc2UpO1xuXG5cdFx0XHR9KS5jYXRjaChmdW5jdGlvbihlcnJvcikge1xuXG5cdFx0XHRcdHJlamVjdChlcnJvcik7XG5cblx0XHRcdH0pO1xuXG5cdFx0fSk7XG5cblx0fVxuXG59IiwiYW5ndWxhclxuICAgIC5tb2R1bGUoJ3RydW1wc051dHMnKVxuICAgIC5zZXJ2aWNlKCdzdGF0ZURhdGEnLCBzdGF0ZURhdGEpO1xuXG5zdGF0ZURhdGEuJGluamVjdCA9IFsnJGxvZyddO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHN0YXRlRGF0YSgkbG9nKSB7XG5cdHZhciBzdGF0ZSA9IHRoaXM7XG5cblx0c3RhdGUudmFsU3RhZ2VzID0ge1xuICAgIFx0YXR0ZW1wdGVkOiBmYWxzZSxcbiAgICBcdHN1Y2Nlc3NmdWw6IGZhbHNlLFxuICAgIFx0ZmFpbGVkOiB0cnVlXG5cdH07XG5cblx0c3RhdGUuY2xhc3NlcyA9IHtcblx0XHRjb250YWluZXI6IHtcblx0XHRcdCdoYXMtc3VjY2Vzcyc6IGZhbHNlLFxuXHRcdFx0J2hhcy13YXJuaW5nJzogZmFsc2UsXG5cdFx0XHQnaGFzLWRhbmdlcic6IGZhbHNlLFx0XHRcdFxuXHRcdH0sXG5cdFx0aW5wdXQ6IHtcblx0XHRcdCdmb3JtLWNvbnRyb2wtc3VjY2Vzcyc6IGZhbHNlLFxuXHRcdFx0J2Zvcm0tY29udHJvbC13YXJuaW5nJzogZmFsc2UsXG5cdFx0XHQnZm9ybS1jb250cm9sLWRhbmdlcic6IGZhbHNlXG5cdFx0fVxuXHR9O1xuXG5cdHN0YXRlLnN0eWxlcyA9IHtcblx0XHRjb250YWluZXI6IHt9LFxuXHRcdGlucHV0OiB7fVxuXHR9O1xuXG5cdHN0YXRlLmluaXRWYWxTdGFnZXMgPSBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gc3RhdGUudmFsU3RhZ2VzO1xuXHR9XG5cblx0c3RhdGUuaW5pdENsYXNzZXMgPSBmdW5jdGlvbihzZWN0aW9uKSB7XG5cdFx0cmV0dXJuIHN0YXRlLmNsYXNzZXNbc2VjdGlvbl07XG5cdH1cblxuXHRzdGF0ZS5pbml0U3R5bGVzID0gZnVuY3Rpb24oc2VjdGlvbikge1xuXHRcdHJldHVybiBzdGF0ZS5zdHlsZXNbc2VjdGlvbl07XG5cdH1cblxuXHRzdGF0ZS51cGRhdGVTdGF0ZSA9IGZ1bmN0aW9uKHNlY3Rpb24sIHZhbHVlKSB7XG5cdFx0dmFyIHJldHVybk9iamVjdCA9IHN0YXRlLmNsYXNzZXNbc2VjdGlvbl07XG5cblx0XHRPYmplY3Qua2V5cyhyZXR1cm5PYmplY3QpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG5cdFx0XHR2YXIgcmVzdWx0QXJyYXkgPSBrZXkuc3BsaXQoJy0nKTtcblxuXHRcdFx0cmVzdWx0QXJyYXkuZm9yRWFjaChmdW5jdGlvbih3b3JkKSB7XG5cdFx0XHRcdGlmKHdvcmQgPT0gdmFsdWUpIHJldHVybk9iamVjdFtrZXldID0gdHJ1ZTtcblx0XHRcdFx0ZWxzZSByZXR1cm5PYmplY3Rba2V5XSA9IGZhbHNlO1xuXHRcdFx0fSk7XG5cblx0XHRcdC8vaWYoa2V5LmNvbnRhaW5zKHZhbHVlKSkgcmV0dXJuT2JqZWN0W2tleV0gPSB0cnVlO1xuXHRcdFx0Ly9lbHNlIHJldHVybk9iamVjdFtrZXldID0gZmFsc2U7XG5cdFx0fSk7XG5cblx0XHRyZXR1cm4gcmV0dXJuT2JqZWN0O1xuXHR9XG5cbn1cdCIsIi8vIE1PRFVMRVxudmFyIHRydW1wc051dHMgPSBhbmd1bGFyLm1vZHVsZSgndHJ1bXBzTnV0cycsIFsnbmdSb3V0ZSddKTtcblxuIl19
