function billingInfo(){function t(t,e,r,n){}function e(t,e){var r=this;r.toggleAddressCopy=function(t){r.copyShipping()(t)}}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/billingInfo.directive.htm",replace:!0,scope:{address:"=",payment:"=",copyShippingAddress:"=",copyShipping:"&"},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log"],r}function ccCSV(){function t(t,e,r,n){}function e(t,e){}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/ccCSV.directive.htm",replace:!0,scope:{},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log"],r}function ccCapture(){function t(t,e,r,n){}function e(t,e){}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/ccCapture.directive.htm",replace:!0,scope:{},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log"],r}function ccExp(){function t(t,e,r,n){}function e(t,e){}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/ccExp.directive.htm",replace:!0,scope:{},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log"],r}function ccName(){function t(t,e,r,n){}function e(t,e){}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/ccName.directive.htm",replace:!0,scope:{},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log"],r}function ccNumber(){function t(t,e,r,n){}function e(t,e){}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/ccNumber.directive.htm",replace:!0,scope:{},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log"],r}function city(){function t(t,e,r,n){}function e(t,e){}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/city.directive.htm",replace:!0,scope:{cityName:"="},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log"],r}function contactInfo(){function t(t,e,r,n){}function e(t,e){}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/contactInfo.directive.htm",replace:!0,scope:{name:"=",email:"="},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log"],r}function emailAddress(){function t(t,e,r,n){}function e(t,e){}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/emailAddress.directive.htm",replace:!0,scope:{email:"="},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log"],r}function firstName(){function t(t,e,r,n){}function e(t,e,r){var n=this;n.state={container:{classes:r.initClasses("container"),styles:r.initStyles("container")},input:{classes:r.initClasses("input"),styles:r.initStyles("container")}},n.validate=function(t,e){}}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/firstName.directive.htm",replace:!0,scope:{first:"="},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log","stateData"],r}function lastName(){function t(t,e,r,n){}function e(t,e){}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/lastName.directive.htm",replace:!0,scope:{last:"="},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log"],r}function productSelection(){function t(t,e,r,n){}function e(t,e){var r=this;r.calculateSubtotal=function(){r.subtotal=r.qty*r.price},r.decrement=function(){r.qty>1&&(r.qty=r.qty-1),r.calculateSubtotal()},r.increment=function(){r.qty=r.qty+1,r.calculateSubtotal()}}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/productSelection.directive.htm",replace:!0,scope:{qty:"=",price:"=",subtotal:"="},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log"],r}function progressBar(){function t(t,e,r,n){}function e(t,e){}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/progressBar.directive.htm",replace:!0,scope:{},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log"],r}function purchaseBtn(){function t(t,e,r,n){}function e(t,e){}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/purchaseBtn.directive.htm",replace:!0,scope:{submitForm:"&"},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log"],r}function shippingCalculator(){function t(t,e,r,n){}function e(t,e){}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/shippingCalculator.directive.htm",replace:!0,scope:{serviceClass:"="},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log"],r}function shippingInfo(){function t(t,e,r,n){}function e(t,e){var r=this;r.calculateShipping=function(t){e.info("calculating the info now",t)}}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/shippingInfo.directive.htm",replace:!0,scope:{address:"=",requirnments:"=",cost:"="},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log"],r}function state(){function t(t,e,r,n){}function e(t,e){}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/state.directive.htm",replace:!0,scope:{stateId:"="},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log"],r}function street(){function t(t,e,r,n){}function e(t,e){}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/street.directive.htm",replace:!0,scope:{streetAddress:"="},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log"],r}function toolBar(){function t(t,e,r,n){}function e(t,e){}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/toolBar.directive.htm",replace:!0,scope:{},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log"],r}function yourName(){function t(t,e,r,n){}function e(t,e){}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/yourName.directive.htm",replace:!0,scope:{name:"="},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log"],r}function zipCode(){function t(t,e,r,n){}function e(t,e,r,n,o){function i(t){var e=!1;return"undefined"!=typeof t&&t.length>=5&&(e=!0),e}function c(){a.state.container.classes=o.updateState("container","success"),a.state.input.classes=o.updateState("input","success")}function s(){a.state.container.classes["has-success"]=!1,a.state.container.classes["has-warning"]=!0,a.state.container.classes["has-danger"]=!1,a.state.input.classes["form-control-success"]=!1,a.state.input.classes["form-control-warning"]=!0,a.state.input.classes["form-control-danger"]=!1}function l(t){return new Promise(function(r,o){n.cityStateLookup(t).then(function(t){e.info("got this response",t),r(t)})["catch"](function(t){e.info("got this error",t),o(t)})})}var a=this;a.valStages=o.initValStages(),a.state={container:{classes:o.initClasses("container"),styles:o.initStyles("container")},input:{classes:o.initClasses("input"),styles:o.initStyles("container")}},a.validate=function(t){a.valStages.attempted&&(i(t)?(c(),l(t).then(function(t){a.cityName=t.zipCode.city,a.stateId=t.zipCode.state,r.$apply()})["catch"](function(t){e.info("there was an error")}),a.calculateShipping()({start:"97005",end:a.zip})):s())},a.submit=function(t){a.valStages.attempted=!0,a.validate(t)}}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/zipCode.directive.htm",replace:!0,scope:{uniqueId:"=",zip:"=",cityName:"=",stateId:"=",calculateShipping:"&"},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log","$rootScope","server","stateData"],r}function confirmationController(t){}function landingController(t,e,r,n,o,i){function c(){i.getSqrAppId().then(function(t){s.model.apis.squareId=t.id})["catch"](function(t){})}var s=this;s.model=o,t.$watch("vm.model.shipping.address.zip",function(t,e){s.model.copyShippingAddress&&(s.model.billing.address.zip=t)}),t.$watch("vm.model.shipping.address.city",function(t,e){s.model.copyShippingAddress&&(s.model.billing.address.city=t)}),t.$watch("vm.model.shipping.address.state",function(t,e){s.model.copyShippingAddress&&(s.model.billing.address.state=t)}),t.$watch("vm.model.shipping.address.street1",function(t,e){s.model.copyShippingAddress&&(s.model.billing.address.street1=t)}),t.$watch("vm.model.shipping.address.street2",function(t,e){s.model.copyShippingAddress&&(s.model.billing.address.street2=t)}),t.$watch("vm.model.shipping.address.street3",function(t,e){s.model.copyShippingAddress&&(s.model.billing.address.street3=t)}),s.copyShippingAddress=function(t){t?s.model.billing.address=s.model.shipping.address:s.model.billing.address=o.billing.address},s.submitForm=function(t){e.info("submitting",t),i.submitSale(s.model).then(function(t){e.info(t),r.path("/confirmation/?tesing=goodTest"),n.$apply()})["catch"](function(t){e.info(t)}),r.path("/processing")},c()}function processingController(t,e){}function dataModel(t){function e(t){}function r(t,e){}function n(t){}function o(t,e){}var i={name:{first:"",last:""},email:"",copyShippingAddress:!0,product:{price:2e3},order:{qty:1,cost:{subtotal:2e3,tax:0,discounts:{promotions:[],totalValue:0},total:0}},shipping:{address:{street1:"",street2:"",street3:"",city:"",state:"",zip:""},requirnments:{isPriority:"true"},cost:{amount:0,currency:"USD"}},billing:{address:{street1:"",street2:"",street3:"",city:"",state:"",zip:""},payment:{number:["","","",""],exp:["",""],csv:""}},apis:{squareId:""},_read:e,_update:r,readProp:n,updateProp:o};return i}function stateFactory(t){var e={model:{allElementsCompleted:!1,fields:[],input:{prop:{name:"",requirnments:[]},state:{addressed:!1,success:!1,failure:!1}}},classes:{"form-group":!1,"has-success":!1,"has-warning":!1,"has-danger":!1,"form-control-label":!1,"form-control":!1,"form-control-success":!1,"form-control-warning":!1,"form-control-danger":!1,"form-control-feedback":!1,"form-text":!1,"text-muted":!1},styles:{},changeState:{inputSuccess:"",inputFailed:""}};return e}function config(t){t.when("/",{templateUrl:"views/landingPage.htm",controller:"landingController",controllerAs:"vm"}).when("/processing",{templateUrl:"views/processing.htm",controller:"processingController",controllerAs:"vm"}).when("/confirmation",{templateUrl:"views/confirmation.htm",controller:"confirmationController",controllerAs:"vm"})}function server(t,e){var r=this;r._get=function(t){return new Promise(function(r,n){e.get(t).then(function(t){r(t.data)},function(t){n(t)})})},r._post=function(r,n,o){return t.info("url",r,"data",n),new Promise(function(t,i){e.post(r,n,o).then(function(e){t(e)},function(t){i(t)})})},r.getSqrAppId=function(){return new Promise(function(t,e){r._get("/api/squareId").then(function(e){t(e)})["catch"](function(t){e(t)})})},r.cityStateLookup=function(t){var e="/api/zipcheck/"+t;return new Promise(function(t,n){r._get(e).then(function(e){t(e)})["catch"](function(t){n(t)})})},r.submitSale=function(e){t.info("submitting sale");var n={"Content-Type":"application/x-www-form-urlencoded;charset=utf-8;"};return new Promise(function(t,o){r._post("/api/order",e,n).then(function(e){t(e)})["catch"](function(t){o(t)})})}}function stateData(t){var e=this;e.valStages={attempted:!1,successful:!1,failed:!0},e.classes={container:{"has-success":!1,"has-warning":!1,"has-danger":!1},input:{"form-control-success":!1,"form-control-warning":!1,"form-control-danger":!1}},e.styles={container:{},input:{}},e.initValStages=function(){return e.valStages},e.initClasses=function(t){return e.classes[t]},e.initStyles=function(t){return e.styles[t]},e.updateState=function(t,r){var n=e.classes[t];return Object.keys(n).forEach(function(t){var e=t.split("-");e.forEach(function(e){e==r?n[t]=!0:n[t]=!1})}),n}}config.$inject=["$routeProvider"];var trumpsNuts=angular.module("trumpsNuts",["ngRoute"]);angular.module("trumpsNuts").directive("billingInfo",billingInfo),angular.module("trumpsNuts").directive("ccCSV",ccCSV),angular.module("trumpsNuts").directive("ccCapture",ccCapture),angular.module("trumpsNuts").directive("ccExp",ccExp),angular.module("trumpsNuts").directive("ccName",ccName),angular.module("trumpsNuts").directive("ccNumber",ccNumber),angular.module("trumpsNuts").directive("city",city),angular.module("trumpsNuts").directive("contactInfo",contactInfo),angular.module("trumpsNuts").directive("emailAddress",emailAddress),angular.module("trumpsNuts").directive("firstName",firstName),angular.module("trumpsNuts").directive("lastName",lastName),angular.module("trumpsNuts").directive("productSelection",productSelection),angular.module("trumpsNuts").directive("progressBar",progressBar),angular.module("trumpsNuts").directive("purchaseBtn",purchaseBtn),angular.module("trumpsNuts").directive("shippingCalculator",shippingCalculator),angular.module("trumpsNuts").directive("shippingInfo",shippingInfo),angular.module("trumpsNuts").directive("state",state),angular.module("trumpsNuts").directive("street",street),angular.module("trumpsNuts").directive("toolBar",toolBar),angular.module("trumpsNuts").directive("yourName",yourName),angular.module("trumpsNuts").directive("zipCode",zipCode),angular.module("trumpsNuts").controller("confirmationController",confirmationController),confirmationController.$inject=["$log"],angular.module("trumpsNuts").controller("landingController",landingController),landingController.$inject=["$scope","$log","$location","$rootScope","dataModel","server"],angular.module("trumpsNuts").controller("processingController",processingController),processingController.$inject=["$log","test"],angular.module("trumpsNuts").factory("dataModel",dataModel),dataModel.$inject=["$log"],angular.module("trumpsNuts").factory("stateFactory",stateFactory),stateFactory.$inject=["$log"],angular.module("trumpsNuts").config(config),angular.module("trumpsNuts").service("server",server),server.$inject=["$log","$http"],angular.module("trumpsNuts").service("stateData",stateData),stateData.$inject=["$log"];
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJ1bmRsZS5qcyIsInNjcmlwdHMvZGlyZWN0aXZlcy9iaWxsaW5nSW5mby5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2RpcmVjdGl2ZXMvY2NDU1YuZGlyZWN0aXZlLmpzIiwic2NyaXB0cy9kaXJlY3RpdmVzL2NjQ2FwdHVyZS5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2RpcmVjdGl2ZXMvY2NFeHAuZGlyZWN0aXZlLmpzIiwic2NyaXB0cy9kaXJlY3RpdmVzL2NjTmFtZS5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2RpcmVjdGl2ZXMvY2NOdW1iZXIuZGlyZWN0aXZlLmpzIiwic2NyaXB0cy9kaXJlY3RpdmVzL2NpdHkuZGlyZWN0aXZlLmpzIiwic2NyaXB0cy9kaXJlY3RpdmVzL2NvbnRhY3RJbmZvLmRpcmVjdGl2ZS5qcyIsInNjcmlwdHMvZGlyZWN0aXZlcy9lbWFpbEFkZHJlc3MuZGlyZWN0aXZlLmpzIiwic2NyaXB0cy9kaXJlY3RpdmVzL2ZpcnN0TmFtZS5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2RpcmVjdGl2ZXMvbGFzdE5hbWUuZGlyZWN0aXZlLmpzIiwic2NyaXB0cy9kaXJlY3RpdmVzL3Byb2R1Y3RTZWxlY3Rpb24uZGlyZWN0aXZlLmpzIiwic2NyaXB0cy9kaXJlY3RpdmVzL3Byb2dyZXNzQmFyLmRpcmVjdGl2ZS5qcyIsInNjcmlwdHMvZGlyZWN0aXZlcy9wdXJjaGFzZUJ0bi5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2RpcmVjdGl2ZXMvc2hpcHBpbmdDYWxjdWxhdG9yLmRpcmVjdGl2ZS5qcyIsInNjcmlwdHMvZGlyZWN0aXZlcy9zaGlwcGluZ0luZm8uZGlyZWN0aXZlLmpzIiwic2NyaXB0cy9kaXJlY3RpdmVzL3N0YXRlLmRpcmVjdGl2ZS5qcyIsInNjcmlwdHMvZGlyZWN0aXZlcy9zdHJlZXQuZGlyZWN0aXZlLmpzIiwic2NyaXB0cy9kaXJlY3RpdmVzL3Rvb2xiYXIuZGlyZWN0aXZlLmpzIiwic2NyaXB0cy9kaXJlY3RpdmVzL3lvdXJOYW1lLmRpcmVjdGl2ZS5qcyIsInNjcmlwdHMvZGlyZWN0aXZlcy96aXBDb2RlLmRpcmVjdGl2ZS5qcyIsInNjcmlwdHMvY29udHJvbGxlcnMvY29uZmlybWF0aW9uLmNvbnRyb2xsZXIuanMiLCJzY3JpcHRzL2NvbnRyb2xsZXJzL2xhbmRpbmcuY29udHJvbGxlci5qcyIsInNjcmlwdHMvY29udHJvbGxlcnMvcHJvY2Vzc2luZy5jb250cm9sbGVyLmpzIiwic2NyaXB0cy9mYWN0b3JpZXMvZGF0YU1vZGVsLmZhY3RvcnkuanMiLCJzY3JpcHRzL2ZhY3Rvcmllcy9zdGF0ZS5mYWN0b3J5LmpzIiwic2NyaXB0cy9yb3V0ZXMvcm91dGUtY29uZmlnLmpzIiwic2NyaXB0cy9zZXJ2aWNlcy9zZXJ2ZXIuc2VydmljZS5qcyIsInNjcmlwdHMvc2VydmljZXMvc3RhdGVEYXRhLnNlcnZpY2UuanMiLCJzY3JpcHRzL2FwcC5qcyJdLCJuYW1lcyI6WyJiaWxsaW5nSW5mbyIsImxpbmtGdW5jIiwic2NvcGUiLCJlbCIsImF0dHIiLCJjdHJsIiwiYmlsbGluZ0luZm9Db250cm9sbGVyIiwiJHNjb3BlIiwiJGxvZyIsInZtIiwidGhpcyIsInRvZ2dsZUFkZHJlc3NDb3B5IiwiYnRuU3RhdGUiLCJjb3B5U2hpcHBpbmciLCIkaW5qZWN0IiwiZGlyZWN0aXZlIiwicmVzdHJpY3QiLCJ0ZW1wbGF0ZVVybCIsInJlcGxhY2UiLCJhZGRyZXNzIiwicGF5bWVudCIsImNvcHlTaGlwcGluZ0FkZHJlc3MiLCJsaW5rIiwiY29udHJvbGxlciIsImNvbnRyb2xsZXJBcyIsImJpbmRUb0NvbnRyb2xsZXIiLCJjY0NTViIsImNjQ1NWQ29udHJvbGxlciIsImNjQ2FwdHVyZSIsImNjQ2FwdHVyZUNvbnRyb2xsZXIiLCJjY0V4cCIsImNjRXhwQ29udHJvbGxlciIsImNjTmFtZSIsImNjTmFtZUNvbnRyb2xsZXIiLCJjY051bWJlciIsImNjTnVtYmVyQ29udHJvbGxlciIsImNpdHkiLCJjaXR5Q29udHJvbGxlciIsImNpdHlOYW1lIiwiY29udGFjdEluZm8iLCJjb250YWN0SW5mb0NvbnRyb2xsZXIiLCJuYW1lIiwiZW1haWwiLCJlbWFpbEFkZHJlc3MiLCJlbWFpbEFkZHJlc3NDb250cm9sbGVyIiwiZmlyc3ROYW1lIiwiZmlyc3ROYW1lQ29udHJvbGxlciIsInN0YXRlRGF0YSIsInN0YXRlIiwiY29udGFpbmVyIiwiY2xhc3NlcyIsImluaXRDbGFzc2VzIiwic3R5bGVzIiwiaW5pdFN0eWxlcyIsImlucHV0IiwidmFsaWRhdGUiLCJmaWVsZCIsInZhbHVlIiwiZmlyc3QiLCJsYXN0TmFtZSIsImxhc3ROYW1lQ29udHJvbGxlciIsImxhc3QiLCJwcm9kdWN0U2VsZWN0aW9uIiwicHJvZHVjdFNlbGVjdGlvbkNvbnRyb2xsZXIiLCJjYWxjdWxhdGVTdWJ0b3RhbCIsInN1YnRvdGFsIiwicXR5IiwicHJpY2UiLCJkZWNyZW1lbnQiLCJpbmNyZW1lbnQiLCJwcm9ncmVzc0JhciIsInByb2dyZXNzQmFyQ29udHJvbGxlciIsInB1cmNoYXNlQnRuIiwicHVyY2hhc2VCdG5Db250cm9sbGVyIiwic3VibWl0Rm9ybSIsInNoaXBwaW5nQ2FsY3VsYXRvciIsInNoaXBwaW5nQ2FsY3VsYXRvckNvbnRyb2xsZXIiLCJzZXJ2aWNlQ2xhc3MiLCJzaGlwcGluZ0luZm8iLCJzaGlwcGluZ0luZm9Db250cm9sbGVyIiwiY2FsY3VsYXRlU2hpcHBpbmciLCJ6aXBQb2ludHMiLCJpbmZvIiwicmVxdWlybm1lbnRzIiwiY29zdCIsInN0YXRlQ29udHJvbGxlciIsInN0YXRlSWQiLCJzdHJlZXQiLCJzdHJlZXRDb250cm9sbGVyIiwic3RyZWV0QWRkcmVzcyIsInRvb2xCYXIiLCJUb29sQmFyQ29udHJvbGxlciIsInlvdXJOYW1lIiwieW91ck5hbWVDb250cm9sbGVyIiwiemlwQ29kZSIsInppcENvZGVDb250cm9sbGVyIiwiJHJvb3RTY29wZSIsInNlcnZlciIsImxvbmdFbm91Z2giLCJ6aXBjb2RlIiwiZmxhZyIsImxlbmd0aCIsInN1Y2Nlc3NpZnlJbnB1dCIsInVwZGF0ZVN0YXRlIiwiZmFpbGlmeUlucHV0IiwiY2l0eVN0YXRlTG9va3VwIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJ0aGVuIiwicmVzcG9uc2UiLCJlcnJvciIsInZhbFN0YWdlcyIsImluaXRWYWxTdGFnZXMiLCJhdHRlbXB0ZWQiLCIkYXBwbHkiLCJzdGFydCIsImVuZCIsInppcCIsInN1Ym1pdCIsInVuaXF1ZUlkIiwiY29uZmlybWF0aW9uQ29udHJvbGxlciIsImxhbmRpbmdDb250cm9sbGVyIiwiJGxvY2F0aW9uIiwiZGF0YU1vZGVsIiwiaW5pdCIsImdldFNxckFwcElkIiwibW9kZWwiLCJhcGlzIiwic3F1YXJlSWQiLCJpZCIsImVyciIsIiR3YXRjaCIsImN1cnJlbnQiLCJvcmlnaW5hbCIsImJpbGxpbmciLCJzdHJlZXQxIiwic3RyZWV0MiIsInN0cmVldDMiLCJzaGlwcGluZyIsInN1Ym1pdFNhbGUiLCJwYXRoIiwicHJvY2Vzc2luZ0NvbnRyb2xsZXIiLCJ0ZXN0IiwiX3JlYWQiLCJwcm9wIiwiX3VwZGF0ZSIsInJlYWRQcm9wIiwidXBkYXRlUHJvcCIsImRhdGFNb2RlbE9iamVjdCIsInByb2R1Y3QiLCJvcmRlciIsInRheCIsImRpc2NvdW50cyIsInByb21vdGlvbnMiLCJ0b3RhbFZhbHVlIiwidG90YWwiLCJpc1ByaW9yaXR5IiwiYW1vdW50IiwiY3VycmVuY3kiLCJudW1iZXIiLCJleHAiLCJjc3YiLCJzdGF0ZUZhY3RvcnkiLCJzdGF0ZU9iamVjdCIsImFsbEVsZW1lbnRzQ29tcGxldGVkIiwiZmllbGRzIiwiYWRkcmVzc2VkIiwic3VjY2VzcyIsImZhaWx1cmUiLCJmb3JtLWdyb3VwIiwiaGFzLXN1Y2Nlc3MiLCJoYXMtd2FybmluZyIsImhhcy1kYW5nZXIiLCJmb3JtLWNvbnRyb2wtbGFiZWwiLCJmb3JtLWNvbnRyb2wiLCJmb3JtLWNvbnRyb2wtc3VjY2VzcyIsImZvcm0tY29udHJvbC13YXJuaW5nIiwiZm9ybS1jb250cm9sLWRhbmdlciIsImZvcm0tY29udHJvbC1mZWVkYmFjayIsImZvcm0tdGV4dCIsInRleHQtbXV0ZWQiLCJjaGFuZ2VTdGF0ZSIsImlucHV0U3VjY2VzcyIsImlucHV0RmFpbGVkIiwiY29uZmlnIiwiJHJvdXRlUHJvdmlkZXIiLCJ3aGVuIiwiJGh0dHAiLCJiYWNrZW5kIiwiX2dldCIsInVybCIsImdldCIsImRhdGEiLCJfcG9zdCIsInBvc3QiLCJvcmRlckZvcm0iLCJDb250ZW50LVR5cGUiLCJzdWNjZXNzZnVsIiwiZmFpbGVkIiwic2VjdGlvbiIsInJldHVybk9iamVjdCIsIk9iamVjdCIsImtleXMiLCJmb3JFYWNoIiwia2V5IiwicmVzdWx0QXJyYXkiLCJzcGxpdCIsIndvcmQiLCJ0cnVtcHNOdXRzIiwiYW5ndWxhciIsIm1vZHVsZSIsImZhY3RvcnkiLCJzZXJ2aWNlIl0sIm1hcHBpbmdzIjoiQUFpQkEsUUFBU0EsZUNhVCxRQUFBQyxHQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxJQUtBLFFBQUFDLEdBQUFDLEVBQUFDLEdBQ0EsR0FBQUMsR0FBQUMsSUFHQUQsR0FBQUUsa0JBQUEsU0FBQUMsR0FFQUgsRUFBQUksZUFBQUQsSUR2QklYLEVBQVNhLFNBQVcsUUFBUyxLQUFNLE9BQVEsT0NML0MsSUFBQUMsSUFDQUMsU0FBQSxPQUNBQyxZQUFBLDZDQUNBQyxTQUFBLEVBQ0FoQixPQUNBaUIsUUFBQSxJQUNBQyxRQUFBLElBQ0FDLG9CQUFBLElBQ0FSLGFBQUEsS0FFQVMsS0FBQXJCLEVBQ0FzQixXQUFBakIsRUFDQWtCLGFBQUEsS0FDQUMsa0JBQUEsRUFvQkEsT0FiQW5CLEdBQUFRLFNBQUEsU0FBQSxRQWFBQyxFRHFCQSxRQUFTVyxTRTFDVCxRQUFBekIsR0FBQUMsRUFBQUMsRUFBQUMsRUFBQUMsSUFLQSxRQUFBc0IsR0FBQXBCLEVBQUFDLElGc0NJUCxFQUFTYSxTQUFXLFFBQVMsS0FBTSxPQUFRLE9FdkQvQyxJQUFBQyxJQUNBQyxTQUFBLE9BQ0FDLFlBQUEsdUNBQ0FDLFNBQUEsRUFDQWhCLFNBQ0FvQixLQUFBckIsRUFDQXNCLFdBQUFJLEVBQ0FILGFBQUEsS0FDQUMsa0JBQUEsRUFjQSxPQVBBRSxHQUFBYixTQUFBLFNBQUEsUUFPQUMsRUZ1RUEsUUFBU2EsYUdqRlQsUUFBQTNCLEdBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLElBS0EsUUFBQXdCLEdBQUF0QixFQUFBQyxJSDZFSVAsRUFBU2EsU0FBVyxRQUFTLEtBQU0sT0FBUSxPRzlGL0MsSUFBQUMsSUFDQUMsU0FBQSxPQUNBQyxZQUFBLDJDQUNBQyxTQUFBLEVBQ0FoQixTQUNBb0IsS0FBQXJCLEVBQ0FzQixXQUFBTSxFQUNBTCxhQUFBLEtBQ0FDLGtCQUFBLEVBY0EsT0FQQUksR0FBQWYsU0FBQSxTQUFBLFFBT0FDLEVIOEdBLFFBQVNlLFNJeEhULFFBQUE3QixHQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxJQUtBLFFBQUEwQixHQUFBeEIsRUFBQUMsSUpvSElQLEVBQVNhLFNBQVcsUUFBUyxLQUFNLE9BQVEsT0lySS9DLElBQUFDLElBQ0FDLFNBQUEsT0FDQUMsWUFBQSx1Q0FDQUMsU0FBQSxFQUNBaEIsU0FDQW9CLEtBQUFyQixFQUNBc0IsV0FBQVEsRUFDQVAsYUFBQSxLQUNBQyxrQkFBQSxFQWNBLE9BUEFNLEdBQUFqQixTQUFBLFNBQUEsUUFPQUMsRUpxSkEsUUFBU2lCLFVLL0pULFFBQUEvQixHQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxJQUtBLFFBQUE0QixHQUFBMUIsRUFBQUMsSUwySklQLEVBQVNhLFNBQVcsUUFBUyxLQUFNLE9BQVEsT0s1Sy9DLElBQUFDLElBQ0FDLFNBQUEsT0FDQUMsWUFBQSx3Q0FDQUMsU0FBQSxFQUNBaEIsU0FDQW9CLEtBQUFyQixFQUNBc0IsV0FBQVUsRUFDQVQsYUFBQSxLQUNBQyxrQkFBQSxFQWNBLE9BUEFRLEdBQUFuQixTQUFBLFNBQUEsUUFPQUMsRUw0TEEsUUFBU21CLFlNdE1ULFFBQUFqQyxHQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxJQUtBLFFBQUE4QixHQUFBNUIsRUFBQUMsSU5rTUlQLEVBQVNhLFNBQVcsUUFBUyxLQUFNLE9BQVEsT01uTi9DLElBQUFDLElBQ0FDLFNBQUEsT0FDQUMsWUFBQSwwQ0FDQUMsU0FBQSxFQUNBaEIsU0FDQW9CLEtBQUFyQixFQUNBc0IsV0FBQVksRUFDQVgsYUFBQSxLQUNBQyxrQkFBQSxFQWNBLE9BUEFVLEdBQUFyQixTQUFBLFNBQUEsUUFPQUMsRU5tT0EsUUFBU3FCLFFPM09ULFFBQUFuQyxHQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxJQUtBLFFBQUFnQyxHQUFBOUIsRUFBQUMsSVB1T0lQLEVBQVNhLFNBQVcsUUFBUyxLQUFNLE9BQVEsT08xUC9DLElBQUFDLElBQ0FDLFNBQUEsT0FDQUMsWUFBQSxzQ0FDQUMsU0FBQSxFQUNBaEIsT0FDQW9DLFNBQUEsS0FFQWhCLEtBQUFyQixFQUNBc0IsV0FBQWMsRUFDQWIsYUFBQSxLQUNBQyxrQkFBQSxFQWNBLE9BUEFZLEdBQUF2QixTQUFBLFNBQUEsUUFPQUMsRVAwUUEsUUFBU3dCLGVRblJULFFBQUF0QyxHQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxJQUtBLFFBQUFtQyxHQUFBakMsRUFBQUMsSVIrUUlQLEVBQVNhLFNBQVcsUUFBUyxLQUFNLE9BQVEsT1FuUy9DLElBQUFDLElBQ0FDLFNBQUEsT0FDQUMsWUFBQSw2Q0FDQUMsU0FBQSxFQUNBaEIsT0FDQXVDLEtBQUEsSUFDQUMsTUFBQSxLQUVBcEIsS0FBQXJCLEVBQ0FzQixXQUFBaUIsRUFDQWhCLGFBQUEsS0FDQUMsa0JBQUEsRUFjQSxPQVBBZSxHQUFBMUIsU0FBQSxTQUFBLFFBT0FDLEVSbVRBLFFBQVM0QixnQlM5VFQsUUFBQTFDLEdBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLElBS0EsUUFBQXVDLEdBQUFyQyxFQUFBQyxJVDBUSVAsRUFBU2EsU0FBVyxRQUFTLEtBQU0sT0FBUSxPUzdVL0MsSUFBQUMsSUFDQUMsU0FBQSxPQUNBQyxZQUFBLDhDQUNBQyxTQUFBLEVBQ0FoQixPQUNBd0MsTUFBQSxLQUVBcEIsS0FBQXJCLEVBQ0FzQixXQUFBcUIsRUFDQXBCLGFBQUEsS0FDQUMsa0JBQUEsRUFjQSxPQVBBbUIsR0FBQTlCLFNBQUEsU0FBQSxRQU9BQyxFVDZWQSxRQUFTOEIsYVV2V1QsUUFBQTVDLEdBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLElBS0EsUUFBQXlDLEdBQUF2QyxFQUFBQyxFQUFBdUMsR0FDQSxHQUFBdEMsR0FBQUMsSUFJQUQsR0FBQXVDLE9BQ0FDLFdBQ0FDLFFBQUFILEVBQUFJLFlBQUEsYUFDQUMsT0FBQUwsRUFBQU0sV0FBQSxjQUVBQyxPQUNBSixRQUFBSCxFQUFBSSxZQUFBLFNBQ0FDLE9BQUFMLEVBQUFNLFdBQUEsZUFLQTVDLEVBQUE4QyxTQUFBLFNBQUFDLEVBQUFDLEtWa1ZJeEQsRUFBU2EsU0FBVyxRQUFTLEtBQU0sT0FBUSxPVXRYL0MsSUFBQUMsSUFDQUMsU0FBQSxPQUNBQyxZQUFBLDJDQUNBQyxTQUFBLEVBQ0FoQixPQUNBd0QsTUFBQSxLQUVBcEMsS0FBQXJCLEVBQ0FzQixXQUFBdUIsRUFDQXRCLGFBQUEsS0FDQUMsa0JBQUEsRUFpQ0EsT0ExQkFxQixHQUFBaEMsU0FBQSxTQUFBLE9BQUEsYUEwQkFDLEVWc1lBLFFBQVM0QyxZV25hVCxRQUFBMUQsR0FBQUMsRUFBQUMsRUFBQUMsRUFBQUMsSUFLQSxRQUFBdUQsR0FBQXJELEVBQUFDLElYK1pJUCxFQUFTYSxTQUFXLFFBQVMsS0FBTSxPQUFRLE9XbGIvQyxJQUFBQyxJQUNBQyxTQUFBLE9BQ0FDLFlBQUEsMENBQ0FDLFNBQUEsRUFDQWhCLE9BQ0EyRCxLQUFBLEtBRUF2QyxLQUFBckIsRUFDQXNCLFdBQUFxQyxFQUNBcEMsYUFBQSxLQUNBQyxrQkFBQSxFQWNBLE9BUEFtQyxHQUFBOUMsU0FBQSxTQUFBLFFBT0FDLEVYa2NBLFFBQVMrQyxvQlkxY1QsUUFBQTdELEdBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLElBS0EsUUFBQTBELEdBQUF4RCxFQUFBQyxHQUNBLEdBQUFDLEdBQUFDLElBTUFELEdBQUF1RCxrQkFBQSxXQUNBdkQsRUFBQXdELFNBQUF4RCxFQUFBeUQsSUFBQXpELEVBQUEwRCxPQUdBMUQsRUFBQTJELFVBQUEsV0FDQTNELEVBQUF5RCxJQUFBLElBQUF6RCxFQUFBeUQsSUFBQXpELEVBQUF5RCxJQUFBLEdBRUF6RCxFQUFBdUQscUJBR0F2RCxFQUFBNEQsVUFBQSxXQUNBNUQsRUFBQXlELElBQUF6RCxFQUFBeUQsSUFBQSxFQUVBekQsRUFBQXVELHFCWmtiSS9ELEVBQVNhLFNBQVcsUUFBUyxLQUFNLE9BQVEsT1kzZC9DLElBQUFDLElBQ0FDLFNBQUEsT0FDQUMsWUFBQSxrREFDQUMsU0FBQSxFQUNBaEIsT0FDQWdFLElBQUEsSUFDQUMsTUFBQSxJQUNBRixTQUFBLEtBRUEzQyxLQUFBckIsRUFDQXNCLFdBQUF3QyxFQUNBdkMsYUFBQSxLQUNBQyxrQkFBQSxFQWtDQSxPQTNCQXNDLEdBQUFqRCxTQUFBLFNBQUEsUUEyQkFDLEVaMmVBLFFBQVN1RCxlYTdnQlQsUUFBQXJFLEdBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLElBS0EsUUFBQWtFLEdBQUFoRSxFQUFBQyxJYnlnQklQLEVBQVNhLFNBQVcsUUFBUyxLQUFNLE9BQVEsT2ExaEIvQyxJQUFBQyxJQUNBQyxTQUFBLE9BQ0FDLFlBQUEsNkNBQ0FDLFNBQUEsRUFDQWhCLFNBQ0FvQixLQUFBckIsRUFDQXNCLFdBQUFnRCxFQUNBL0MsYUFBQSxLQUNBQyxrQkFBQSxFQWNBLE9BUEE4QyxHQUFBekQsU0FBQSxTQUFBLFFBT0FDLEViMGlCQSxRQUFTeUQsZWNsakJULFFBQUF2RSxHQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxJQUtBLFFBQUFvRSxHQUFBbEUsRUFBQUMsSWQ4aUJJUCxFQUFTYSxTQUFXLFFBQVMsS0FBTSxPQUFRLE9jamtCL0MsSUFBQUMsSUFDQUMsU0FBQSxPQUNBQyxZQUFBLDZDQUNBQyxTQUFBLEVBQ0FoQixPQUNBd0UsV0FBQSxLQUVBcEQsS0FBQXJCLEVBQ0FzQixXQUFBa0QsRUFDQWpELGFBQUEsS0FDQUMsa0JBQUEsRUFjQSxPQVBBZ0QsR0FBQTNELFNBQUEsU0FBQSxRQU9BQyxFZGlsQkEsUUFBUzRELHNCZTNsQlQsUUFBQTFFLEdBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLElBS0EsUUFBQXVFLEdBQUFyRSxFQUFBQyxJZnVsQklQLEVBQVNhLFNBQVcsUUFBUyxLQUFNLE9BQVEsT2UxbUIvQyxJQUFBQyxJQUNBQyxTQUFBLE9BQ0FDLFlBQUEsb0RBQ0FDLFNBQUEsRUFDQWhCLE9BQ0EyRSxhQUFBLEtBRUF2RCxLQUFBckIsRUFDQXNCLFdBQUFxRCxFQUNBcEQsYUFBQSxLQUNBQyxrQkFBQSxFQWVBLE9BUkFtRCxHQUFBOUQsU0FBQSxTQUFBLFFBUUFDLEVmMG5CQSxRQUFTK0QsZ0JnQm5vQlQsUUFBQTdFLEdBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLElBS0EsUUFBQTBFLEdBQUF4RSxFQUFBQyxHQUNBLEdBQUFDLEdBQUFDLElBSUFELEdBQUF1RSxrQkFBQSxTQUFBQyxHQUNBekUsRUFBQTBFLEtBQUEsMkJBQUFELEloQnluQkloRixFQUFTYSxTQUFXLFFBQVMsS0FBTSxPQUFRLE9nQnBwQi9DLElBQUFDLElBQ0FDLFNBQUEsT0FDQUMsWUFBQSw4Q0FDQUMsU0FBQSxFQUNBaEIsT0FDQWlCLFFBQUEsSUFDQWdFLGFBQUEsSUFDQUMsS0FBQSxLQUVBOUQsS0FBQXJCLEVBQ0FzQixXQUFBd0QsRUFDQXZELGFBQUEsS0FDQUMsa0JBQUEsRUFxQkEsT0FkQXNELEdBQUFqRSxTQUFBLFNBQUEsUUFjQUMsRWhCb3FCQSxRQUFTaUMsU2lCdnJCVCxRQUFBL0MsR0FBQUMsRUFBQUMsRUFBQUMsRUFBQUMsSUFLQSxRQUFBZ0YsR0FBQTlFLEVBQUFDLElqQm1yQklQLEVBQVNhLFNBQVcsUUFBUyxLQUFNLE9BQVEsT2lCdHNCL0MsSUFBQUMsSUFDQUMsU0FBQSxPQUNBQyxZQUFBLHVDQUNBQyxTQUFBLEVBQ0FoQixPQUNBb0YsUUFBQSxLQUVBaEUsS0FBQXJCLEVBQ0FzQixXQUFBOEQsRUFDQTdELGFBQUEsS0FDQUMsa0JBQUEsRUFjQSxPQVBBNEQsR0FBQXZFLFNBQUEsU0FBQSxRQU9BQyxFakJzdEJBLFFBQVN3RSxVa0JodUJULFFBQUF0RixHQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxJQUtBLFFBQUFtRixHQUFBakYsRUFBQUMsSWxCNHRCSVAsRUFBU2EsU0FBVyxRQUFTLEtBQU0sT0FBUSxPa0IvdUIvQyxJQUFBQyxJQUNBQyxTQUFBLE9BQ0FDLFlBQUEsd0NBQ0FDLFNBQUEsRUFDQWhCLE9BQ0F1RixjQUFBLEtBRUFuRSxLQUFBckIsRUFDQXNCLFdBQUFpRSxFQUNBaEUsYUFBQSxLQUNBQyxrQkFBQSxFQWNBLE9BUEErRCxHQUFBMUUsU0FBQSxTQUFBLFFBT0FDLEVsQit2QkEsUUFBUzJFLFdtQjN3QlQsUUFBQXpGLEdBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLElBS0EsUUFBQXNGLEdBQUFwRixFQUFBQyxJbkJ1d0JJUCxFQUFTYSxTQUFXLFFBQVMsS0FBTSxPQUFRLE9tQnh4Qi9DLElBQUFDLElBQ0FDLFNBQUEsT0FDQUMsWUFBQSx5Q0FDQUMsU0FBQSxFQUNBaEIsU0FDQW9CLEtBQUFyQixFQUNBc0IsV0FBQW9FLEVBQ0FuRSxhQUFBLEtBQ0FDLGtCQUFBLEVBY0EsT0FQQWtFLEdBQUE3RSxTQUFBLFNBQUEsUUFPQUMsRW5Cd3lCQSxRQUFTNkUsWW9CaHpCVCxRQUFBM0YsR0FBQUMsRUFBQUMsRUFBQUMsRUFBQUMsSUFLQSxRQUFBd0YsR0FBQXRGLEVBQUFDLElwQjR5QklQLEVBQVNhLFNBQVcsUUFBUyxLQUFNLE9BQVEsT29CL3pCL0MsSUFBQUMsSUFDQUMsU0FBQSxPQUNBQyxZQUFBLDBDQUNBQyxTQUFBLEVBQ0FoQixPQUNBdUMsS0FBQSxLQUVBbkIsS0FBQXJCLEVBQ0FzQixXQUFBc0UsRUFDQXJFLGFBQUEsS0FDQUMsa0JBQUEsRUFjQSxPQVBBb0UsR0FBQS9FLFNBQUEsU0FBQSxRQU9BQyxFcEIrMEJBLFFBQVMrRSxXcUJyMUJULFFBQUE3RixHQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxJQUtBLFFBQUEwRixHQUFBeEYsRUFBQUMsRUFBQXdGLEVBQUFDLEVBQUFsRCxHQWlCQSxRQUFBbUQsR0FBQUMsR0FDQSxHQUFBQyxJQUFBLENBT0EsT0FIQSxtQkFBQUQsSUFDQUEsRUFBQUUsUUFBQSxJQUFBRCxHQUFBLEdBRUFBLEVBR0EsUUFBQUUsS0FFQTdGLEVBQUF1QyxNQUFBQyxVQUFBQyxRQUFBSCxFQUFBd0QsWUFBQSxZQUFBLFdBSUE5RixFQUFBdUMsTUFBQU0sTUFBQUosUUFBQUgsRUFBQXdELFlBQUEsUUFBQSxXQU1BLFFBQUFDLEtBRUEvRixFQUFBdUMsTUFBQUMsVUFBQUMsUUFBQSxnQkFBQSxFQUNBekMsRUFBQXVDLE1BQUFDLFVBQUFDLFFBQUEsZ0JBQUEsRUFDQXpDLEVBQUF1QyxNQUFBQyxVQUFBQyxRQUFBLGVBQUEsRUFFQXpDLEVBQUF1QyxNQUFBTSxNQUFBSixRQUFBLHlCQUFBLEVBQ0F6QyxFQUFBdUMsTUFBQU0sTUFBQUosUUFBQSx5QkFBQSxFQUNBekMsRUFBQXVDLE1BQUFNLE1BQUFKLFFBQUEsd0JBQUEsRUFHQSxRQUFBdUQsR0FBQU4sR0FFQSxNQUFBLElBQUFPLFNBQUEsU0FBQUMsRUFBQUMsR0FFQVgsRUFBQVEsZ0JBQUFOLEdBQUFVLEtBQUEsU0FBQUMsR0FDQXRHLEVBQUEwRSxLQUFBLG9CQUFBNEIsR0FDQUgsRUFBQUcsS0FGQWIsU0FHQSxTQUFBYyxHQUNBdkcsRUFBQTBFLEtBQUEsaUJBQUE2QixHQUNBSCxFQUFBRyxPQTNEQSxHQUFBdEcsR0FBQUMsSUFHQUQsR0FBQXVHLFVBQUFqRSxFQUFBa0UsZ0JBRUF4RyxFQUFBdUMsT0FDQUMsV0FDQUMsUUFBQUgsRUFBQUksWUFBQSxhQUNBQyxPQUFBTCxFQUFBTSxXQUFBLGNBRUFDLE9BQ0FKLFFBQUFILEVBQUFJLFlBQUEsU0FDQUMsT0FBQUwsRUFBQU0sV0FBQSxlQXNEQTVDLEVBQUE4QyxTQUFBLFNBQUE0QyxHQUtBMUYsRUFBQXVHLFVBQUFFLFlBS0FoQixFQUFBQyxJQUlBRyxJQUdBRyxFQUFBTixHQUFBVSxLQUFBLFNBQUFDLEdBR0FyRyxFQUFBNkIsU0FBQXdFLEVBQUFoQixRQUFBMUQsS0FDQTNCLEVBQUE2RSxRQUFBd0IsRUFBQWhCLFFBQUE5QyxNQUdBZ0QsRUFBQW1CLFdBUEFWLFNBU0EsU0FBQU0sR0FDQXZHLEVBQUEwRSxLQUFBLHdCQUlBekUsRUFBQXVFLHFCQUFBb0MsTUFBQSxRQUFBQyxJQUFBNUcsRUFBQTZHLE9BR0FkLE1BT0EvRixFQUFBOEcsT0FBQSxTQUFBcEIsR0FFQTFGLEVBQUF1RyxVQUFBRSxXQUFBLEVBRUF6RyxFQUFBOEMsU0FBQTRDLElyQml1QklsRyxFQUFTYSxTQUFXLFFBQVMsS0FBTSxPQUFRLE9xQngyQi9DLElBQUFDLElBQ0FDLFNBQUEsT0FDQUMsWUFBQSx5Q0FDQUMsU0FBQSxFQUNBaEIsT0FDQXNILFNBQUEsSUFDQUYsSUFBQSxJQUNBaEYsU0FBQSxJQUNBZ0QsUUFBQSxJQUNBTixrQkFBQSxLQUVBMUQsS0FBQXJCLEVBQ0FzQixXQUFBd0UsRUFDQXZFLGFBQUEsS0FDQUMsa0JBQUEsRUE4SEEsT0F2SEFzRSxHQUFBakYsU0FBQSxTQUFBLE9BQUEsYUFBQSxTQUFBLGFBdUhBQyxFQ2xKQSxRQUFBMEcsd0JBQUFqSCxJQ0FBLFFBQUFrSCxtQkFBQW5ILEVBQUFDLEVBQUFtSCxFQUFBM0IsRUFBQTRCLEVBQUEzQixHQWdDQSxRQUFBNEIsS0FHQTVCLEVBQUE2QixjQUFBakIsS0FBQSxTQUFBQyxHQUVBckcsRUFBQXNILE1BQUFDLEtBQUFDLFNBQUFuQixFQUFBb0IsS0FGQWpDLFNBR0EsU0FBQWtDLE1BbkNBLEdBQUExSCxHQUFBQyxJQUNBRCxHQUFBc0gsTUFBQUgsRUFHQXJILEVBQUE2SCxPQUFBLGdDQUFBLFNBQUFDLEVBQUFDLEdBQ0E3SCxFQUFBc0gsTUFBQTFHLHNCQUFBWixFQUFBc0gsTUFBQVEsUUFBQXBILFFBQUFtRyxJQUFBZSxLQUdBOUgsRUFBQTZILE9BQUEsaUNBQUEsU0FBQUMsRUFBQUMsR0FDQTdILEVBQUFzSCxNQUFBMUcsc0JBQUFaLEVBQUFzSCxNQUFBUSxRQUFBcEgsUUFBQWlCLEtBQUFpRyxLQUdBOUgsRUFBQTZILE9BQUEsa0NBQUEsU0FBQUMsRUFBQUMsR0FDQTdILEVBQUFzSCxNQUFBMUcsc0JBQUFaLEVBQUFzSCxNQUFBUSxRQUFBcEgsUUFBQTZCLE1BQUFxRixLQUdBOUgsRUFBQTZILE9BQUEsb0NBQUEsU0FBQUMsRUFBQUMsR0FDQTdILEVBQUFzSCxNQUFBMUcsc0JBQUFaLEVBQUFzSCxNQUFBUSxRQUFBcEgsUUFBQXFILFFBQUFILEtBR0E5SCxFQUFBNkgsT0FBQSxvQ0FBQSxTQUFBQyxFQUFBQyxHQUNBN0gsRUFBQXNILE1BQUExRyxzQkFBQVosRUFBQXNILE1BQUFRLFFBQUFwSCxRQUFBc0gsUUFBQUosS0FHQTlILEVBQUE2SCxPQUFBLG9DQUFBLFNBQUFDLEVBQUFDLEdBQ0E3SCxFQUFBc0gsTUFBQTFHLHNCQUFBWixFQUFBc0gsTUFBQVEsUUFBQXBILFFBQUF1SCxRQUFBTCxLQWlCQTVILEVBQUFZLG9CQUFBLFNBQUFULEdBRUFBLEVBQUFILEVBQUFzSCxNQUFBUSxRQUFBcEgsUUFBQVYsRUFBQXNILE1BQUFZLFNBQUF4SCxRQUNBVixFQUFBc0gsTUFBQVEsUUFBQXBILFFBQUF5RyxFQUFBVyxRQUFBcEgsU0FHQVYsRUFBQWlFLFdBQUEsU0FBQWpCLEdBQ0FqRCxFQUFBMEUsS0FBQSxhQUFBekIsR0FFQXdDLEVBQUEyQyxXQUFBbkksRUFBQXNILE9BQUFsQixLQUFBLFNBQUFDLEdBRUF0RyxFQUFBMEUsS0FBQTRCLEdBR0FhLEVBQUFrQixLQUFBLGtDQUNBN0MsRUFBQW1CLFdBTkFsQixTQVFBLFNBQUFjLEdBRUF2RyxFQUFBMEUsS0FBQTZCLEtBSUFZLEVBQUFrQixLQUFBLGdCQUtBaEIsSUN6RUEsUUFBQWlCLHNCQUFBdEksRUFBQXVJLElDQUEsUUFBQW5CLFdBQUFwSCxHQWlFQSxRQUFBd0ksR0FBQUMsSUFDQSxRQUFBQyxHQUFBRCxFQUFBeEYsSUFDQSxRQUFBMEYsR0FBQUYsSUFDQSxRQUFBRyxHQUFBSCxFQUFBeEYsSUFsRUEsR0FBQTRGLElBQ0E1RyxNQUNBaUIsTUFBQSxHQUNBRyxLQUFBLElBRUFuQixNQUFBLEdBQ0FyQixxQkFBQSxFQUNBaUksU0FDQW5GLE1BQUEsS0FFQW9GLE9BQ0FyRixJQUFBLEVBQ0FrQixNQUNBbkIsU0FBQSxJQUNBdUYsSUFBQSxFQUNBQyxXQUNBQyxjQUNBQyxXQUFBLEdBRUFDLE1BQUEsSUFHQWpCLFVBQ0F4SCxTQUNBcUgsUUFBQSxHQUNBQyxRQUFBLEdBQ0FDLFFBQUEsR0FDQXRHLEtBQUEsR0FDQVksTUFBQSxHQUNBc0UsSUFBQSxJQUVBbkMsY0FDQTBFLFdBQUEsUUFFQXpFLE1BQ0EwRSxPQUFBLEVBQ0FDLFNBQUEsUUFHQXhCLFNBQ0FwSCxTQUNBcUgsUUFBQSxHQUNBQyxRQUFBLEdBQ0FDLFFBQUEsR0FDQXRHLEtBQUEsR0FDQVksTUFBQSxHQUNBc0UsSUFBQSxJQUVBbEcsU0FDQTRJLFFBQUEsR0FBQSxHQUFBLEdBQUEsSUFDQUMsS0FBQSxHQUFBLElBQ0FDLElBQUEsS0FHQWxDLE1BQ0FDLFNBQUEsSUFFQWUsTUFBQUEsRUFDQUUsUUFBQUEsRUFDQUMsU0FBQUEsRUFDQUMsV0FBQUEsRUFRQSxPQUFBQyxHQ3RFQSxRQUFBYyxjQUFBM0osR0FFQSxHQUFBNEosSUFDQXJDLE9BQ0FzQyxzQkFBQSxFQUNBQyxVQUNBaEgsT0FDQTJGLE1BQ0F4RyxLQUFBLEdBQ0EwQyxpQkFFQW5DLE9BQ0F1SCxXQUFBLEVBQ0FDLFNBQUEsRUFDQUMsU0FBQSxLQUlBdkgsU0FDQXdILGNBQUEsRUFDQUMsZUFBQSxFQUNBQyxlQUFBLEVBQ0FDLGNBQUEsRUFDQUMsc0JBQUEsRUFDQUMsZ0JBQUEsRUFDQUMsd0JBQUEsRUFDQUMsd0JBQUEsRUFDQUMsdUJBQUEsRUFDQUMseUJBQUEsRUFDQUMsYUFBQSxFQUNBQyxjQUFBLEdBRUFqSSxVQUdBa0ksYUFDQUMsYUFBQSxHQUNBQyxZQUFBLElBT0EsT0FBQXBCLEdDOUNBLFFBQUFxQixRQUFBQyxHQUNBQSxFQUVBQyxLQUFBLEtBQ0ExSyxZQUFBLHdCQUNBTSxXQUFBLG9CQUNBQyxhQUFBLE9BRUFtSyxLQUFBLGVBQ0ExSyxZQUFBLHVCQUNBTSxXQUFBLHVCQUNBQyxhQUFBLE9BRUFtSyxLQUFBLGlCQUNBMUssWUFBQSx5QkFDQU0sV0FBQSx5QkFDQUMsYUFBQSxPQ2RBLFFBQUF5RSxRQUFBekYsRUFBQW9MLEdBQ0EsR0FBQUMsR0FBQW5MLElBR0FtTCxHQUFBQyxLQUFBLFNBQUFDLEdBRUEsTUFBQSxJQUFBckYsU0FBQSxTQUFBQyxFQUFBQyxHQUVBZ0YsRUFBQUksSUFBQUQsR0FBQWxGLEtBQUEsU0FBQUMsR0FJQUgsRUFBQUcsRUFBQW1GLE9BRUEsU0FBQWxGLEdBRUFILEVBQUFHLFFBU0E4RSxFQUFBSyxNQUFBLFNBQUFILEVBQUFFLEVBQUFSLEdBS0EsTUFIQWpMLEdBQUEwRSxLQUFBLE1BQUE2RyxFQUFBLE9BQUFFLEdBR0EsR0FBQXZGLFNBQUEsU0FBQUMsRUFBQUMsR0FFQWdGLEVBQUFPLEtBQUFKLEVBQUFFLEVBQUFSLEdBQUE1RSxLQUFBLFNBQUFDLEdBRUFILEVBQUFHLElBRUEsU0FBQUMsR0FFQUgsRUFBQUcsUUFTQThFLEVBQUEvRCxZQUFBLFdBR0EsTUFBQSxJQUFBcEIsU0FBQSxTQUFBQyxFQUFBQyxHQUVBaUYsRUFBQUMsS0FBQSxpQkFBQWpGLEtBQUEsU0FBQUMsR0FFQUgsRUFBQUcsS0FGQStFLFNBR0EsU0FBQTFELEdBQ0F2QixFQUFBdUIsUUFRQTBELEVBQUFwRixnQkFBQSxTQUFBTixHQUdBLEdBQUE0RixHQUFBLGlCQUFBNUYsQ0FHQSxPQUFBLElBQUFPLFNBQUEsU0FBQUMsRUFBQUMsR0FHQWlGLEVBQUFDLEtBQUFDLEdBQUFsRixLQUFBLFNBQUFDLEdBR0FILEVBQUFHLEtBSEErRSxTQUtBLFNBQUE5RSxHQUdBSCxFQUFBRyxRQVFBOEUsRUFBQWpELFdBQUEsU0FBQXdELEdBRUE1TCxFQUFBMEUsS0FBQSxrQkFHQSxJQUFBdUcsSUFDQVksZUFBQSxtREFJQSxPQUFBLElBQUEzRixTQUFBLFNBQUFDLEVBQUFDLEdBR0FpRixFQUFBSyxNQUFBLGFBQUFFLEVBQUFYLEdBQUE1RSxLQUFBLFNBQUFDLEdBR0FILEVBQUFHLEtBSEErRSxTQUtBLFNBQUE5RSxHQUVBSCxFQUFBRyxRQzdHQSxRQUFBaEUsV0FBQXZDLEdBQ0EsR0FBQXdDLEdBQUF0QyxJQUVBc0MsR0FBQWdFLFdBQ0FFLFdBQUEsRUFDQW9GLFlBQUEsRUFDQUMsUUFBQSxHQUdBdkosRUFBQUUsU0FDQUQsV0FDQTBILGVBQUEsRUFDQUMsZUFBQSxFQUNBQyxjQUFBLEdBRUF2SCxPQUNBMEgsd0JBQUEsRUFDQUMsd0JBQUEsRUFDQUMsdUJBQUEsSUFJQWxJLEVBQUFJLFFBQ0FILGFBQ0FLLFVBR0FOLEVBQUFpRSxjQUFBLFdBQ0EsTUFBQWpFLEdBQUFnRSxXQUdBaEUsRUFBQUcsWUFBQSxTQUFBcUosR0FDQSxNQUFBeEosR0FBQUUsUUFBQXNKLElBR0F4SixFQUFBSyxXQUFBLFNBQUFtSixHQUNBLE1BQUF4SixHQUFBSSxPQUFBb0osSUFHQXhKLEVBQUF1RCxZQUFBLFNBQUFpRyxFQUFBL0ksR0FDQSxHQUFBZ0osR0FBQXpKLEVBQUFFLFFBQUFzSixFQWNBLE9BWkFFLFFBQUFDLEtBQUFGLEdBQUFHLFFBQUEsU0FBQUMsR0FDQSxHQUFBQyxHQUFBRCxFQUFBRSxNQUFBLElBRUFELEdBQUFGLFFBQUEsU0FBQUksR0FDQUEsR0FBQXZKLEVBQUFnSixFQUFBSSxJQUFBLEVBQ0FKLEVBQUFJLElBQUEsTUFPQUosRzdCNURBaEIsT0FBTzNLLFNBQVcsaUI4QkFsQixJQUFBbU0sWUFBQUMsUUFBQUMsT0FBQSxjQUFBLFc3Qk1BRCxTQUNBQyxPQUFBLGNBQ0FwTSxVQUFBLGNBQUFmLGFDRkFrTixRQUNBQyxPQUFBLGNBQ0FwTSxVQUFBLFFBQUFXLE9DRkF3TCxRQUNBQyxPQUFBLGNBQ0FwTSxVQUFBLFlBQUFhLFdDRkFzTCxRQUNBQyxPQUFBLGNBQ0FwTSxVQUFBLFFBQUFlLE9DRkFvTCxRQUNBQyxPQUFBLGNBQ0FwTSxVQUFBLFNBQUFpQixRQ0ZBa0wsUUFDQUMsT0FBQSxjQUNBcE0sVUFBQSxXQUFBbUIsVUNGQWdMLFFBQ0FDLE9BQUEsY0FDQXBNLFVBQUEsT0FBQXFCLE1DRkE4SyxRQUNBQyxPQUFBLGNBQ0FwTSxVQUFBLGNBQUF3QixhQ0ZBMkssUUFDQUMsT0FBQSxjQUNBcE0sVUFBQSxlQUFBNEIsY0NGQXVLLFFBQ0FDLE9BQUEsY0FDQXBNLFVBQUEsWUFBQThCLFdDRkFxSyxRQUNBQyxPQUFBLGNBQ0FwTSxVQUFBLFdBQUE0QyxVQ0ZBdUosUUFDQUMsT0FBQSxjQUNBcE0sVUFBQSxtQkFBQStDLGtCQ0ZBb0osUUFDQUMsT0FBQSxjQUNBcE0sVUFBQSxjQUFBdUQsYUNGQTRJLFFBQ0FDLE9BQUEsY0FDQXBNLFVBQUEsY0FBQXlELGFDRkEwSSxRQUNBQyxPQUFBLGNBQ0FwTSxVQUFBLHFCQUFBNEQsb0JDRkF1SSxRQUNBQyxPQUFBLGNBQ0FwTSxVQUFBLGVBQUErRCxjQ0ZBb0ksUUFDQUMsT0FBQSxjQUNBcE0sVUFBQSxRQUFBaUMsT0NGQWtLLFFBQ0FDLE9BQUEsY0FDQXBNLFVBQUEsU0FBQXdFLFFDRkEySCxRQUNBQyxPQUFBLGNBQ0FwTSxVQUFBLFVBQUEyRSxTQ0ZBd0gsUUFDQUMsT0FBQSxjQUNBcE0sVUFBQSxXQUFBNkUsVUNGQXNILFFBQ0FDLE9BQUEsY0FDQXBNLFVBQUEsVUFBQStFLFNDVEFvSCxRQUNBQyxPQUFBLGNBQ0E1TCxXQUFBLHlCQUFBa0csd0JBRUFBLHVCQUFBM0csU0FBQSxRQ0pBb00sUUFDQUMsT0FBQSxjQUNBNUwsV0FBQSxvQkFBQW1HLG1CQUVBQSxrQkFBQTVHLFNBQUEsU0FBQSxPQUFBLFlBQUEsYUFBQSxZQUFBLFVDSkFvTSxRQUNBQyxPQUFBLGNBQ0E1TCxXQUFBLHVCQUFBdUgsc0JBRUFBLHFCQUFBaEksU0FBQSxPQUFBLFFDSkFvTSxRQUNBQyxPQUFBLGNBQ0FDLFFBQUEsWUFBQXhGLFdBRUFBLFVBQUE5RyxTQUFBLFFDSkFvTSxRQUNBQyxPQUFBLGNBQ0FDLFFBQUEsZUFBQWpELGNBRUFBLGFBQUFySixTQUFBLFFDSkFvTSxRQUNBQyxPQUFBLGNBQ0ExQixPQUFBQSxRQ0ZBeUIsUUFDQUMsT0FBQSxjQUNBRSxRQUFBLFNBQUFwSCxRQUVBQSxPQUFBbkYsU0FBQSxPQUFBLFNDSkFvTSxRQUNBQyxPQUFBLGNBQ0FFLFFBQUEsWUFBQXRLLFdBRUFBLFVBQUFqQyxTQUFBIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIE1PRFVMRVxuY29uZmlnLiRpbmplY3QgPSBbXCIkcm91dGVQcm92aWRlclwiXTtcbnZhciB0cnVtcHNOdXRzID0gYW5ndWxhci5tb2R1bGUoJ3RydW1wc051dHMnLCBbJ25nUm91dGUnXSk7XG5cblxuLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgndHJ1bXBzTnV0cycpXG5cdC5kaXJlY3RpdmUoJ2JpbGxpbmdJbmZvJywgYmlsbGluZ0luZm8pO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGJpbGxpbmdJbmZvKCkge1xuICAgIGxpbmtGdW5jLiRpbmplY3QgPSBbXCJzY29wZVwiLCBcImVsXCIsIFwiYXR0clwiLCBcImN0cmxcIl07XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvYmlsbGluZ0luZm8uZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge1xuXHRcdFx0YWRkcmVzczogJz0nLFxuXHRcdFx0cGF5bWVudDogJz0nLFxuXHRcdFx0Y29weVNoaXBwaW5nQWRkcmVzczogJz0nLFxuXHRcdFx0Y29weVNoaXBwaW5nOiAnJidcblx0XHR9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IGJpbGxpbmdJbmZvQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIGJpbGxpbmdJbmZvQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGJpbGxpbmdJbmZvQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0ICAgIC8vdmlldyBtb2RlbCBtZXRob2RzXG5cdCAgICB2bS50b2dnbGVBZGRyZXNzQ29weSA9IGZ1bmN0aW9uKGJ0blN0YXRlKSB7XG5cblx0ICAgIFx0dm0uY29weVNoaXBwaW5nKCkoYnRuU3RhdGUpO1xuXG5cdCAgICB9XG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07XG4vKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCd0cnVtcHNOdXRzJylcblx0LmRpcmVjdGl2ZSgnY2NDU1YnLCBjY0NTVik7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gY2NDU1YoKSB7XG4gICAgbGlua0Z1bmMuJGluamVjdCA9IFtcInNjb3BlXCIsIFwiZWxcIiwgXCJhdHRyXCIsIFwiY3RybFwiXTtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9jY0NTVi5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBjY0NTVkNvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBjY0NTVkNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBjY0NTVkNvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07XG4vKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCd0cnVtcHNOdXRzJylcblx0LmRpcmVjdGl2ZSgnY2NDYXB0dXJlJywgY2NDYXB0dXJlKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBjY0NhcHR1cmUoKSB7XG4gICAgbGlua0Z1bmMuJGluamVjdCA9IFtcInNjb3BlXCIsIFwiZWxcIiwgXCJhdHRyXCIsIFwiY3RybFwiXTtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9jY0NhcHR1cmUuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge30sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogY2NDYXB0dXJlQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIGNjQ2FwdHVyZUNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBjY0NhcHR1cmVDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59O1xuLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgndHJ1bXBzTnV0cycpXG5cdC5kaXJlY3RpdmUoJ2NjRXhwJywgY2NFeHApO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGNjRXhwKCkge1xuICAgIGxpbmtGdW5jLiRpbmplY3QgPSBbXCJzY29wZVwiLCBcImVsXCIsIFwiYXR0clwiLCBcImN0cmxcIl07XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvY2NFeHAuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge30sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogY2NFeHBDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgY2NFeHBDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gY2NFeHBDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59O1xuLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgndHJ1bXBzTnV0cycpXG5cdC5kaXJlY3RpdmUoJ2NjTmFtZScsIGNjTmFtZSk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gY2NOYW1lKCkge1xuICAgIGxpbmtGdW5jLiRpbmplY3QgPSBbXCJzY29wZVwiLCBcImVsXCIsIFwiYXR0clwiLCBcImN0cmxcIl07XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvY2NOYW1lLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHt9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IGNjTmFtZUNvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBjY05hbWVDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gY2NOYW1lQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTtcbi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ3RydW1wc051dHMnKVxuXHQuZGlyZWN0aXZlKCdjY051bWJlcicsIGNjTnVtYmVyKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBjY051bWJlcigpIHtcbiAgICBsaW5rRnVuYy4kaW5qZWN0ID0gW1wic2NvcGVcIiwgXCJlbFwiLCBcImF0dHJcIiwgXCJjdHJsXCJdO1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL2NjTnVtYmVyLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHt9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IGNjTnVtYmVyQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIGNjTnVtYmVyQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGNjTnVtYmVyQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTtcbi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ3RydW1wc051dHMnKVxuXHQuZGlyZWN0aXZlKCdjaXR5JywgY2l0eSk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gY2l0eSgpIHtcbiAgICBsaW5rRnVuYy4kaW5qZWN0ID0gW1wic2NvcGVcIiwgXCJlbFwiLCBcImF0dHJcIiwgXCJjdHJsXCJdO1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL2NpdHkuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge1xuXHRcdFx0Y2l0eU5hbWU6ICc9J1xuXHRcdH0sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogY2l0eUNvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBjaXR5Q29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGNpdHlDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59O1xuLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgndHJ1bXBzTnV0cycpXG5cdC5kaXJlY3RpdmUoJ2NvbnRhY3RJbmZvJywgY29udGFjdEluZm8pO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGNvbnRhY3RJbmZvKCkge1xuICAgIGxpbmtGdW5jLiRpbmplY3QgPSBbXCJzY29wZVwiLCBcImVsXCIsIFwiYXR0clwiLCBcImN0cmxcIl07XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvY29udGFjdEluZm8uZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge1xuXHRcdFx0bmFtZTogJz0nLFxuXHRcdFx0ZW1haWw6ICc9J1xuXHRcdH0sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogY29udGFjdEluZm9Db250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgY29udGFjdEluZm9Db250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gY29udGFjdEluZm9Db250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59O1xuLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgndHJ1bXBzTnV0cycpXG5cdC5kaXJlY3RpdmUoJ2VtYWlsQWRkcmVzcycsIGVtYWlsQWRkcmVzcyk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gZW1haWxBZGRyZXNzKCkge1xuICAgIGxpbmtGdW5jLiRpbmplY3QgPSBbXCJzY29wZVwiLCBcImVsXCIsIFwiYXR0clwiLCBcImN0cmxcIl07XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvZW1haWxBZGRyZXNzLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHRcdGVtYWlsOiAnPSdcblx0XHR9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IGVtYWlsQWRkcmVzc0NvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBlbWFpbEFkZHJlc3NDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gZW1haWxBZGRyZXNzQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTtcbi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ3RydW1wc051dHMnKVxuXHQuZGlyZWN0aXZlKCdmaXJzdE5hbWUnLCBmaXJzdE5hbWUpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGZpcnN0TmFtZSgpIHtcbiAgICBsaW5rRnVuYy4kaW5qZWN0ID0gW1wic2NvcGVcIiwgXCJlbFwiLCBcImF0dHJcIiwgXCJjdHJsXCJdO1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL2ZpcnN0TmFtZS5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7XG5cdFx0XHRmaXJzdDogJz0nXG5cdFx0fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBmaXJzdE5hbWVDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgZmlyc3ROYW1lQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZycsICdzdGF0ZURhdGEnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBmaXJzdE5hbWVDb250cm9sbGVyKCRzY29wZSwgJGxvZywgc3RhdGVEYXRhKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdCAgICAvLyRsb2cuaW5mbyhzdGF0ZSk7XG5cblx0ICAgIHZtLnN0YXRlID0ge1xuXHRcdCAgICBjb250YWluZXI6IHtcblx0XHQgICAgXHRjbGFzc2VzOiBzdGF0ZURhdGEuaW5pdENsYXNzZXMoJ2NvbnRhaW5lcicpLFxuXHRcdCAgICBcdHN0eWxlczogc3RhdGVEYXRhLmluaXRTdHlsZXMoJ2NvbnRhaW5lcicpXHQgICAgXHRcdFxuXHQgICAgXHR9LCBcblx0ICAgIFx0aW5wdXQ6IHtcblx0XHQgICAgXHRjbGFzc2VzOiBzdGF0ZURhdGEuaW5pdENsYXNzZXMoJ2lucHV0JyksXG5cdFx0ICAgIFx0c3R5bGVzOiBzdGF0ZURhdGEuaW5pdFN0eWxlcygnY29udGFpbmVyJylcblx0ICAgIFx0fVxuXHQgICAgfVxuXG5cdCAgICAvL3ZpZXcgbW9kZWwgbWV0aG9kc1xuXHQgICAgdm0udmFsaWRhdGUgPSBmdW5jdGlvbihmaWVsZCwgdmFsdWUpIHtcblx0ICAgIFx0XG5cdCAgICBcdC8vaWYodmFsdWUubGVuZ3RoID4gMSkgc3RhdGUuY2hhbmdlU3RhdGUuaW5wdXRTdWNjZXNzKClcblxuXHQgICAgfVxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59O1xuLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgndHJ1bXBzTnV0cycpXG5cdC5kaXJlY3RpdmUoJ2xhc3ROYW1lJywgbGFzdE5hbWUpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGxhc3ROYW1lKCkge1xuICAgIGxpbmtGdW5jLiRpbmplY3QgPSBbXCJzY29wZVwiLCBcImVsXCIsIFwiYXR0clwiLCBcImN0cmxcIl07XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvbGFzdE5hbWUuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge1xuXHRcdFx0bGFzdDogJz0nXG5cdFx0fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBsYXN0TmFtZUNvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBsYXN0TmFtZUNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBsYXN0TmFtZUNvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07XG4vKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCd0cnVtcHNOdXRzJylcblx0LmRpcmVjdGl2ZSgncHJvZHVjdFNlbGVjdGlvbicsIHByb2R1Y3RTZWxlY3Rpb24pO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHByb2R1Y3RTZWxlY3Rpb24oKSB7XG4gICAgbGlua0Z1bmMuJGluamVjdCA9IFtcInNjb3BlXCIsIFwiZWxcIiwgXCJhdHRyXCIsIFwiY3RybFwiXTtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9wcm9kdWN0U2VsZWN0aW9uLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHRcdHF0eTogJz0nLFxuXHRcdFx0cHJpY2U6ICc9Jyxcblx0XHRcdHN1YnRvdGFsOiAnPSdcblx0XHR9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IHByb2R1Y3RTZWxlY3Rpb25Db250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgcHJvZHVjdFNlbGVjdGlvbkNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBwcm9kdWN0U2VsZWN0aW9uQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0ICAgIC8vcHJpdmF0ZSBtZXRob2RzXG5cblxuXHQgICAgLy92aWV3IG1vZGVsIG1ldGhvZHNcblx0ICAgIHZtLmNhbGN1bGF0ZVN1YnRvdGFsID0gZnVuY3Rpb24oKSB7XG5cdCAgICBcdHZtLnN1YnRvdGFsID0gdm0ucXR5ICogdm0ucHJpY2U7XG5cdCAgICB9XG5cblx0ICAgXHR2bS5kZWNyZW1lbnQgPSBmdW5jdGlvbigpIHtcblx0ICAgIFx0aWYodm0ucXR5ID4gMSkgdm0ucXR5ID0gdm0ucXR5IC0gMTtcblxuXHQgICAgXHR2bS5jYWxjdWxhdGVTdWJ0b3RhbCgpO1xuXHQgICAgfVxuXG5cdCAgICB2bS5pbmNyZW1lbnQgPSBmdW5jdGlvbigpIHtcblx0ICAgIFx0dm0ucXR5ID0gdm0ucXR5ICsgMTtcblxuXHQgICAgXHR2bS5jYWxjdWxhdGVTdWJ0b3RhbCgpO1xuXHQgICAgfVxuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07XG4vKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCd0cnVtcHNOdXRzJylcblx0LmRpcmVjdGl2ZSgncHJvZ3Jlc3NCYXInLCBwcm9ncmVzc0Jhcik7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gcHJvZ3Jlc3NCYXIoKSB7XG4gICAgbGlua0Z1bmMuJGluamVjdCA9IFtcInNjb3BlXCIsIFwiZWxcIiwgXCJhdHRyXCIsIFwiY3RybFwiXTtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9wcm9ncmVzc0Jhci5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBwcm9ncmVzc0JhckNvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBwcm9ncmVzc0JhckNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBwcm9ncmVzc0JhckNvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07XG4vKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCd0cnVtcHNOdXRzJylcblx0LmRpcmVjdGl2ZSgncHVyY2hhc2VCdG4nLCBwdXJjaGFzZUJ0bik7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gcHVyY2hhc2VCdG4oKSB7XG4gICAgbGlua0Z1bmMuJGluamVjdCA9IFtcInNjb3BlXCIsIFwiZWxcIiwgXCJhdHRyXCIsIFwiY3RybFwiXTtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9wdXJjaGFzZUJ0bi5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7XG5cdFx0XHRzdWJtaXRGb3JtOiAnJidcblx0XHR9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IHB1cmNoYXNlQnRuQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIHB1cmNoYXNlQnRuQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIHB1cmNoYXNlQnRuQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTtcbi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ3RydW1wc051dHMnKVxuXHQuZGlyZWN0aXZlKCdzaGlwcGluZ0NhbGN1bGF0b3InLCBzaGlwcGluZ0NhbGN1bGF0b3IpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHNoaXBwaW5nQ2FsY3VsYXRvcigpIHtcbiAgICBsaW5rRnVuYy4kaW5qZWN0ID0gW1wic2NvcGVcIiwgXCJlbFwiLCBcImF0dHJcIiwgXCJjdHJsXCJdO1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL3NoaXBwaW5nQ2FsY3VsYXRvci5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7XG5cdFx0XHRzZXJ2aWNlQ2xhc3M6ICc9J1xuXHRcdH0sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogc2hpcHBpbmdDYWxjdWxhdG9yQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIHNoaXBwaW5nQ2FsY3VsYXRvckNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBzaGlwcGluZ0NhbGN1bGF0b3JDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHQgICAgXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07XG4vKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCd0cnVtcHNOdXRzJylcblx0LmRpcmVjdGl2ZSgnc2hpcHBpbmdJbmZvJywgc2hpcHBpbmdJbmZvKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBzaGlwcGluZ0luZm8oKSB7XG4gICAgbGlua0Z1bmMuJGluamVjdCA9IFtcInNjb3BlXCIsIFwiZWxcIiwgXCJhdHRyXCIsIFwiY3RybFwiXTtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9zaGlwcGluZ0luZm8uZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge1xuXHRcdFx0YWRkcmVzczogJz0nLFxuXHRcdFx0cmVxdWlybm1lbnRzOiAnPScsXG5cdFx0XHRjb3N0OiAnPSdcblx0XHR9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IHNoaXBwaW5nSW5mb0NvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBzaGlwcGluZ0luZm9Db250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gc2hpcHBpbmdJbmZvQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0ICAgIC8vJGxvZy5pbmZvKCd2bS5yZXF1aXJubWVudHMnLCB2bS5yZXF1aXJubWVudHMsICd2bS5jb3N0Jywgdm0uY29zdCk7XG5cdCAgICAvL3ZpZXcgbW9kZWwgbWV0aG9kc1xuXHQgICAgdm0uY2FsY3VsYXRlU2hpcHBpbmcgPSBmdW5jdGlvbih6aXBQb2ludHMpIHtcblx0ICAgIFx0JGxvZy5pbmZvKCdjYWxjdWxhdGluZyB0aGUgaW5mbyBub3cnLCB6aXBQb2ludHMpO1xuXHQgICAgfVxuXG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTtcbi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ3RydW1wc051dHMnKVxuXHQuZGlyZWN0aXZlKCdzdGF0ZScsIHN0YXRlKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBzdGF0ZSgpIHtcbiAgICBsaW5rRnVuYy4kaW5qZWN0ID0gW1wic2NvcGVcIiwgXCJlbFwiLCBcImF0dHJcIiwgXCJjdHJsXCJdO1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL3N0YXRlLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHRcdHN0YXRlSWQ6ICc9J1xuXHRcdH0sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogc3RhdGVDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgc3RhdGVDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gc3RhdGVDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59O1xuLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgndHJ1bXBzTnV0cycpXG5cdC5kaXJlY3RpdmUoJ3N0cmVldCcsIHN0cmVldCk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gc3RyZWV0KCkge1xuICAgIGxpbmtGdW5jLiRpbmplY3QgPSBbXCJzY29wZVwiLCBcImVsXCIsIFwiYXR0clwiLCBcImN0cmxcIl07XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvc3RyZWV0LmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHRcdHN0cmVldEFkZHJlc3M6ICc9J1xuXHRcdH0sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogc3RyZWV0Q29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIHN0cmVldENvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBzdHJlZXRDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59O1xuLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgndHJ1bXBzTnV0cycpXG5cdC5kaXJlY3RpdmUoJ3Rvb2xCYXInLCB0b29sQmFyKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiB0b29sQmFyKCkge1xuICAgIGxpbmtGdW5jLiRpbmplY3QgPSBbXCJzY29wZVwiLCBcImVsXCIsIFwiYXR0clwiLCBcImN0cmxcIl07XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvdG9vbEJhci5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBUb29sQmFyQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIFRvb2xCYXJDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gVG9vbEJhckNvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07XG4vKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCd0cnVtcHNOdXRzJylcblx0LmRpcmVjdGl2ZSgneW91ck5hbWUnLCB5b3VyTmFtZSk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24geW91ck5hbWUoKSB7XG4gICAgbGlua0Z1bmMuJGluamVjdCA9IFtcInNjb3BlXCIsIFwiZWxcIiwgXCJhdHRyXCIsIFwiY3RybFwiXTtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy95b3VyTmFtZS5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7XG5cdFx0XHRuYW1lOiAnPSdcblx0XHR9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IHlvdXJOYW1lQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIHlvdXJOYW1lQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIHlvdXJOYW1lQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTtcbi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ3RydW1wc051dHMnKVxuXHQuZGlyZWN0aXZlKCd6aXBDb2RlJywgemlwQ29kZSk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gemlwQ29kZSgpIHtcbiAgICBsaW5rRnVuYy4kaW5qZWN0ID0gW1wic2NvcGVcIiwgXCJlbFwiLCBcImF0dHJcIiwgXCJjdHJsXCJdO1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL3ppcENvZGUuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge1xuXHRcdFx0dW5pcXVlSWQ6ICc9Jyxcblx0XHRcdHppcDogJz0nLFxuXHRcdFx0Y2l0eU5hbWU6ICc9Jyxcblx0XHRcdHN0YXRlSWQ6ICc9Jyxcblx0XHRcdGNhbGN1bGF0ZVNoaXBwaW5nOiAnJidcblx0XHR9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IHppcENvZGVDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgemlwQ29kZUNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnLCAnJHJvb3RTY29wZScsICdzZXJ2ZXInLCAnc3RhdGVEYXRhJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gemlwQ29kZUNvbnRyb2xsZXIoJHNjb3BlLCAkbG9nLCAkcm9vdFNjb3BlLCBzZXJ2ZXIsIHN0YXRlRGF0YSkge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHQgICAgLy9kZWZpbmUgdmlld21vZGVsIHZhcmlhYmxlc1xuXHQgICAgdm0udmFsU3RhZ2VzID0gc3RhdGVEYXRhLmluaXRWYWxTdGFnZXMoKTtcblxuXHQgICAgdm0uc3RhdGUgPSB7XG5cdFx0ICAgIGNvbnRhaW5lcjoge1xuXHRcdCAgICBcdGNsYXNzZXM6IHN0YXRlRGF0YS5pbml0Q2xhc3NlcygnY29udGFpbmVyJyksXG5cdFx0ICAgIFx0c3R5bGVzOiBzdGF0ZURhdGEuaW5pdFN0eWxlcygnY29udGFpbmVyJylcdCAgICBcdFx0XG5cdCAgICBcdH0sIFxuXHQgICAgXHRpbnB1dDoge1xuXHRcdCAgICBcdGNsYXNzZXM6IHN0YXRlRGF0YS5pbml0Q2xhc3NlcygnaW5wdXQnKSxcblx0XHQgICAgXHRzdHlsZXM6IHN0YXRlRGF0YS5pbml0U3R5bGVzKCdjb250YWluZXInKVxuXHQgICAgXHR9XG5cdCAgICB9XG5cblx0ICAgIGZ1bmN0aW9uIGxvbmdFbm91Z2goemlwY29kZSkge1xuXHQgICAgXHR2YXIgZmxhZyA9IGZhbHNlO1xuXG5cdCAgICBcdC8vJGxvZy5pbmZvKCdjaGVjaW5nIGxlbmd0aCcsIHppcGNvZGUsIHppcGNvZGUubGVuZ3RoKTtcblxuXHQgICAgXHRpZih0eXBlb2YgemlwY29kZSAhPSAndW5kZWZpbmVkJylcblx0ICAgIFx0XHRpZih6aXBjb2RlLmxlbmd0aCA+PSA1KSBmbGFnID0gdHJ1ZTtcblxuXHQgICAgXHRyZXR1cm4gZmxhZztcblx0ICAgIH1cblxuXHQgICAgZnVuY3Rpb24gc3VjY2Vzc2lmeUlucHV0KCkgeyBcblx0ICAgIFx0Ly8kbG9nLmluZm8oJ3N1Y2Nlc3MnLCB2bS5zdGF0ZS5jb250YWluZXIpO1xuXHQgICAgXHR2bS5zdGF0ZS5jb250YWluZXIuY2xhc3NlcyA9IHN0YXRlRGF0YS51cGRhdGVTdGF0ZSgnY29udGFpbmVyJywgJ3N1Y2Nlc3MnKTtcblx0ICAgIFx0Ly92bS5zdGF0ZS5jb250YWluZXIuY2xhc3Nlc1snaGFzLXN1Y2Nlc3MnXSA9IHRydWU7XG5cdCAgICBcdC8vdm0uc3RhdGUuY29udGFpbmVyLmNsYXNzZXNbJ2hhcy13YXJuaW5nJ10gPSBmYWxzZTtcblx0ICAgIFx0Ly92bS5zdGF0ZS5jb250YWluZXIuY2xhc3Nlc1snaGFzLWRhbmdlciddID0gZmFsc2U7XG5cdCAgICBcdHZtLnN0YXRlLmlucHV0LmNsYXNzZXMgPSBzdGF0ZURhdGEudXBkYXRlU3RhdGUoJ2lucHV0JywgJ3N1Y2Nlc3MnKTtcblx0ICAgIFx0Ly92bS5zdGF0ZS5pbnB1dC5jbGFzc2VzWydmb3JtLWNvbnRyb2wtc3VjY2VzcyddID0gdHJ1ZTtcblx0ICAgIFx0Ly92bS5zdGF0ZS5pbnB1dC5jbGFzc2VzWydmb3JtLWNvbnRyb2wtd2FybmluZyddID0gZmFsc2U7XG5cdCAgICBcdC8vdm0uc3RhdGUuaW5wdXQuY2xhc3Nlc1snZm9ybS1jb250cm9sLWRhbmdlciddID0gZmFsc2U7XG5cdCAgICB9XG5cblx0ICAgIGZ1bmN0aW9uIGZhaWxpZnlJbnB1dCgpIHsgXG5cdCAgICBcdC8vJGxvZy5pbmZvKCdmYWlsZWQnKTtcblx0ICAgIFx0dm0uc3RhdGUuY29udGFpbmVyLmNsYXNzZXNbJ2hhcy1zdWNjZXNzJ10gPSBmYWxzZTtcblx0ICAgIFx0dm0uc3RhdGUuY29udGFpbmVyLmNsYXNzZXNbJ2hhcy13YXJuaW5nJ10gPSB0cnVlO1xuXHQgICAgXHR2bS5zdGF0ZS5jb250YWluZXIuY2xhc3Nlc1snaGFzLWRhbmdlciddID0gZmFsc2U7XG5cblx0ICAgIFx0dm0uc3RhdGUuaW5wdXQuY2xhc3Nlc1snZm9ybS1jb250cm9sLXN1Y2Nlc3MnXSA9IGZhbHNlO1xuXHQgICAgXHR2bS5zdGF0ZS5pbnB1dC5jbGFzc2VzWydmb3JtLWNvbnRyb2wtd2FybmluZyddID0gdHJ1ZTtcblx0ICAgIFx0dm0uc3RhdGUuaW5wdXQuY2xhc3Nlc1snZm9ybS1jb250cm9sLWRhbmdlciddID0gZmFsc2U7XG5cdCAgICB9XG5cblx0ICAgIGZ1bmN0aW9uIGNpdHlTdGF0ZUxvb2t1cCh6aXBjb2RlKSB7XG5cdFx0ICAgIFxuXHRcdCAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG5cblx0XHRcdCAgICBzZXJ2ZXIuY2l0eVN0YXRlTG9va3VwKHppcGNvZGUpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcblx0XHRcdCAgICBcdCRsb2cuaW5mbygnZ290IHRoaXMgcmVzcG9uc2UnLCByZXNwb25zZSk7XG5cdFx0XHQgICAgXHRyZXNvbHZlKHJlc3BvbnNlKTtcblx0XHRcdCAgICB9KS5jYXRjaChmdW5jdGlvbihlcnJvcikge1xuXHRcdFx0ICAgIFx0JGxvZy5pbmZvKCdnb3QgdGhpcyBlcnJvcicsIGVycm9yKTtcblx0XHRcdCAgICBcdHJlamVjdChlcnJvcik7XG5cdFx0XHQgICAgfSk7XG5cblx0XHQgICAgfSk7XG5cdCAgICBcdFxuXHQgICAgfVxuXG5cdCAgICB2bS52YWxpZGF0ZSA9IGZ1bmN0aW9uKHppcGNvZGUpIHtcblxuXHQgICAgXHQvLyRsb2cuaW5mbygndmFsaWRhdGluZyB6aXAnKTtcblxuXHQgICAgXHQvL29ubHkgdmFsaWRhdGUgaWYgdGhleSd2ZSB0cmllZCBhdCBsZWFzdCBvbmNlXG5cdCAgICBcdGlmKHZtLnZhbFN0YWdlcy5hdHRlbXB0ZWQpIHtcblxuXHQgICAgXHRcdC8vJGxvZy5pbmZvKCdjZWhja2luZyBsZW5ndGgnLCBsb25nRW5vdWdoKHppcGNvZGUpKTtcblxuXHQgICAgXHRcdC8vY2hlY2sgaWYgaXQncyBsb25nIGVub3VnaFxuXHQgICAgXHRcdGlmKGxvbmdFbm91Z2goemlwY29kZSkpIHtcblxuXHQgICAgXHRcdFx0Ly8kbG9nLmluZm8oJ2dvb2QgbGVuZ3RoLCBhY3RpbmcgYWNvcmRpbmdseScpO1xuXHQgICAgXHRcdFx0Ly9jaGFuZ2UgdGhlIGNsYXNzZXNcblx0ICAgIFx0XHRcdHN1Y2Nlc3NpZnlJbnB1dCgpO1xuXHQgICAgXHRcdFx0XG5cdCAgICBcdFx0XHQvL2dldCB0aGUgY2l0eSBhbmQgc3RhdGVcblx0ICAgIFx0XHRcdGNpdHlTdGF0ZUxvb2t1cCh6aXBjb2RlKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG5cdCAgICBcdFx0XHRcdC8vd2hlbiBzdWNjZXNzZnVsbHkgYXF1aXJlZCwgdXBkYXRlIHRoZSBtb2RlbFxuXHQgICAgXHRcdFx0XHQvLyRsb2cuaW5mbyhyZXNwb25zZSk7XG5cdCAgICBcdFx0XHRcdHZtLmNpdHlOYW1lID0gcmVzcG9uc2UuemlwQ29kZS5jaXR5O1xuXHQgICAgXHRcdFx0XHR2bS5zdGF0ZUlkID0gcmVzcG9uc2UuemlwQ29kZS5zdGF0ZTtcblxuXHQgICAgXHRcdFx0XHQvL2FmdGVyIHRoZSB2YWx1ZXMgaGF2ZSBiZWVuIHVwZGF0ZWQsIGFwcGx5IHRoZSB1cGRhdGVzXG5cdCAgICBcdFx0XHRcdCRyb290U2NvcGUuJGFwcGx5KCk7XG5cblx0ICAgIFx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7XG5cdCAgICBcdFx0XHRcdCRsb2cuaW5mbygndGhlcmUgd2FzIGFuIGVycm9yJyk7XG5cdCAgICBcdFx0XHR9KTtcblxuXHQgICAgXHRcdFx0Ly9jYWxjdWxhdGUgc2hpcHBpbmdcblx0ICAgIFx0XHRcdHZtLmNhbGN1bGF0ZVNoaXBwaW5nKCkoe3N0YXJ0OiAnOTcwMDUnLCBlbmQ6IHZtLnppcH0pO1xuXG5cdCAgICBcdFx0fSBlbHNlIHtcblx0ICAgIFx0XHRcdGZhaWxpZnlJbnB1dCgpO1xuXHQgICAgXHRcdH1cblxuXHQgICAgXHR9XG5cblx0ICAgIH1cblxuXHQgICAgdm0uc3VibWl0ID0gZnVuY3Rpb24oemlwY29kZSkge1xuXG5cdCAgICBcdHZtLnZhbFN0YWdlcy5hdHRlbXB0ZWQgPSB0cnVlO1xuXG5cdCAgICBcdHZtLnZhbGlkYXRlKHppcGNvZGUpO1xuXHQgICAgfVxuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07XG5hbmd1bGFyXG4gICAgLm1vZHVsZSgndHJ1bXBzTnV0cycpXG4gICAgLmNvbnRyb2xsZXIoJ2NvbmZpcm1hdGlvbkNvbnRyb2xsZXInLCBjb25maXJtYXRpb25Db250cm9sbGVyKTtcblxuY29uZmlybWF0aW9uQ29udHJvbGxlci4kaW5qZWN0ID0gWyckbG9nJ107XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gY29uZmlybWF0aW9uQ29udHJvbGxlcigkbG9nKSB7XG5cblx0Ly9kZWZpbmUgdmlldyBtb2RlbCB2YXJpYWJsZVxuXHR2YXIgdm0gPSB0aGlzO1xuXG59XHRcbmFuZ3VsYXJcbiAgICAubW9kdWxlKCd0cnVtcHNOdXRzJylcbiAgICAuY29udHJvbGxlcignbGFuZGluZ0NvbnRyb2xsZXInLCBsYW5kaW5nQ29udHJvbGxlcik7XG5cbmxhbmRpbmdDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJywgJyRsb2NhdGlvbicsICckcm9vdFNjb3BlJywgJ2RhdGFNb2RlbCcsICdzZXJ2ZXInXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBsYW5kaW5nQ29udHJvbGxlcigkc2NvcGUsICRsb2csICRsb2NhdGlvbiwgJHJvb3RTY29wZSwgZGF0YU1vZGVsLCBzZXJ2ZXIpIHtcblxuXHQvL2RlZmluZSB2aWV3IG1vZGVsIHZhcmlhYmxlXG5cdHZhciB2bSA9IHRoaXM7XG5cdHZtLm1vZGVsID0gZGF0YU1vZGVsO1xuXG5cdC8vd2F0Y2hlcnNcblx0JHNjb3BlLiR3YXRjaCgndm0ubW9kZWwuc2hpcHBpbmcuYWRkcmVzcy56aXAnLCBmdW5jdGlvbihjdXJyZW50LCBvcmlnaW5hbCkge1xuXHRcdGlmKHZtLm1vZGVsLmNvcHlTaGlwcGluZ0FkZHJlc3MpIHZtLm1vZGVsLmJpbGxpbmcuYWRkcmVzcy56aXAgPSBjdXJyZW50O1xuXHR9KTtcblx0XG5cdCRzY29wZS4kd2F0Y2goJ3ZtLm1vZGVsLnNoaXBwaW5nLmFkZHJlc3MuY2l0eScsIGZ1bmN0aW9uKGN1cnJlbnQsIG9yaWdpbmFsKSB7XG5cdFx0aWYodm0ubW9kZWwuY29weVNoaXBwaW5nQWRkcmVzcykgdm0ubW9kZWwuYmlsbGluZy5hZGRyZXNzLmNpdHkgPSBjdXJyZW50O1xuXHR9KTtcblx0XG5cdCRzY29wZS4kd2F0Y2goJ3ZtLm1vZGVsLnNoaXBwaW5nLmFkZHJlc3Muc3RhdGUnLCBmdW5jdGlvbihjdXJyZW50LCBvcmlnaW5hbCkge1xuXHRcdGlmKHZtLm1vZGVsLmNvcHlTaGlwcGluZ0FkZHJlc3MpIHZtLm1vZGVsLmJpbGxpbmcuYWRkcmVzcy5zdGF0ZSA9IGN1cnJlbnQ7XG5cdH0pO1xuXHRcblx0JHNjb3BlLiR3YXRjaCgndm0ubW9kZWwuc2hpcHBpbmcuYWRkcmVzcy5zdHJlZXQxJywgZnVuY3Rpb24oY3VycmVudCwgb3JpZ2luYWwpIHtcblx0XHRpZih2bS5tb2RlbC5jb3B5U2hpcHBpbmdBZGRyZXNzKSB2bS5tb2RlbC5iaWxsaW5nLmFkZHJlc3Muc3RyZWV0MSA9IGN1cnJlbnQ7XG5cdH0pO1xuXHRcblx0JHNjb3BlLiR3YXRjaCgndm0ubW9kZWwuc2hpcHBpbmcuYWRkcmVzcy5zdHJlZXQyJywgZnVuY3Rpb24oY3VycmVudCwgb3JpZ2luYWwpIHtcblx0XHRpZih2bS5tb2RlbC5jb3B5U2hpcHBpbmdBZGRyZXNzKSB2bS5tb2RlbC5iaWxsaW5nLmFkZHJlc3Muc3RyZWV0MiA9IGN1cnJlbnQ7XG5cdH0pO1x0XG5cdFxuXHQkc2NvcGUuJHdhdGNoKCd2bS5tb2RlbC5zaGlwcGluZy5hZGRyZXNzLnN0cmVldDMnLCBmdW5jdGlvbihjdXJyZW50LCBvcmlnaW5hbCkge1xuXHRcdGlmKHZtLm1vZGVsLmNvcHlTaGlwcGluZ0FkZHJlc3MpIHZtLm1vZGVsLmJpbGxpbmcuYWRkcmVzcy5zdHJlZXQzID0gY3VycmVudDtcblx0fSk7XHRcdFxuXG5cdC8vcHJpdmF0ZSBmdW5jdGlvbnNcblx0ZnVuY3Rpb24gaW5pdCgpIHtcblx0XHRcblx0XHQvL1RPRE86IE1PVkUgVEhJUyBUTyBST1VURVMgTEFURVJcblx0XHRzZXJ2ZXIuZ2V0U3FyQXBwSWQoKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG5cdFx0XHQvLyRsb2cuaW5mbygncmVzcG9uc2UnLCByZXNwb25zZS5pZCk7XG5cdFx0XHR2bS5tb2RlbC5hcGlzLnNxdWFyZUlkID0gcmVzcG9uc2UuaWQ7XG5cdFx0fSkuY2F0Y2goZnVuY3Rpb24oZXJyKSB7XG5cblx0XHR9KTtcblxuXHR9XG5cblx0Ly92aWV3IG1vZGVsIG1ldGhvZHNcblx0dm0uY29weVNoaXBwaW5nQWRkcmVzcyA9IGZ1bmN0aW9uKGJ0blN0YXRlKSB7XG5cdFx0Ly8kbG9nLmluZm8oJ2NvcHlpbmcnLCB2bS5tb2RlbC5zaGlwcGluZyk7XG5cdFx0aWYoYnRuU3RhdGUpIHZtLm1vZGVsLmJpbGxpbmcuYWRkcmVzcyA9IHZtLm1vZGVsLnNoaXBwaW5nLmFkZHJlc3M7XG5cdFx0ZWxzZSB2bS5tb2RlbC5iaWxsaW5nLmFkZHJlc3MgPSBkYXRhTW9kZWwuYmlsbGluZy5hZGRyZXNzO1xuXHR9XG5cblx0dm0uc3VibWl0Rm9ybSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG5cdFx0JGxvZy5pbmZvKCdzdWJtaXR0aW5nJywgdmFsdWUpO1xuXG5cdFx0c2VydmVyLnN1Ym1pdFNhbGUodm0ubW9kZWwpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcblxuXHRcdFx0JGxvZy5pbmZvKHJlc3BvbnNlKTtcblxuXHRcdFx0Ly93aGVuIHRoZSBwcm9taXNlIHJlc29sdmVzLCByZS1yb3V0ZSB0aGVtXG5cdFx0XHQkbG9jYXRpb24ucGF0aCgnL2NvbmZpcm1hdGlvbi8/dGVzaW5nPWdvb2RUZXN0Jyk7XG5cdFx0XHQkcm9vdFNjb3BlLiRhcHBseSgpO1xuXG5cdFx0fSkuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHtcblxuXHRcdFx0JGxvZy5pbmZvKGVycm9yKTtcblx0XHR9KTtcblxuXHRcdC8vdGFrZSB0aGVtIGltbWVkaWF0bHkgdG8gdGhlIHByb2Nlc3NpbmcgcGFnZVxuXHRcdCRsb2NhdGlvbi5wYXRoKCcvcHJvY2Vzc2luZycpO1xuXG5cdH1cblxuXHQvL3N0YXJ0IGNvbnRyb2xsZXJcblx0aW5pdCgpO1xuXG59XHRcbmFuZ3VsYXJcbiAgICAubW9kdWxlKCd0cnVtcHNOdXRzJylcbiAgICAuY29udHJvbGxlcigncHJvY2Vzc2luZ0NvbnRyb2xsZXInLCBwcm9jZXNzaW5nQ29udHJvbGxlcik7XG5cbnByb2Nlc3NpbmdDb250cm9sbGVyLiRpbmplY3QgPSBbJyRsb2cnLCAndGVzdCddO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHByb2Nlc3NpbmdDb250cm9sbGVyKCRsb2csIHRlc3QpIHtcblxuXHQvL2RlZmluZSB2aWV3IG1vZGVsIHZhcmlhYmxlXG5cdHZhciB2bSA9IHRoaXM7XG5cbn1cdFxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ3RydW1wc051dHMnKVxuICAgIC5mYWN0b3J5KCdkYXRhTW9kZWwnLCBkYXRhTW9kZWwpO1xuXG5kYXRhTW9kZWwuJGluamVjdCA9IFsnJGxvZyddO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGRhdGFNb2RlbCgkbG9nKSB7XG5cblx0dmFyIGRhdGFNb2RlbE9iamVjdCA9IHtcblx0XHRuYW1lOiB7XG5cdFx0XHRmaXJzdDogJycsXG5cdFx0XHRsYXN0OiAnJ1xuXHRcdH0sXG5cdFx0ZW1haWw6ICcnLFxuXHRcdGNvcHlTaGlwcGluZ0FkZHJlc3M6IHRydWUsXG5cdFx0cHJvZHVjdDoge1xuXHRcdFx0cHJpY2U6IDIwMDBcblx0XHR9LFxuXHRcdG9yZGVyOiB7XG5cdFx0XHRxdHk6IDEsXG5cdFx0XHRjb3N0OiB7XG5cdFx0XHRcdHN1YnRvdGFsOiAyMDAwLFxuXHRcdFx0XHR0YXg6IDAsXG5cdFx0XHRcdGRpc2NvdW50czoge1xuXHRcdFx0XHRcdHByb21vdGlvbnM6IFtdLFxuXHRcdFx0XHRcdHRvdGFsVmFsdWU6IDBcblx0XHRcdFx0fSxcblx0XHRcdFx0dG90YWw6IDBcblx0XHRcdH1cblx0XHR9LFxuXHRcdHNoaXBwaW5nOiB7XG5cdFx0XHRhZGRyZXNzOiB7XG5cdFx0XHRcdHN0cmVldDE6ICcnLFxuXHRcdFx0XHRzdHJlZXQyOiAnJyxcblx0XHRcdFx0c3RyZWV0MzogJycsXG5cdFx0XHRcdGNpdHk6ICcnLFxuXHRcdFx0XHRzdGF0ZTogJycsXG5cdFx0XHRcdHppcDogJydcblx0XHRcdH0sIFxuXHRcdFx0cmVxdWlybm1lbnRzOiB7XG5cdFx0XHRcdGlzUHJpb3JpdHk6ICd0cnVlJ1xuXHRcdFx0fSxcblx0XHRcdGNvc3Q6IHtcblx0XHRcdFx0YW1vdW50OiAwLFxuXHRcdFx0XHRjdXJyZW5jeTogJ1VTRCdcblx0XHRcdH1cblx0XHR9LFxuXHRcdGJpbGxpbmc6IHtcblx0XHRcdGFkZHJlc3M6IHtcblx0XHRcdFx0c3RyZWV0MTogJycsXG5cdFx0XHRcdHN0cmVldDI6ICcnLFxuXHRcdFx0XHRzdHJlZXQzOiAnJyxcblx0XHRcdFx0Y2l0eTogJycsXG5cdFx0XHRcdHN0YXRlOiAnJyxcblx0XHRcdFx0emlwOiAnJ1xuXHRcdFx0fSxcblx0XHRcdHBheW1lbnQ6IHtcblx0XHRcdFx0bnVtYmVyOiBbJycsICcnLCAnJywgJyddLFxuXHRcdFx0XHRleHA6IFsnJywgJyddLFxuXHRcdFx0XHRjc3Y6ICcnXG5cdFx0XHR9XG5cdFx0fSxcblx0XHRhcGlzOiB7XG5cdFx0XHRzcXVhcmVJZDogJydcblx0XHR9LFxuXHRcdF9yZWFkOl9yZWFkLFxuXHRcdF91cGRhdGU6X3VwZGF0ZSxcblx0XHRyZWFkUHJvcDpyZWFkUHJvcCxcblx0XHR1cGRhdGVQcm9wOnVwZGF0ZVByb3Bcblx0fTtcblxuXHRmdW5jdGlvbiBfcmVhZChwcm9wKSB7fVxuXHRmdW5jdGlvbiBfdXBkYXRlKHByb3AsIHZhbHVlKSB7fVxuXHRmdW5jdGlvbiByZWFkUHJvcChwcm9wKSB7fVxuXHRmdW5jdGlvbiB1cGRhdGVQcm9wKHByb3AsIHZhbHVlKSB7fVxuXG5cdHJldHVybiBkYXRhTW9kZWxPYmplY3Q7XG59XG5hbmd1bGFyXG4gICAgLm1vZHVsZSgndHJ1bXBzTnV0cycpXG4gICAgLmZhY3RvcnkoJ3N0YXRlRmFjdG9yeScsIHN0YXRlRmFjdG9yeSk7XG5cbnN0YXRlRmFjdG9yeS4kaW5qZWN0ID0gWyckbG9nJ107XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gc3RhdGVGYWN0b3J5KCRsb2cpIHtcblxuXHR2YXIgc3RhdGVPYmplY3QgPSB7XG5cdFx0bW9kZWw6IHtcblx0XHRcdGFsbEVsZW1lbnRzQ29tcGxldGVkOiBmYWxzZSxcblx0XHRcdGZpZWxkczogW10sXG5cdFx0XHRpbnB1dDoge1xuXHRcdFx0XHRwcm9wOiB7XG5cdFx0XHRcdFx0bmFtZTogJycsXG5cdFx0XHRcdFx0cmVxdWlybm1lbnRzOiBbXVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRzdGF0ZToge1xuXHRcdFx0XHRcdGFkZHJlc3NlZDogZmFsc2UsXG5cdFx0XHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRcdFx0ZmFpbHVyZTogZmFsc2Vcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sXG5cdFx0Y2xhc3Nlczoge1xuXHRcdFx0J2Zvcm0tZ3JvdXAnOiBmYWxzZSxcblx0XHRcdCdoYXMtc3VjY2Vzcyc6IGZhbHNlLFxuXHRcdFx0J2hhcy13YXJuaW5nJzogZmFsc2UsXG5cdFx0XHQnaGFzLWRhbmdlcic6IGZhbHNlLFxuXHRcdFx0J2Zvcm0tY29udHJvbC1sYWJlbCc6IGZhbHNlLFxuXHRcdFx0J2Zvcm0tY29udHJvbCc6IGZhbHNlLFxuXHRcdFx0J2Zvcm0tY29udHJvbC1zdWNjZXNzJzogZmFsc2UsXG5cdFx0XHQnZm9ybS1jb250cm9sLXdhcm5pbmcnOiBmYWxzZSxcblx0XHRcdCdmb3JtLWNvbnRyb2wtZGFuZ2VyJzogZmFsc2UsXG5cdFx0XHQnZm9ybS1jb250cm9sLWZlZWRiYWNrJzogZmFsc2UsXG5cdFx0XHQnZm9ybS10ZXh0JzogZmFsc2UsXG5cdFx0XHQndGV4dC1tdXRlZCc6IGZhbHNlXG5cdFx0fSxcblx0XHRzdHlsZXM6IHtcblxuXHRcdH0sXG5cdFx0Y2hhbmdlU3RhdGU6IHtcblx0XHRcdGlucHV0U3VjY2VzczogJycsXG5cdFx0XHRpbnB1dEZhaWxlZDogJydcblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiBpbnB1dFN1Y2Nlc3MoKSB7fVxuXHRmdW5jdGlvbiBpbnB1dEZhaWxlZCgpIHt9XG5cblx0cmV0dXJuIHN0YXRlT2JqZWN0O1xufVxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ3RydW1wc051dHMnKVxuICAgIC5jb25maWcoY29uZmlnKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBjb25maWcoJHJvdXRlUHJvdmlkZXIpIHsgICBcbiAgICAkcm91dGVQcm92aWRlclxuICAgIC8vZGVmaW5lIHRoZSBsYW5kaW5nIHBhZ2VcbiAgICAud2hlbignLycsIHtcbiAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9sYW5kaW5nUGFnZS5odG0nLFxuICAgICAgICBjb250cm9sbGVyOiAnbGFuZGluZ0NvbnRyb2xsZXInLFxuICAgICAgICBjb250cm9sbGVyQXM6ICd2bSdcbiAgICB9KVxuICAgIC53aGVuKCcvcHJvY2Vzc2luZycsIHtcbiAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9wcm9jZXNzaW5nLmh0bScsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdwcm9jZXNzaW5nQ29udHJvbGxlcicsXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJ1xuICAgIH0pXG4gICAgLndoZW4oJy9jb25maXJtYXRpb24nLCB7XG4gICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvY29uZmlybWF0aW9uLmh0bScsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdjb25maXJtYXRpb25Db250cm9sbGVyJyxcbiAgICAgICAgY29udHJvbGxlckFzOiAndm0nXG4gICAgfSk7XG59XG5cblxuXG5hbmd1bGFyXG4gICAgLm1vZHVsZSgndHJ1bXBzTnV0cycpXG4gICAgLnNlcnZpY2UoJ3NlcnZlcicsIHNlcnZlcik7XG5cbnNlcnZlci4kaW5qZWN0ID0gWyckbG9nJywgJyRodHRwJ107XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gc2VydmVyKCRsb2csICRodHRwKSB7XG5cdHZhciBiYWNrZW5kID0gdGhpcztcblxuXHQvL2dldHMgZnJvbSB0aGUgc2VydmVyXG5cdGJhY2tlbmQuX2dldCA9IGZ1bmN0aW9uKHVybCkge1xuXHRcdC8vJGxvZy5pbmZvKCdnZXR0aW5nIEJhY2tlbmQnKTtcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG5cblx0XHRcdCRodHRwLmdldCh1cmwpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcblxuXHRcdFx0XHQvLyRsb2cuaW5mbyhyZXNwb25zZSk7XG5cblx0XHRcdFx0cmVzb2x2ZShyZXNwb25zZS5kYXRhKTtcblxuXHRcdFx0fSwgZnVuY3Rpb24gdGhlRXJyb3JzKGVycm9yKSB7XG5cblx0XHRcdFx0cmVqZWN0KGVycm9yKTtcblxuXHRcdFx0fSk7XG5cblx0XHR9KTtcblxuXHR9XG5cblx0Ly9wb3N0cyB0byB0aGUgc2VydmVyXG5cdGJhY2tlbmQuX3Bvc3QgPSBmdW5jdGlvbih1cmwsIGRhdGEsIGNvbmZpZykge1xuXG5cdFx0JGxvZy5pbmZvKCd1cmwnLCB1cmwsICdkYXRhJywgZGF0YSk7XG5cblx0XHQvL3JldHVybiB0aGUgcHJvbWlzZVxuXHRcdHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcblxuXHRcdFx0JGh0dHAucG9zdCh1cmwsIGRhdGEsIGNvbmZpZykudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuXG5cdFx0XHRcdHJlc29sdmUocmVzcG9uc2UpO1xuXG5cdFx0XHR9LCBmdW5jdGlvbiB0aGVFcnJvcnMoZXJyb3IpIHtcblxuXHRcdFx0XHRyZWplY3QoZXJyb3IpO1xuXG5cdFx0XHR9KTtcblxuXHRcdH0pO1xuXG5cdH1cblxuXHQvL2dldCB0aGUgcmVxdWlyZWQgc3F1YXJlIGlkXG5cdGJhY2tlbmQuZ2V0U3FyQXBwSWQgPSBmdW5jdGlvbigpIHtcblx0XHQvLyRsb2cuaW5mbygnc2VuZGluZyBmcm9tIHNxcicpO1xuXHRcdC8vcmV0dXJuIHRoZSBwcm9taXNlXG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuXG5cdFx0XHRiYWNrZW5kLl9nZXQoJy9hcGkvc3F1YXJlSWQnKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG5cdFx0XHRcdC8vJGxvZy5pbmZvKCdnb3QgdGhpcycsIHJlc3BvbnNlKTtcblx0XHRcdFx0cmVzb2x2ZShyZXNwb25zZSk7XG5cdFx0XHR9KS5jYXRjaChmdW5jdGlvbihlcnIpIHtcblx0XHRcdFx0cmVqZWN0KGVycik7XG5cdFx0XHR9KTtcblxuXHRcdH0pO1xuXG5cdH1cblxuXHQvL3JlY2VpdmVzIGEgemlwY29kZSwgcmV0dXJucyBhIGNpdHkgYW5kIHN0YXRlXG5cdGJhY2tlbmQuY2l0eVN0YXRlTG9va3VwID0gZnVuY3Rpb24oemlwY29kZSkge1xuXG5cdFx0Ly9idWlsZCB0aGUgbmV3IHVybFxuXHRcdHZhciB1cmwgPSAnL2FwaS96aXBjaGVjay8nICsgemlwY29kZTtcblxuXHRcdC8vcmV0dXJuIHRoZSBwcm9taXNlXG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuXG5cdFx0XHQvL2luaXRpYXRlIHRoZSByZXF1ZXN0XG5cdFx0XHRiYWNrZW5kLl9nZXQodXJsKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG5cblx0XHRcdFx0Ly9yZXR1cm4gYSBnb29kIHJlc3BvbnNlXG5cdFx0XHRcdHJlc29sdmUocmVzcG9uc2UpO1xuXG5cdFx0XHR9KS5jYXRjaChmdW5jdGlvbihlcnJvcikge1xuXG5cdFx0XHRcdC8vcmV0dXJuIGFuIGVycm9yIHJlc3BvbnNlXG5cdFx0XHRcdHJlamVjdChlcnJvcik7XG5cdFx0XHRcdFxuXHRcdFx0fSk7XG5cblx0XHR9KTtcblxuXHR9XG5cblx0YmFja2VuZC5zdWJtaXRTYWxlID0gZnVuY3Rpb24ob3JkZXJGb3JtKSB7XG5cblx0XHQkbG9nLmluZm8oJ3N1Ym1pdHRpbmcgc2FsZScpO1xuXG5cdFx0Ly9kZWZpbmUgbG9jYWwgdmFyaWFibGVcblx0XHR2YXIgY29uZmlnID0ge1xuXHRcdFx0J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD11dGYtODsnXG5cdFx0fTtcblxuXHRcdC8vcmV0dXJuIHRoZSBwcm9taXNlXG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuXG5cdFx0XHQvL2luaXRpYXRlIHRoZSByZXF1ZXN0XG5cdFx0XHRiYWNrZW5kLl9wb3N0KCcvYXBpL29yZGVyJywgb3JkZXJGb3JtLCBjb25maWcpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcblxuXHRcdFx0XHQvL3JldHVybiBhIGdvb2QgcmVzcG9uc2Vcblx0XHRcdFx0cmVzb2x2ZShyZXNwb25zZSk7XG5cblx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7XG5cblx0XHRcdFx0cmVqZWN0KGVycm9yKTtcblxuXHRcdFx0fSk7XG5cblx0XHR9KTtcblxuXHR9XG5cbn1cbmFuZ3VsYXJcbiAgICAubW9kdWxlKCd0cnVtcHNOdXRzJylcbiAgICAuc2VydmljZSgnc3RhdGVEYXRhJywgc3RhdGVEYXRhKTtcblxuc3RhdGVEYXRhLiRpbmplY3QgPSBbJyRsb2cnXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBzdGF0ZURhdGEoJGxvZykge1xuXHR2YXIgc3RhdGUgPSB0aGlzO1xuXG5cdHN0YXRlLnZhbFN0YWdlcyA9IHtcbiAgICBcdGF0dGVtcHRlZDogZmFsc2UsXG4gICAgXHRzdWNjZXNzZnVsOiBmYWxzZSxcbiAgICBcdGZhaWxlZDogdHJ1ZVxuXHR9O1xuXG5cdHN0YXRlLmNsYXNzZXMgPSB7XG5cdFx0Y29udGFpbmVyOiB7XG5cdFx0XHQnaGFzLXN1Y2Nlc3MnOiBmYWxzZSxcblx0XHRcdCdoYXMtd2FybmluZyc6IGZhbHNlLFxuXHRcdFx0J2hhcy1kYW5nZXInOiBmYWxzZSxcdFx0XHRcblx0XHR9LFxuXHRcdGlucHV0OiB7XG5cdFx0XHQnZm9ybS1jb250cm9sLXN1Y2Nlc3MnOiBmYWxzZSxcblx0XHRcdCdmb3JtLWNvbnRyb2wtd2FybmluZyc6IGZhbHNlLFxuXHRcdFx0J2Zvcm0tY29udHJvbC1kYW5nZXInOiBmYWxzZVxuXHRcdH1cblx0fTtcblxuXHRzdGF0ZS5zdHlsZXMgPSB7XG5cdFx0Y29udGFpbmVyOiB7fSxcblx0XHRpbnB1dDoge31cblx0fTtcblxuXHRzdGF0ZS5pbml0VmFsU3RhZ2VzID0gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHN0YXRlLnZhbFN0YWdlcztcblx0fVxuXG5cdHN0YXRlLmluaXRDbGFzc2VzID0gZnVuY3Rpb24oc2VjdGlvbikge1xuXHRcdHJldHVybiBzdGF0ZS5jbGFzc2VzW3NlY3Rpb25dO1xuXHR9XG5cblx0c3RhdGUuaW5pdFN0eWxlcyA9IGZ1bmN0aW9uKHNlY3Rpb24pIHtcblx0XHRyZXR1cm4gc3RhdGUuc3R5bGVzW3NlY3Rpb25dO1xuXHR9XG5cblx0c3RhdGUudXBkYXRlU3RhdGUgPSBmdW5jdGlvbihzZWN0aW9uLCB2YWx1ZSkge1xuXHRcdHZhciByZXR1cm5PYmplY3QgPSBzdGF0ZS5jbGFzc2VzW3NlY3Rpb25dO1xuXG5cdFx0T2JqZWN0LmtleXMocmV0dXJuT2JqZWN0KS5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuXHRcdFx0dmFyIHJlc3VsdEFycmF5ID0ga2V5LnNwbGl0KCctJyk7XG5cblx0XHRcdHJlc3VsdEFycmF5LmZvckVhY2goZnVuY3Rpb24od29yZCkge1xuXHRcdFx0XHRpZih3b3JkID09IHZhbHVlKSByZXR1cm5PYmplY3Rba2V5XSA9IHRydWU7XG5cdFx0XHRcdGVsc2UgcmV0dXJuT2JqZWN0W2tleV0gPSBmYWxzZTtcblx0XHRcdH0pO1xuXG5cdFx0XHQvL2lmKGtleS5jb250YWlucyh2YWx1ZSkpIHJldHVybk9iamVjdFtrZXldID0gdHJ1ZTtcblx0XHRcdC8vZWxzZSByZXR1cm5PYmplY3Rba2V5XSA9IGZhbHNlO1xuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIHJldHVybk9iamVjdDtcblx0fVxuXG59XHQiLCIvKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCd0cnVtcHNOdXRzJylcblx0LmRpcmVjdGl2ZSgnYmlsbGluZ0luZm8nLCBiaWxsaW5nSW5mbyk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gYmlsbGluZ0luZm8oKSB7XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvYmlsbGluZ0luZm8uZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge1xuXHRcdFx0YWRkcmVzczogJz0nLFxuXHRcdFx0cGF5bWVudDogJz0nLFxuXHRcdFx0Y29weVNoaXBwaW5nQWRkcmVzczogJz0nLFxuXHRcdFx0Y29weVNoaXBwaW5nOiAnJidcblx0XHR9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IGJpbGxpbmdJbmZvQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIGJpbGxpbmdJbmZvQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGJpbGxpbmdJbmZvQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0ICAgIC8vdmlldyBtb2RlbCBtZXRob2RzXG5cdCAgICB2bS50b2dnbGVBZGRyZXNzQ29weSA9IGZ1bmN0aW9uKGJ0blN0YXRlKSB7XG5cblx0ICAgIFx0dm0uY29weVNoaXBwaW5nKCkoYnRuU3RhdGUpO1xuXG5cdCAgICB9XG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07IiwiLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgndHJ1bXBzTnV0cycpXG5cdC5kaXJlY3RpdmUoJ2NjQ1NWJywgY2NDU1YpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGNjQ1NWKCkge1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL2NjQ1NWLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHt9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IGNjQ1NWQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIGNjQ1NWQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGNjQ1NWQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTsiLCIvKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCd0cnVtcHNOdXRzJylcblx0LmRpcmVjdGl2ZSgnY2NDYXB0dXJlJywgY2NDYXB0dXJlKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBjY0NhcHR1cmUoKSB7XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvY2NDYXB0dXJlLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHt9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IGNjQ2FwdHVyZUNvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBjY0NhcHR1cmVDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gY2NDYXB0dXJlQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTsiLCIvKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCd0cnVtcHNOdXRzJylcblx0LmRpcmVjdGl2ZSgnY2NFeHAnLCBjY0V4cCk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gY2NFeHAoKSB7XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvY2NFeHAuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge30sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogY2NFeHBDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgY2NFeHBDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gY2NFeHBDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59OyIsIi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ3RydW1wc051dHMnKVxuXHQuZGlyZWN0aXZlKCdjY05hbWUnLCBjY05hbWUpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGNjTmFtZSgpIHtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9jY05hbWUuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge30sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogY2NOYW1lQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIGNjTmFtZUNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBjY05hbWVDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59OyIsIi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ3RydW1wc051dHMnKVxuXHQuZGlyZWN0aXZlKCdjY051bWJlcicsIGNjTnVtYmVyKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBjY051bWJlcigpIHtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9jY051bWJlci5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBjY051bWJlckNvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBjY051bWJlckNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBjY051bWJlckNvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07IiwiLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgndHJ1bXBzTnV0cycpXG5cdC5kaXJlY3RpdmUoJ2NpdHknLCBjaXR5KTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBjaXR5KCkge1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL2NpdHkuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge1xuXHRcdFx0Y2l0eU5hbWU6ICc9J1xuXHRcdH0sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogY2l0eUNvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBjaXR5Q29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGNpdHlDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59OyIsIi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ3RydW1wc051dHMnKVxuXHQuZGlyZWN0aXZlKCdjb250YWN0SW5mbycsIGNvbnRhY3RJbmZvKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBjb250YWN0SW5mbygpIHtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9jb250YWN0SW5mby5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7XG5cdFx0XHRuYW1lOiAnPScsXG5cdFx0XHRlbWFpbDogJz0nXG5cdFx0fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBjb250YWN0SW5mb0NvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBjb250YWN0SW5mb0NvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBjb250YWN0SW5mb0NvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07IiwiLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgndHJ1bXBzTnV0cycpXG5cdC5kaXJlY3RpdmUoJ2VtYWlsQWRkcmVzcycsIGVtYWlsQWRkcmVzcyk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gZW1haWxBZGRyZXNzKCkge1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL2VtYWlsQWRkcmVzcy5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7XG5cdFx0XHRlbWFpbDogJz0nXG5cdFx0fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBlbWFpbEFkZHJlc3NDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgZW1haWxBZGRyZXNzQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGVtYWlsQWRkcmVzc0NvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07IiwiLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgndHJ1bXBzTnV0cycpXG5cdC5kaXJlY3RpdmUoJ2ZpcnN0TmFtZScsIGZpcnN0TmFtZSk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gZmlyc3ROYW1lKCkge1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL2ZpcnN0TmFtZS5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7XG5cdFx0XHRmaXJzdDogJz0nXG5cdFx0fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBmaXJzdE5hbWVDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgZmlyc3ROYW1lQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZycsICdzdGF0ZURhdGEnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBmaXJzdE5hbWVDb250cm9sbGVyKCRzY29wZSwgJGxvZywgc3RhdGVEYXRhKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdCAgICAvLyRsb2cuaW5mbyhzdGF0ZSk7XG5cblx0ICAgIHZtLnN0YXRlID0ge1xuXHRcdCAgICBjb250YWluZXI6IHtcblx0XHQgICAgXHRjbGFzc2VzOiBzdGF0ZURhdGEuaW5pdENsYXNzZXMoJ2NvbnRhaW5lcicpLFxuXHRcdCAgICBcdHN0eWxlczogc3RhdGVEYXRhLmluaXRTdHlsZXMoJ2NvbnRhaW5lcicpXHQgICAgXHRcdFxuXHQgICAgXHR9LCBcblx0ICAgIFx0aW5wdXQ6IHtcblx0XHQgICAgXHRjbGFzc2VzOiBzdGF0ZURhdGEuaW5pdENsYXNzZXMoJ2lucHV0JyksXG5cdFx0ICAgIFx0c3R5bGVzOiBzdGF0ZURhdGEuaW5pdFN0eWxlcygnY29udGFpbmVyJylcblx0ICAgIFx0fVxuXHQgICAgfVxuXG5cdCAgICAvL3ZpZXcgbW9kZWwgbWV0aG9kc1xuXHQgICAgdm0udmFsaWRhdGUgPSBmdW5jdGlvbihmaWVsZCwgdmFsdWUpIHtcblx0ICAgIFx0XG5cdCAgICBcdC8vaWYodmFsdWUubGVuZ3RoID4gMSkgc3RhdGUuY2hhbmdlU3RhdGUuaW5wdXRTdWNjZXNzKClcblxuXHQgICAgfVxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59OyIsIi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ3RydW1wc051dHMnKVxuXHQuZGlyZWN0aXZlKCdsYXN0TmFtZScsIGxhc3ROYW1lKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBsYXN0TmFtZSgpIHtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9sYXN0TmFtZS5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7XG5cdFx0XHRsYXN0OiAnPSdcblx0XHR9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IGxhc3ROYW1lQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIGxhc3ROYW1lQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGxhc3ROYW1lQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTsiLCIvKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCd0cnVtcHNOdXRzJylcblx0LmRpcmVjdGl2ZSgncHJvZHVjdFNlbGVjdGlvbicsIHByb2R1Y3RTZWxlY3Rpb24pO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHByb2R1Y3RTZWxlY3Rpb24oKSB7XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvcHJvZHVjdFNlbGVjdGlvbi5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7XG5cdFx0XHRxdHk6ICc9Jyxcblx0XHRcdHByaWNlOiAnPScsXG5cdFx0XHRzdWJ0b3RhbDogJz0nXG5cdFx0fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBwcm9kdWN0U2VsZWN0aW9uQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIHByb2R1Y3RTZWxlY3Rpb25Db250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gcHJvZHVjdFNlbGVjdGlvbkNvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdCAgICAvL3ByaXZhdGUgbWV0aG9kc1xuXG5cblx0ICAgIC8vdmlldyBtb2RlbCBtZXRob2RzXG5cdCAgICB2bS5jYWxjdWxhdGVTdWJ0b3RhbCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgXHR2bS5zdWJ0b3RhbCA9IHZtLnF0eSAqIHZtLnByaWNlO1xuXHQgICAgfVxuXG5cdCAgIFx0dm0uZGVjcmVtZW50ID0gZnVuY3Rpb24oKSB7XG5cdCAgICBcdGlmKHZtLnF0eSA+IDEpIHZtLnF0eSA9IHZtLnF0eSAtIDE7XG5cblx0ICAgIFx0dm0uY2FsY3VsYXRlU3VidG90YWwoKTtcblx0ICAgIH1cblxuXHQgICAgdm0uaW5jcmVtZW50ID0gZnVuY3Rpb24oKSB7XG5cdCAgICBcdHZtLnF0eSA9IHZtLnF0eSArIDE7XG5cblx0ICAgIFx0dm0uY2FsY3VsYXRlU3VidG90YWwoKTtcblx0ICAgIH1cblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59OyIsIi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ3RydW1wc051dHMnKVxuXHQuZGlyZWN0aXZlKCdwcm9ncmVzc0JhcicsIHByb2dyZXNzQmFyKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBwcm9ncmVzc0JhcigpIHtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9wcm9ncmVzc0Jhci5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBwcm9ncmVzc0JhckNvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBwcm9ncmVzc0JhckNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBwcm9ncmVzc0JhckNvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07IiwiLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgndHJ1bXBzTnV0cycpXG5cdC5kaXJlY3RpdmUoJ3B1cmNoYXNlQnRuJywgcHVyY2hhc2VCdG4pO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHB1cmNoYXNlQnRuKCkge1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL3B1cmNoYXNlQnRuLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHRcdHN1Ym1pdEZvcm06ICcmJ1xuXHRcdH0sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogcHVyY2hhc2VCdG5Db250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgcHVyY2hhc2VCdG5Db250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gcHVyY2hhc2VCdG5Db250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59OyIsIi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ3RydW1wc051dHMnKVxuXHQuZGlyZWN0aXZlKCdzaGlwcGluZ0NhbGN1bGF0b3InLCBzaGlwcGluZ0NhbGN1bGF0b3IpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHNoaXBwaW5nQ2FsY3VsYXRvcigpIHtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9zaGlwcGluZ0NhbGN1bGF0b3IuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge1xuXHRcdFx0c2VydmljZUNsYXNzOiAnPSdcblx0XHR9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IHNoaXBwaW5nQ2FsY3VsYXRvckNvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBzaGlwcGluZ0NhbGN1bGF0b3JDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gc2hpcHBpbmdDYWxjdWxhdG9yQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0ICAgIFxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59OyIsIi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ3RydW1wc051dHMnKVxuXHQuZGlyZWN0aXZlKCdzaGlwcGluZ0luZm8nLCBzaGlwcGluZ0luZm8pO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHNoaXBwaW5nSW5mbygpIHtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9zaGlwcGluZ0luZm8uZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge1xuXHRcdFx0YWRkcmVzczogJz0nLFxuXHRcdFx0cmVxdWlybm1lbnRzOiAnPScsXG5cdFx0XHRjb3N0OiAnPSdcblx0XHR9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IHNoaXBwaW5nSW5mb0NvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBzaGlwcGluZ0luZm9Db250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gc2hpcHBpbmdJbmZvQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0ICAgIC8vJGxvZy5pbmZvKCd2bS5yZXF1aXJubWVudHMnLCB2bS5yZXF1aXJubWVudHMsICd2bS5jb3N0Jywgdm0uY29zdCk7XG5cdCAgICAvL3ZpZXcgbW9kZWwgbWV0aG9kc1xuXHQgICAgdm0uY2FsY3VsYXRlU2hpcHBpbmcgPSBmdW5jdGlvbih6aXBQb2ludHMpIHtcblx0ICAgIFx0JGxvZy5pbmZvKCdjYWxjdWxhdGluZyB0aGUgaW5mbyBub3cnLCB6aXBQb2ludHMpO1xuXHQgICAgfVxuXG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTsiLCIvKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCd0cnVtcHNOdXRzJylcblx0LmRpcmVjdGl2ZSgnc3RhdGUnLCBzdGF0ZSk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gc3RhdGUoKSB7XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvc3RhdGUuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge1xuXHRcdFx0c3RhdGVJZDogJz0nXG5cdFx0fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBzdGF0ZUNvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBzdGF0ZUNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBzdGF0ZUNvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07IiwiLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgndHJ1bXBzTnV0cycpXG5cdC5kaXJlY3RpdmUoJ3N0cmVldCcsIHN0cmVldCk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gc3RyZWV0KCkge1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL3N0cmVldC5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7XG5cdFx0XHRzdHJlZXRBZGRyZXNzOiAnPSdcblx0XHR9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IHN0cmVldENvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBzdHJlZXRDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gc3RyZWV0Q29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTsiLCIvKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCd0cnVtcHNOdXRzJylcblx0LmRpcmVjdGl2ZSgndG9vbEJhcicsIHRvb2xCYXIpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHRvb2xCYXIoKSB7XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvdG9vbEJhci5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBUb29sQmFyQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIFRvb2xCYXJDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gVG9vbEJhckNvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07IiwiLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgndHJ1bXBzTnV0cycpXG5cdC5kaXJlY3RpdmUoJ3lvdXJOYW1lJywgeW91ck5hbWUpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHlvdXJOYW1lKCkge1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL3lvdXJOYW1lLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHRcdG5hbWU6ICc9J1xuXHRcdH0sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogeW91ck5hbWVDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgeW91ck5hbWVDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24geW91ck5hbWVDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59OyIsIi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ3RydW1wc051dHMnKVxuXHQuZGlyZWN0aXZlKCd6aXBDb2RlJywgemlwQ29kZSk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gemlwQ29kZSgpIHtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy96aXBDb2RlLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHRcdHVuaXF1ZUlkOiAnPScsXG5cdFx0XHR6aXA6ICc9Jyxcblx0XHRcdGNpdHlOYW1lOiAnPScsXG5cdFx0XHRzdGF0ZUlkOiAnPScsXG5cdFx0XHRjYWxjdWxhdGVTaGlwcGluZzogJyYnXG5cdFx0fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiB6aXBDb2RlQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIHppcENvZGVDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJywgJyRyb290U2NvcGUnLCAnc2VydmVyJywgJ3N0YXRlRGF0YSddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIHppcENvZGVDb250cm9sbGVyKCRzY29wZSwgJGxvZywgJHJvb3RTY29wZSwgc2VydmVyLCBzdGF0ZURhdGEpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0ICAgIC8vZGVmaW5lIHZpZXdtb2RlbCB2YXJpYWJsZXNcblx0ICAgIHZtLnZhbFN0YWdlcyA9IHN0YXRlRGF0YS5pbml0VmFsU3RhZ2VzKCk7XG5cblx0ICAgIHZtLnN0YXRlID0ge1xuXHRcdCAgICBjb250YWluZXI6IHtcblx0XHQgICAgXHRjbGFzc2VzOiBzdGF0ZURhdGEuaW5pdENsYXNzZXMoJ2NvbnRhaW5lcicpLFxuXHRcdCAgICBcdHN0eWxlczogc3RhdGVEYXRhLmluaXRTdHlsZXMoJ2NvbnRhaW5lcicpXHQgICAgXHRcdFxuXHQgICAgXHR9LCBcblx0ICAgIFx0aW5wdXQ6IHtcblx0XHQgICAgXHRjbGFzc2VzOiBzdGF0ZURhdGEuaW5pdENsYXNzZXMoJ2lucHV0JyksXG5cdFx0ICAgIFx0c3R5bGVzOiBzdGF0ZURhdGEuaW5pdFN0eWxlcygnY29udGFpbmVyJylcblx0ICAgIFx0fVxuXHQgICAgfVxuXG5cdCAgICBmdW5jdGlvbiBsb25nRW5vdWdoKHppcGNvZGUpIHtcblx0ICAgIFx0dmFyIGZsYWcgPSBmYWxzZTtcblxuXHQgICAgXHQvLyRsb2cuaW5mbygnY2hlY2luZyBsZW5ndGgnLCB6aXBjb2RlLCB6aXBjb2RlLmxlbmd0aCk7XG5cblx0ICAgIFx0aWYodHlwZW9mIHppcGNvZGUgIT0gJ3VuZGVmaW5lZCcpXG5cdCAgICBcdFx0aWYoemlwY29kZS5sZW5ndGggPj0gNSkgZmxhZyA9IHRydWU7XG5cblx0ICAgIFx0cmV0dXJuIGZsYWc7XG5cdCAgICB9XG5cblx0ICAgIGZ1bmN0aW9uIHN1Y2Nlc3NpZnlJbnB1dCgpIHsgXG5cdCAgICBcdC8vJGxvZy5pbmZvKCdzdWNjZXNzJywgdm0uc3RhdGUuY29udGFpbmVyKTtcblx0ICAgIFx0dm0uc3RhdGUuY29udGFpbmVyLmNsYXNzZXMgPSBzdGF0ZURhdGEudXBkYXRlU3RhdGUoJ2NvbnRhaW5lcicsICdzdWNjZXNzJyk7XG5cdCAgICBcdC8vdm0uc3RhdGUuY29udGFpbmVyLmNsYXNzZXNbJ2hhcy1zdWNjZXNzJ10gPSB0cnVlO1xuXHQgICAgXHQvL3ZtLnN0YXRlLmNvbnRhaW5lci5jbGFzc2VzWydoYXMtd2FybmluZyddID0gZmFsc2U7XG5cdCAgICBcdC8vdm0uc3RhdGUuY29udGFpbmVyLmNsYXNzZXNbJ2hhcy1kYW5nZXInXSA9IGZhbHNlO1xuXHQgICAgXHR2bS5zdGF0ZS5pbnB1dC5jbGFzc2VzID0gc3RhdGVEYXRhLnVwZGF0ZVN0YXRlKCdpbnB1dCcsICdzdWNjZXNzJyk7XG5cdCAgICBcdC8vdm0uc3RhdGUuaW5wdXQuY2xhc3Nlc1snZm9ybS1jb250cm9sLXN1Y2Nlc3MnXSA9IHRydWU7XG5cdCAgICBcdC8vdm0uc3RhdGUuaW5wdXQuY2xhc3Nlc1snZm9ybS1jb250cm9sLXdhcm5pbmcnXSA9IGZhbHNlO1xuXHQgICAgXHQvL3ZtLnN0YXRlLmlucHV0LmNsYXNzZXNbJ2Zvcm0tY29udHJvbC1kYW5nZXInXSA9IGZhbHNlO1xuXHQgICAgfVxuXG5cdCAgICBmdW5jdGlvbiBmYWlsaWZ5SW5wdXQoKSB7IFxuXHQgICAgXHQvLyRsb2cuaW5mbygnZmFpbGVkJyk7XG5cdCAgICBcdHZtLnN0YXRlLmNvbnRhaW5lci5jbGFzc2VzWydoYXMtc3VjY2VzcyddID0gZmFsc2U7XG5cdCAgICBcdHZtLnN0YXRlLmNvbnRhaW5lci5jbGFzc2VzWydoYXMtd2FybmluZyddID0gdHJ1ZTtcblx0ICAgIFx0dm0uc3RhdGUuY29udGFpbmVyLmNsYXNzZXNbJ2hhcy1kYW5nZXInXSA9IGZhbHNlO1xuXG5cdCAgICBcdHZtLnN0YXRlLmlucHV0LmNsYXNzZXNbJ2Zvcm0tY29udHJvbC1zdWNjZXNzJ10gPSBmYWxzZTtcblx0ICAgIFx0dm0uc3RhdGUuaW5wdXQuY2xhc3Nlc1snZm9ybS1jb250cm9sLXdhcm5pbmcnXSA9IHRydWU7XG5cdCAgICBcdHZtLnN0YXRlLmlucHV0LmNsYXNzZXNbJ2Zvcm0tY29udHJvbC1kYW5nZXInXSA9IGZhbHNlO1xuXHQgICAgfVxuXG5cdCAgICBmdW5jdGlvbiBjaXR5U3RhdGVMb29rdXAoemlwY29kZSkge1xuXHRcdCAgICBcblx0XHQgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuXG5cdFx0XHQgICAgc2VydmVyLmNpdHlTdGF0ZUxvb2t1cCh6aXBjb2RlKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG5cdFx0XHQgICAgXHQkbG9nLmluZm8oJ2dvdCB0aGlzIHJlc3BvbnNlJywgcmVzcG9uc2UpO1xuXHRcdFx0ICAgIFx0cmVzb2x2ZShyZXNwb25zZSk7XG5cdFx0XHQgICAgfSkuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHtcblx0XHRcdCAgICBcdCRsb2cuaW5mbygnZ290IHRoaXMgZXJyb3InLCBlcnJvcik7XG5cdFx0XHQgICAgXHRyZWplY3QoZXJyb3IpO1xuXHRcdFx0ICAgIH0pO1xuXG5cdFx0ICAgIH0pO1xuXHQgICAgXHRcblx0ICAgIH1cblxuXHQgICAgdm0udmFsaWRhdGUgPSBmdW5jdGlvbih6aXBjb2RlKSB7XG5cblx0ICAgIFx0Ly8kbG9nLmluZm8oJ3ZhbGlkYXRpbmcgemlwJyk7XG5cblx0ICAgIFx0Ly9vbmx5IHZhbGlkYXRlIGlmIHRoZXkndmUgdHJpZWQgYXQgbGVhc3Qgb25jZVxuXHQgICAgXHRpZih2bS52YWxTdGFnZXMuYXR0ZW1wdGVkKSB7XG5cblx0ICAgIFx0XHQvLyRsb2cuaW5mbygnY2VoY2tpbmcgbGVuZ3RoJywgbG9uZ0Vub3VnaCh6aXBjb2RlKSk7XG5cblx0ICAgIFx0XHQvL2NoZWNrIGlmIGl0J3MgbG9uZyBlbm91Z2hcblx0ICAgIFx0XHRpZihsb25nRW5vdWdoKHppcGNvZGUpKSB7XG5cblx0ICAgIFx0XHRcdC8vJGxvZy5pbmZvKCdnb29kIGxlbmd0aCwgYWN0aW5nIGFjb3JkaW5nbHknKTtcblx0ICAgIFx0XHRcdC8vY2hhbmdlIHRoZSBjbGFzc2VzXG5cdCAgICBcdFx0XHRzdWNjZXNzaWZ5SW5wdXQoKTtcblx0ICAgIFx0XHRcdFxuXHQgICAgXHRcdFx0Ly9nZXQgdGhlIGNpdHkgYW5kIHN0YXRlXG5cdCAgICBcdFx0XHRjaXR5U3RhdGVMb29rdXAoemlwY29kZSkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuXHQgICAgXHRcdFx0XHQvL3doZW4gc3VjY2Vzc2Z1bGx5IGFxdWlyZWQsIHVwZGF0ZSB0aGUgbW9kZWxcblx0ICAgIFx0XHRcdFx0Ly8kbG9nLmluZm8ocmVzcG9uc2UpO1xuXHQgICAgXHRcdFx0XHR2bS5jaXR5TmFtZSA9IHJlc3BvbnNlLnppcENvZGUuY2l0eTtcblx0ICAgIFx0XHRcdFx0dm0uc3RhdGVJZCA9IHJlc3BvbnNlLnppcENvZGUuc3RhdGU7XG5cblx0ICAgIFx0XHRcdFx0Ly9hZnRlciB0aGUgdmFsdWVzIGhhdmUgYmVlbiB1cGRhdGVkLCBhcHBseSB0aGUgdXBkYXRlc1xuXHQgICAgXHRcdFx0XHQkcm9vdFNjb3BlLiRhcHBseSgpO1xuXG5cdCAgICBcdFx0XHR9KS5jYXRjaChmdW5jdGlvbihlcnJvcikge1xuXHQgICAgXHRcdFx0XHQkbG9nLmluZm8oJ3RoZXJlIHdhcyBhbiBlcnJvcicpO1xuXHQgICAgXHRcdFx0fSk7XG5cblx0ICAgIFx0XHRcdC8vY2FsY3VsYXRlIHNoaXBwaW5nXG5cdCAgICBcdFx0XHR2bS5jYWxjdWxhdGVTaGlwcGluZygpKHtzdGFydDogJzk3MDA1JywgZW5kOiB2bS56aXB9KTtcblxuXHQgICAgXHRcdH0gZWxzZSB7XG5cdCAgICBcdFx0XHRmYWlsaWZ5SW5wdXQoKTtcblx0ICAgIFx0XHR9XG5cblx0ICAgIFx0fVxuXG5cdCAgICB9XG5cblx0ICAgIHZtLnN1Ym1pdCA9IGZ1bmN0aW9uKHppcGNvZGUpIHtcblxuXHQgICAgXHR2bS52YWxTdGFnZXMuYXR0ZW1wdGVkID0gdHJ1ZTtcblxuXHQgICAgXHR2bS52YWxpZGF0ZSh6aXBjb2RlKTtcblx0ICAgIH1cblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59OyIsImFuZ3VsYXJcbiAgICAubW9kdWxlKCd0cnVtcHNOdXRzJylcbiAgICAuY29udHJvbGxlcignY29uZmlybWF0aW9uQ29udHJvbGxlcicsIGNvbmZpcm1hdGlvbkNvbnRyb2xsZXIpO1xuXG5jb25maXJtYXRpb25Db250cm9sbGVyLiRpbmplY3QgPSBbJyRsb2cnXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBjb25maXJtYXRpb25Db250cm9sbGVyKCRsb2cpIHtcblxuXHQvL2RlZmluZSB2aWV3IG1vZGVsIHZhcmlhYmxlXG5cdHZhciB2bSA9IHRoaXM7XG5cbn1cdCIsImFuZ3VsYXJcbiAgICAubW9kdWxlKCd0cnVtcHNOdXRzJylcbiAgICAuY29udHJvbGxlcignbGFuZGluZ0NvbnRyb2xsZXInLCBsYW5kaW5nQ29udHJvbGxlcik7XG5cbmxhbmRpbmdDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJywgJyRsb2NhdGlvbicsICckcm9vdFNjb3BlJywgJ2RhdGFNb2RlbCcsICdzZXJ2ZXInXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBsYW5kaW5nQ29udHJvbGxlcigkc2NvcGUsICRsb2csICRsb2NhdGlvbiwgJHJvb3RTY29wZSwgZGF0YU1vZGVsLCBzZXJ2ZXIpIHtcblxuXHQvL2RlZmluZSB2aWV3IG1vZGVsIHZhcmlhYmxlXG5cdHZhciB2bSA9IHRoaXM7XG5cdHZtLm1vZGVsID0gZGF0YU1vZGVsO1xuXG5cdC8vd2F0Y2hlcnNcblx0JHNjb3BlLiR3YXRjaCgndm0ubW9kZWwuc2hpcHBpbmcuYWRkcmVzcy56aXAnLCBmdW5jdGlvbihjdXJyZW50LCBvcmlnaW5hbCkge1xuXHRcdGlmKHZtLm1vZGVsLmNvcHlTaGlwcGluZ0FkZHJlc3MpIHZtLm1vZGVsLmJpbGxpbmcuYWRkcmVzcy56aXAgPSBjdXJyZW50O1xuXHR9KTtcblx0XG5cdCRzY29wZS4kd2F0Y2goJ3ZtLm1vZGVsLnNoaXBwaW5nLmFkZHJlc3MuY2l0eScsIGZ1bmN0aW9uKGN1cnJlbnQsIG9yaWdpbmFsKSB7XG5cdFx0aWYodm0ubW9kZWwuY29weVNoaXBwaW5nQWRkcmVzcykgdm0ubW9kZWwuYmlsbGluZy5hZGRyZXNzLmNpdHkgPSBjdXJyZW50O1xuXHR9KTtcblx0XG5cdCRzY29wZS4kd2F0Y2goJ3ZtLm1vZGVsLnNoaXBwaW5nLmFkZHJlc3Muc3RhdGUnLCBmdW5jdGlvbihjdXJyZW50LCBvcmlnaW5hbCkge1xuXHRcdGlmKHZtLm1vZGVsLmNvcHlTaGlwcGluZ0FkZHJlc3MpIHZtLm1vZGVsLmJpbGxpbmcuYWRkcmVzcy5zdGF0ZSA9IGN1cnJlbnQ7XG5cdH0pO1xuXHRcblx0JHNjb3BlLiR3YXRjaCgndm0ubW9kZWwuc2hpcHBpbmcuYWRkcmVzcy5zdHJlZXQxJywgZnVuY3Rpb24oY3VycmVudCwgb3JpZ2luYWwpIHtcblx0XHRpZih2bS5tb2RlbC5jb3B5U2hpcHBpbmdBZGRyZXNzKSB2bS5tb2RlbC5iaWxsaW5nLmFkZHJlc3Muc3RyZWV0MSA9IGN1cnJlbnQ7XG5cdH0pO1xuXHRcblx0JHNjb3BlLiR3YXRjaCgndm0ubW9kZWwuc2hpcHBpbmcuYWRkcmVzcy5zdHJlZXQyJywgZnVuY3Rpb24oY3VycmVudCwgb3JpZ2luYWwpIHtcblx0XHRpZih2bS5tb2RlbC5jb3B5U2hpcHBpbmdBZGRyZXNzKSB2bS5tb2RlbC5iaWxsaW5nLmFkZHJlc3Muc3RyZWV0MiA9IGN1cnJlbnQ7XG5cdH0pO1x0XG5cdFxuXHQkc2NvcGUuJHdhdGNoKCd2bS5tb2RlbC5zaGlwcGluZy5hZGRyZXNzLnN0cmVldDMnLCBmdW5jdGlvbihjdXJyZW50LCBvcmlnaW5hbCkge1xuXHRcdGlmKHZtLm1vZGVsLmNvcHlTaGlwcGluZ0FkZHJlc3MpIHZtLm1vZGVsLmJpbGxpbmcuYWRkcmVzcy5zdHJlZXQzID0gY3VycmVudDtcblx0fSk7XHRcdFxuXG5cdC8vcHJpdmF0ZSBmdW5jdGlvbnNcblx0ZnVuY3Rpb24gaW5pdCgpIHtcblx0XHRcblx0XHQvL1RPRE86IE1PVkUgVEhJUyBUTyBST1VURVMgTEFURVJcblx0XHRzZXJ2ZXIuZ2V0U3FyQXBwSWQoKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG5cdFx0XHQvLyRsb2cuaW5mbygncmVzcG9uc2UnLCByZXNwb25zZS5pZCk7XG5cdFx0XHR2bS5tb2RlbC5hcGlzLnNxdWFyZUlkID0gcmVzcG9uc2UuaWQ7XG5cdFx0fSkuY2F0Y2goZnVuY3Rpb24oZXJyKSB7XG5cblx0XHR9KTtcblxuXHR9XG5cblx0Ly92aWV3IG1vZGVsIG1ldGhvZHNcblx0dm0uY29weVNoaXBwaW5nQWRkcmVzcyA9IGZ1bmN0aW9uKGJ0blN0YXRlKSB7XG5cdFx0Ly8kbG9nLmluZm8oJ2NvcHlpbmcnLCB2bS5tb2RlbC5zaGlwcGluZyk7XG5cdFx0aWYoYnRuU3RhdGUpIHZtLm1vZGVsLmJpbGxpbmcuYWRkcmVzcyA9IHZtLm1vZGVsLnNoaXBwaW5nLmFkZHJlc3M7XG5cdFx0ZWxzZSB2bS5tb2RlbC5iaWxsaW5nLmFkZHJlc3MgPSBkYXRhTW9kZWwuYmlsbGluZy5hZGRyZXNzO1xuXHR9XG5cblx0dm0uc3VibWl0Rm9ybSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG5cdFx0JGxvZy5pbmZvKCdzdWJtaXR0aW5nJywgdmFsdWUpO1xuXG5cdFx0c2VydmVyLnN1Ym1pdFNhbGUodm0ubW9kZWwpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcblxuXHRcdFx0JGxvZy5pbmZvKHJlc3BvbnNlKTtcblxuXHRcdFx0Ly93aGVuIHRoZSBwcm9taXNlIHJlc29sdmVzLCByZS1yb3V0ZSB0aGVtXG5cdFx0XHQkbG9jYXRpb24ucGF0aCgnL2NvbmZpcm1hdGlvbi8/dGVzaW5nPWdvb2RUZXN0Jyk7XG5cdFx0XHQkcm9vdFNjb3BlLiRhcHBseSgpO1xuXG5cdFx0fSkuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHtcblxuXHRcdFx0JGxvZy5pbmZvKGVycm9yKTtcblx0XHR9KTtcblxuXHRcdC8vdGFrZSB0aGVtIGltbWVkaWF0bHkgdG8gdGhlIHByb2Nlc3NpbmcgcGFnZVxuXHRcdCRsb2NhdGlvbi5wYXRoKCcvcHJvY2Vzc2luZycpO1xuXG5cdH1cblxuXHQvL3N0YXJ0IGNvbnRyb2xsZXJcblx0aW5pdCgpO1xuXG59XHQiLCJhbmd1bGFyXG4gICAgLm1vZHVsZSgndHJ1bXBzTnV0cycpXG4gICAgLmNvbnRyb2xsZXIoJ3Byb2Nlc3NpbmdDb250cm9sbGVyJywgcHJvY2Vzc2luZ0NvbnRyb2xsZXIpO1xuXG5wcm9jZXNzaW5nQ29udHJvbGxlci4kaW5qZWN0ID0gWyckbG9nJywgJ3Rlc3QnXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBwcm9jZXNzaW5nQ29udHJvbGxlcigkbG9nLCB0ZXN0KSB7XG5cblx0Ly9kZWZpbmUgdmlldyBtb2RlbCB2YXJpYWJsZVxuXHR2YXIgdm0gPSB0aGlzO1xuXG59XHQiLCJhbmd1bGFyXG4gICAgLm1vZHVsZSgndHJ1bXBzTnV0cycpXG4gICAgLmZhY3RvcnkoJ2RhdGFNb2RlbCcsIGRhdGFNb2RlbCk7XG5cbmRhdGFNb2RlbC4kaW5qZWN0ID0gWyckbG9nJ107XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gZGF0YU1vZGVsKCRsb2cpIHtcblxuXHR2YXIgZGF0YU1vZGVsT2JqZWN0ID0ge1xuXHRcdG5hbWU6IHtcblx0XHRcdGZpcnN0OiAnJyxcblx0XHRcdGxhc3Q6ICcnXG5cdFx0fSxcblx0XHRlbWFpbDogJycsXG5cdFx0Y29weVNoaXBwaW5nQWRkcmVzczogdHJ1ZSxcblx0XHRwcm9kdWN0OiB7XG5cdFx0XHRwcmljZTogMjAwMFxuXHRcdH0sXG5cdFx0b3JkZXI6IHtcblx0XHRcdHF0eTogMSxcblx0XHRcdGNvc3Q6IHtcblx0XHRcdFx0c3VidG90YWw6IDIwMDAsXG5cdFx0XHRcdHRheDogMCxcblx0XHRcdFx0ZGlzY291bnRzOiB7XG5cdFx0XHRcdFx0cHJvbW90aW9uczogW10sXG5cdFx0XHRcdFx0dG90YWxWYWx1ZTogMFxuXHRcdFx0XHR9LFxuXHRcdFx0XHR0b3RhbDogMFxuXHRcdFx0fVxuXHRcdH0sXG5cdFx0c2hpcHBpbmc6IHtcblx0XHRcdGFkZHJlc3M6IHtcblx0XHRcdFx0c3RyZWV0MTogJycsXG5cdFx0XHRcdHN0cmVldDI6ICcnLFxuXHRcdFx0XHRzdHJlZXQzOiAnJyxcblx0XHRcdFx0Y2l0eTogJycsXG5cdFx0XHRcdHN0YXRlOiAnJyxcblx0XHRcdFx0emlwOiAnJ1xuXHRcdFx0fSwgXG5cdFx0XHRyZXF1aXJubWVudHM6IHtcblx0XHRcdFx0aXNQcmlvcml0eTogJ3RydWUnXG5cdFx0XHR9LFxuXHRcdFx0Y29zdDoge1xuXHRcdFx0XHRhbW91bnQ6IDAsXG5cdFx0XHRcdGN1cnJlbmN5OiAnVVNEJ1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0YmlsbGluZzoge1xuXHRcdFx0YWRkcmVzczoge1xuXHRcdFx0XHRzdHJlZXQxOiAnJyxcblx0XHRcdFx0c3RyZWV0MjogJycsXG5cdFx0XHRcdHN0cmVldDM6ICcnLFxuXHRcdFx0XHRjaXR5OiAnJyxcblx0XHRcdFx0c3RhdGU6ICcnLFxuXHRcdFx0XHR6aXA6ICcnXG5cdFx0XHR9LFxuXHRcdFx0cGF5bWVudDoge1xuXHRcdFx0XHRudW1iZXI6IFsnJywgJycsICcnLCAnJ10sXG5cdFx0XHRcdGV4cDogWycnLCAnJ10sXG5cdFx0XHRcdGNzdjogJydcblx0XHRcdH1cblx0XHR9LFxuXHRcdGFwaXM6IHtcblx0XHRcdHNxdWFyZUlkOiAnJ1xuXHRcdH0sXG5cdFx0X3JlYWQ6X3JlYWQsXG5cdFx0X3VwZGF0ZTpfdXBkYXRlLFxuXHRcdHJlYWRQcm9wOnJlYWRQcm9wLFxuXHRcdHVwZGF0ZVByb3A6dXBkYXRlUHJvcFxuXHR9O1xuXG5cdGZ1bmN0aW9uIF9yZWFkKHByb3ApIHt9XG5cdGZ1bmN0aW9uIF91cGRhdGUocHJvcCwgdmFsdWUpIHt9XG5cdGZ1bmN0aW9uIHJlYWRQcm9wKHByb3ApIHt9XG5cdGZ1bmN0aW9uIHVwZGF0ZVByb3AocHJvcCwgdmFsdWUpIHt9XG5cblx0cmV0dXJuIGRhdGFNb2RlbE9iamVjdDtcbn0iLCJhbmd1bGFyXG4gICAgLm1vZHVsZSgndHJ1bXBzTnV0cycpXG4gICAgLmZhY3RvcnkoJ3N0YXRlRmFjdG9yeScsIHN0YXRlRmFjdG9yeSk7XG5cbnN0YXRlRmFjdG9yeS4kaW5qZWN0ID0gWyckbG9nJ107XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gc3RhdGVGYWN0b3J5KCRsb2cpIHtcblxuXHR2YXIgc3RhdGVPYmplY3QgPSB7XG5cdFx0bW9kZWw6IHtcblx0XHRcdGFsbEVsZW1lbnRzQ29tcGxldGVkOiBmYWxzZSxcblx0XHRcdGZpZWxkczogW10sXG5cdFx0XHRpbnB1dDoge1xuXHRcdFx0XHRwcm9wOiB7XG5cdFx0XHRcdFx0bmFtZTogJycsXG5cdFx0XHRcdFx0cmVxdWlybm1lbnRzOiBbXVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRzdGF0ZToge1xuXHRcdFx0XHRcdGFkZHJlc3NlZDogZmFsc2UsXG5cdFx0XHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRcdFx0ZmFpbHVyZTogZmFsc2Vcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sXG5cdFx0Y2xhc3Nlczoge1xuXHRcdFx0J2Zvcm0tZ3JvdXAnOiBmYWxzZSxcblx0XHRcdCdoYXMtc3VjY2Vzcyc6IGZhbHNlLFxuXHRcdFx0J2hhcy13YXJuaW5nJzogZmFsc2UsXG5cdFx0XHQnaGFzLWRhbmdlcic6IGZhbHNlLFxuXHRcdFx0J2Zvcm0tY29udHJvbC1sYWJlbCc6IGZhbHNlLFxuXHRcdFx0J2Zvcm0tY29udHJvbCc6IGZhbHNlLFxuXHRcdFx0J2Zvcm0tY29udHJvbC1zdWNjZXNzJzogZmFsc2UsXG5cdFx0XHQnZm9ybS1jb250cm9sLXdhcm5pbmcnOiBmYWxzZSxcblx0XHRcdCdmb3JtLWNvbnRyb2wtZGFuZ2VyJzogZmFsc2UsXG5cdFx0XHQnZm9ybS1jb250cm9sLWZlZWRiYWNrJzogZmFsc2UsXG5cdFx0XHQnZm9ybS10ZXh0JzogZmFsc2UsXG5cdFx0XHQndGV4dC1tdXRlZCc6IGZhbHNlXG5cdFx0fSxcblx0XHRzdHlsZXM6IHtcblxuXHRcdH0sXG5cdFx0Y2hhbmdlU3RhdGU6IHtcblx0XHRcdGlucHV0U3VjY2VzczogJycsXG5cdFx0XHRpbnB1dEZhaWxlZDogJydcblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiBpbnB1dFN1Y2Nlc3MoKSB7fVxuXHRmdW5jdGlvbiBpbnB1dEZhaWxlZCgpIHt9XG5cblx0cmV0dXJuIHN0YXRlT2JqZWN0O1xufSIsImFuZ3VsYXJcbiAgICAubW9kdWxlKCd0cnVtcHNOdXRzJylcbiAgICAuY29uZmlnKGNvbmZpZyk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gY29uZmlnKCRyb3V0ZVByb3ZpZGVyKSB7ICAgXG4gICAgJHJvdXRlUHJvdmlkZXJcbiAgICAvL2RlZmluZSB0aGUgbGFuZGluZyBwYWdlXG4gICAgLndoZW4oJy8nLCB7XG4gICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvbGFuZGluZ1BhZ2UuaHRtJyxcbiAgICAgICAgY29udHJvbGxlcjogJ2xhbmRpbmdDb250cm9sbGVyJyxcbiAgICAgICAgY29udHJvbGxlckFzOiAndm0nXG4gICAgfSlcbiAgICAud2hlbignL3Byb2Nlc3NpbmcnLCB7XG4gICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvcHJvY2Vzc2luZy5odG0nLFxuICAgICAgICBjb250cm9sbGVyOiAncHJvY2Vzc2luZ0NvbnRyb2xsZXInLFxuICAgICAgICBjb250cm9sbGVyQXM6ICd2bSdcbiAgICB9KVxuICAgIC53aGVuKCcvY29uZmlybWF0aW9uJywge1xuICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL2NvbmZpcm1hdGlvbi5odG0nLFxuICAgICAgICBjb250cm9sbGVyOiAnY29uZmlybWF0aW9uQ29udHJvbGxlcicsXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJ1xuICAgIH0pO1xufVxuXG5cbiIsImFuZ3VsYXJcbiAgICAubW9kdWxlKCd0cnVtcHNOdXRzJylcbiAgICAuc2VydmljZSgnc2VydmVyJywgc2VydmVyKTtcblxuc2VydmVyLiRpbmplY3QgPSBbJyRsb2cnLCAnJGh0dHAnXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBzZXJ2ZXIoJGxvZywgJGh0dHApIHtcblx0dmFyIGJhY2tlbmQgPSB0aGlzO1xuXG5cdC8vZ2V0cyBmcm9tIHRoZSBzZXJ2ZXJcblx0YmFja2VuZC5fZ2V0ID0gZnVuY3Rpb24odXJsKSB7XG5cdFx0Ly8kbG9nLmluZm8oJ2dldHRpbmcgQmFja2VuZCcpO1xuXHRcdHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcblxuXHRcdFx0JGh0dHAuZ2V0KHVybCkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuXG5cdFx0XHRcdC8vJGxvZy5pbmZvKHJlc3BvbnNlKTtcblxuXHRcdFx0XHRyZXNvbHZlKHJlc3BvbnNlLmRhdGEpO1xuXG5cdFx0XHR9LCBmdW5jdGlvbiB0aGVFcnJvcnMoZXJyb3IpIHtcblxuXHRcdFx0XHRyZWplY3QoZXJyb3IpO1xuXG5cdFx0XHR9KTtcblxuXHRcdH0pO1xuXG5cdH1cblxuXHQvL3Bvc3RzIHRvIHRoZSBzZXJ2ZXJcblx0YmFja2VuZC5fcG9zdCA9IGZ1bmN0aW9uKHVybCwgZGF0YSwgY29uZmlnKSB7XG5cblx0XHQkbG9nLmluZm8oJ3VybCcsIHVybCwgJ2RhdGEnLCBkYXRhKTtcblxuXHRcdC8vcmV0dXJuIHRoZSBwcm9taXNlXG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuXG5cdFx0XHQkaHR0cC5wb3N0KHVybCwgZGF0YSwgY29uZmlnKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG5cblx0XHRcdFx0cmVzb2x2ZShyZXNwb25zZSk7XG5cblx0XHRcdH0sIGZ1bmN0aW9uIHRoZUVycm9ycyhlcnJvcikge1xuXG5cdFx0XHRcdHJlamVjdChlcnJvcik7XG5cblx0XHRcdH0pO1xuXG5cdFx0fSk7XG5cblx0fVxuXG5cdC8vZ2V0IHRoZSByZXF1aXJlZCBzcXVhcmUgaWRcblx0YmFja2VuZC5nZXRTcXJBcHBJZCA9IGZ1bmN0aW9uKCkge1xuXHRcdC8vJGxvZy5pbmZvKCdzZW5kaW5nIGZyb20gc3FyJyk7XG5cdFx0Ly9yZXR1cm4gdGhlIHByb21pc2Vcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG5cblx0XHRcdGJhY2tlbmQuX2dldCgnL2FwaS9zcXVhcmVJZCcpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcblx0XHRcdFx0Ly8kbG9nLmluZm8oJ2dvdCB0aGlzJywgcmVzcG9uc2UpO1xuXHRcdFx0XHRyZXNvbHZlKHJlc3BvbnNlKTtcblx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xuXHRcdFx0XHRyZWplY3QoZXJyKTtcblx0XHRcdH0pO1xuXG5cdFx0fSk7XG5cblx0fVxuXG5cdC8vcmVjZWl2ZXMgYSB6aXBjb2RlLCByZXR1cm5zIGEgY2l0eSBhbmQgc3RhdGVcblx0YmFja2VuZC5jaXR5U3RhdGVMb29rdXAgPSBmdW5jdGlvbih6aXBjb2RlKSB7XG5cblx0XHQvL2J1aWxkIHRoZSBuZXcgdXJsXG5cdFx0dmFyIHVybCA9ICcvYXBpL3ppcGNoZWNrLycgKyB6aXBjb2RlO1xuXG5cdFx0Ly9yZXR1cm4gdGhlIHByb21pc2Vcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG5cblx0XHRcdC8vaW5pdGlhdGUgdGhlIHJlcXVlc3Rcblx0XHRcdGJhY2tlbmQuX2dldCh1cmwpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcblxuXHRcdFx0XHQvL3JldHVybiBhIGdvb2QgcmVzcG9uc2Vcblx0XHRcdFx0cmVzb2x2ZShyZXNwb25zZSk7XG5cblx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7XG5cblx0XHRcdFx0Ly9yZXR1cm4gYW4gZXJyb3IgcmVzcG9uc2Vcblx0XHRcdFx0cmVqZWN0KGVycm9yKTtcblx0XHRcdFx0XG5cdFx0XHR9KTtcblxuXHRcdH0pO1xuXG5cdH1cblxuXHRiYWNrZW5kLnN1Ym1pdFNhbGUgPSBmdW5jdGlvbihvcmRlckZvcm0pIHtcblxuXHRcdCRsb2cuaW5mbygnc3VibWl0dGluZyBzYWxlJyk7XG5cblx0XHQvL2RlZmluZSBsb2NhbCB2YXJpYWJsZVxuXHRcdHZhciBjb25maWcgPSB7XG5cdFx0XHQnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PXV0Zi04Oydcblx0XHR9O1xuXG5cdFx0Ly9yZXR1cm4gdGhlIHByb21pc2Vcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG5cblx0XHRcdC8vaW5pdGlhdGUgdGhlIHJlcXVlc3Rcblx0XHRcdGJhY2tlbmQuX3Bvc3QoJy9hcGkvb3JkZXInLCBvcmRlckZvcm0sIGNvbmZpZykudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuXG5cdFx0XHRcdC8vcmV0dXJuIGEgZ29vZCByZXNwb25zZVxuXHRcdFx0XHRyZXNvbHZlKHJlc3BvbnNlKTtcblxuXHRcdFx0fSkuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHtcblxuXHRcdFx0XHRyZWplY3QoZXJyb3IpO1xuXG5cdFx0XHR9KTtcblxuXHRcdH0pO1xuXG5cdH1cblxufSIsImFuZ3VsYXJcbiAgICAubW9kdWxlKCd0cnVtcHNOdXRzJylcbiAgICAuc2VydmljZSgnc3RhdGVEYXRhJywgc3RhdGVEYXRhKTtcblxuc3RhdGVEYXRhLiRpbmplY3QgPSBbJyRsb2cnXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBzdGF0ZURhdGEoJGxvZykge1xuXHR2YXIgc3RhdGUgPSB0aGlzO1xuXG5cdHN0YXRlLnZhbFN0YWdlcyA9IHtcbiAgICBcdGF0dGVtcHRlZDogZmFsc2UsXG4gICAgXHRzdWNjZXNzZnVsOiBmYWxzZSxcbiAgICBcdGZhaWxlZDogdHJ1ZVxuXHR9O1xuXG5cdHN0YXRlLmNsYXNzZXMgPSB7XG5cdFx0Y29udGFpbmVyOiB7XG5cdFx0XHQnaGFzLXN1Y2Nlc3MnOiBmYWxzZSxcblx0XHRcdCdoYXMtd2FybmluZyc6IGZhbHNlLFxuXHRcdFx0J2hhcy1kYW5nZXInOiBmYWxzZSxcdFx0XHRcblx0XHR9LFxuXHRcdGlucHV0OiB7XG5cdFx0XHQnZm9ybS1jb250cm9sLXN1Y2Nlc3MnOiBmYWxzZSxcblx0XHRcdCdmb3JtLWNvbnRyb2wtd2FybmluZyc6IGZhbHNlLFxuXHRcdFx0J2Zvcm0tY29udHJvbC1kYW5nZXInOiBmYWxzZVxuXHRcdH1cblx0fTtcblxuXHRzdGF0ZS5zdHlsZXMgPSB7XG5cdFx0Y29udGFpbmVyOiB7fSxcblx0XHRpbnB1dDoge31cblx0fTtcblxuXHRzdGF0ZS5pbml0VmFsU3RhZ2VzID0gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHN0YXRlLnZhbFN0YWdlcztcblx0fVxuXG5cdHN0YXRlLmluaXRDbGFzc2VzID0gZnVuY3Rpb24oc2VjdGlvbikge1xuXHRcdHJldHVybiBzdGF0ZS5jbGFzc2VzW3NlY3Rpb25dO1xuXHR9XG5cblx0c3RhdGUuaW5pdFN0eWxlcyA9IGZ1bmN0aW9uKHNlY3Rpb24pIHtcblx0XHRyZXR1cm4gc3RhdGUuc3R5bGVzW3NlY3Rpb25dO1xuXHR9XG5cblx0c3RhdGUudXBkYXRlU3RhdGUgPSBmdW5jdGlvbihzZWN0aW9uLCB2YWx1ZSkge1xuXHRcdHZhciByZXR1cm5PYmplY3QgPSBzdGF0ZS5jbGFzc2VzW3NlY3Rpb25dO1xuXG5cdFx0T2JqZWN0LmtleXMocmV0dXJuT2JqZWN0KS5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuXHRcdFx0dmFyIHJlc3VsdEFycmF5ID0ga2V5LnNwbGl0KCctJyk7XG5cblx0XHRcdHJlc3VsdEFycmF5LmZvckVhY2goZnVuY3Rpb24od29yZCkge1xuXHRcdFx0XHRpZih3b3JkID09IHZhbHVlKSByZXR1cm5PYmplY3Rba2V5XSA9IHRydWU7XG5cdFx0XHRcdGVsc2UgcmV0dXJuT2JqZWN0W2tleV0gPSBmYWxzZTtcblx0XHRcdH0pO1xuXG5cdFx0XHQvL2lmKGtleS5jb250YWlucyh2YWx1ZSkpIHJldHVybk9iamVjdFtrZXldID0gdHJ1ZTtcblx0XHRcdC8vZWxzZSByZXR1cm5PYmplY3Rba2V5XSA9IGZhbHNlO1xuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIHJldHVybk9iamVjdDtcblx0fVxuXG59XHQiLCIvLyBNT0RVTEVcbnZhciB0cnVtcHNOdXRzID0gYW5ndWxhci5tb2R1bGUoJ3RydW1wc051dHMnLCBbJ25nUm91dGUnXSk7XG5cbiJdfQ==
